webpackJsonp([0],Array(361).concat([function(t,e,a){function n(t){return a(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./404.vue":123,"./Blank.vue":124,"./Home.vue":125,"./IFrame.vue":126,"./Login.vue":66,"./Main.vue":127,"./OffLine.vue":102,"./ResetPasswordView.vue":128,"./baseData/brandManage/BrandClsEdit.vue":387,"./baseData/brandManage/BrandEdit.vue":388,"./baseData/brandManage/BrandManage.vue":531,"./baseData/dictionaryManage/DictionaryEdit.vue":389,"./baseData/dictionaryManage/DictionaryManage.vue":532,"./baseData/libraryPositionManage/LibraryPositionEdit.vue":390,"./baseData/libraryPositionManage/LibraryPositionManage.vue":533,"./baseData/meterialManage/MeterialEdit.vue":391,"./baseData/meterialManage/MeterialManage.vue":534,"./baseData/ownerManage/OwnerEdit.vue":392,"./baseData/ownerManage/OwnerManage.vue":535,"./baseData/physicalWeightManage/PhysicalWeightEdit.vue":393,"./baseData/physicalWeightManage/PhysicalWeightManage.vue":536,"./baseData/productArea/ProductAreaEdit.vue":394,"./baseData/productArea/ProductAreaManager.vue":537,"./cost/costBalanceAdd/CostBalanceAddEdit.vue":395,"./cost/costBalanceAdd/CostBalanceAddManage.vue":367,"./cost/costBalanceBillList/CostBalanceBillList.vue":538,"./cost/costBalanceBookList/CostBalanceBookList.vue":539,"./cost/costBalanceBookList/CostInvoiceEdit.vue":396,"./cost/costBalanceManage/CostBalanceManage.vue":370,"./cost/costBalanceManage/CostSelectItem.vue":369,"./cost/costOtherBillManage/CostOtherBillManage.vue":540,"./cost/costRegularManage/CostRegularEdit.vue":397,"./cost/costRegularManage/CostRegularManage.vue":541,"./demo/demo1.vue":542,"./demo/demoGrid.vue":543,"./demo/demoTable.vue":544,"./rbac/rolePermissionManage/RolePermissionEdit.vue":398,"./rbac/rolePermissionManage/RolePermissionManage.vue":545,"./rbac/userDepartmentManage/DepartmentEdit.vue":399,"./rbac/userDepartmentManage/UserDepartmentManage.vue":546,"./rbac/userDepartmentManage/UserEdit.vue":400,"./wms/noteAdjust/NoteAdjustEdit.vue":374,"./wms/noteAdjust/NoteAdjustGrid.vue":547,"./wms/noteAdjust/NoteAdjustManage.vue":548,"./wms/noteAdjust/NoteAdjustPrint.vue":375,"./wms/noteLock/NoteLockEdit.vue":376,"./wms/noteLock/NoteLockGrid.vue":549,"./wms/noteLock/NoteLockManage.vue":550,"./wms/noteLock/NoteLockPrint.vue":377,"./wms/noteTransfer/NoteTransferEdit.vue":378,"./wms/noteTransfer/NoteTransferGrid.vue":551,"./wms/noteTransfer/NoteTransferManage.vue":552,"./wms/noteTransfer/NoteTransferPrint.vue":379,"./wms/noteWhsIn/NoteWhsInEdit.vue":380,"./wms/noteWhsIn/NoteWhsInGrid.vue":553,"./wms/noteWhsIn/NoteWhsInManage.vue":554,"./wms/noteWhsIn/NoteWhsInPrint.vue":381,"./wms/noteWhsMove/NoteWhsMoveEdit.vue":382,"./wms/noteWhsMove/NoteWhsMoveGrid.vue":555,"./wms/noteWhsMove/NoteWhsMoveManage.vue":556,"./wms/noteWhsMove/NoteWhsMovePrint.vue":383,"./wms/noteWhsOut/NoteWhsOutEdit.vue":384,"./wms/noteWhsOut/NoteWhsOutGrid.vue":557,"./wms/noteWhsOut/NoteWhsOutManage.vue":558,"./wms/noteWhsOut/NoteWhsOutPrint.vue":385,"./wms/noteWhsStock/NoteWhsStockGrid.vue":559,"./wms/stock/SelectStock.vue":129};n.keys=function(){return Object.keys(i)},n.resolve=o,t.exports=n,n.id=361},function(t,e,a){a(514);var n=a(0)(a(408),a(613),"data-v-88ca8bda",null);t.exports=n.exports},function(t,e,a){a(506);var n=a(0)(a(409),a(596),"data-v-53bbcb9f",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(410),a(592),null,null);t.exports=n.exports},function(t,e,a){a(505);var n=a(0)(a(411),a(595),"data-v-4f9d6e3c",null);t.exports=n.exports},function(t,e,a){a(518);var n=a(0)(a(412),a(619),"data-v-ab64c586",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(429),a(562),null,null);t.exports=n.exports},function(t,e,a){!function(e,a){t.exports=a()}(window,function(){return function(t){function e(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var o in t)e.d(n,o,function(e){return t[e]}.bind(null,o));return n},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}({"./src/index.js":/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a(/*! ./sass/index.scss */"./src/sass/index.scss");var n=a(/*! ./js/init */"./src/js/init.js"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),i=o.default.init;"undefined"!=typeof window&&(window.printJS=i),e.default=i},"./src/js/browser.js":/*!***************************!*\
  !*** ./src/js/browser.js ***!
  \***************************/
/*! no static exports found */
function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!n.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")}};e.default=n},"./src/js/functions.js":/*!*****************************!*\
  !*** ./src/js/functions.js ***!
  \*****************************/
/*! no static exports found */
function(t,e,a){"use strict";function n(t,e){return'<div style="font-family:'+e.font+" !important; font-size: "+e.font_size+' !important; width:100%;">'+t+"</div>"}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function i(t,e){var a=document.defaultView||window,n="",o=a.getComputedStyle(t,"");return Object.keys(o).map(function(t){(-1!==e.targetStyles.indexOf("*")||-1!==e.targetStyle.indexOf(o[t])||r(e.targetStyles,o[t]))&&o.getPropertyValue(o[t])&&(n+=o[t]+":"+o.getPropertyValue(o[t])+";")}),n+="max-width: "+e.maxWidth+"px !important;"+e.font_size+" !important;"}function r(t,e){for(var a=0;a<t.length;a++)if("object"===(void 0===e?"undefined":c(e))&&-1!==e.indexOf(t[a]))return!0;return!1}function s(t,e){for(var a=0;a<t.length;a++){var n=t[a];if(-1===e.ignoreElements.indexOf(n.getAttribute("id"))){var o=n.tagName;if("INPUT"===o||"TEXTAREA"===o||"SELECT"===o){var r=i(n,e),l=n.parentNode,c="SELECT"===o?document.createTextNode(n.options[n.selectedIndex].text):document.createTextNode(n.value),p=document.createElement("div");p.appendChild(c),p.setAttribute("style",r),l.appendChild(p),l.removeChild(n)}else n.setAttribute("style",i(n,e));var m=n.children;m&&m.length&&s(m,e)}else n.parentNode.removeChild(n)}}function l(t,e,a){var n=document.createElement("h1"),o=document.createTextNode(e);n.appendChild(o),n.setAttribute("style",a),t.insertBefore(n,t.childNodes[0])}Object.defineProperty(e,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.addWrapper=n,e.capitalizePrint=o,e.collectStyles=i,e.loopNodesCollectStyles=s,e.addHeader=l},"./src/js/html.js":/*!************************!*\
  !*** ./src/js/html.js ***!
  \************************/
/*! no static exports found */
function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(/*! ./functions */"./src/js/functions.js"),o=a(/*! ./print */"./src/js/print.js"),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={print:function(t,e){var a=document.getElementById(t.printable);if(!a)return window.console.error("Invalid HTML element id: "+t.printable),!1;var o=document.createElement("div");if(o.appendChild(a.cloneNode(!0)),o.setAttribute("style","height:0; overflow:hidden;"),o.setAttribute("id","printJS-html"),a.parentNode.appendChild(o),o=document.getElementById("printJS-html"),!0===t.scanStyles){t.honorMarginPadding&&t.targetStyles.push("margin","padding"),t.honorColor&&t.targetStyles.push("color"),o.setAttribute("style",(0,n.collectStyles)(o,t)+"margin:0 !important;");var r=o.children;(0,n.loopNodesCollectStyles)(r,t)}t.header&&(0,n.addHeader)(o,t.header,t.headerStyle),o.parentNode.removeChild(o),t.htmlData=(0,n.addWrapper)(o.innerHTML,t),i.default.send(t,e)}}},"./src/js/image.js":/*!*************************!*\
  !*** ./src/js/image.js ***!
  \*************************/
/*! no static exports found */
function(t,e,a){"use strict";function n(t,e){var a=[];return e.printable.forEach(function(n,i){var r=document.createElement("img");r.src=n,a.push(o(t,e,r,i))}),Promise.all(a)}function o(t,e,a,n){return new Promise(function(o){a.onload=function(){var i=document.createElement("div");i.setAttribute("style",e.imageStyle),a.setAttribute("style","width:100%;"),a.setAttribute("id","printableImage"+n),i.appendChild(a),t.appendChild(i),o()}})}Object.defineProperty(e,"__esModule",{value:!0});var i=a(/*! ./functions */"./src/js/functions.js"),r=a(/*! ./print */"./src/js/print.js"),s=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={print:function(t,e){t.printable.constructor!==Array&&(t.printable=[t.printable]);var a=document.createElement("div");a.setAttribute("style","width:100%"),n(a,t).then(function(){t.header&&(0,i.addHeader)(a,t.header,t.headerStyle),t.htmlData=a.outerHTML,s.default.send(t,e)})}}},"./src/js/init.js":/*!************************!*\
  !*** ./src/js/init.js ***!
  \************************/
/*! no static exports found */
function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=a(/*! ./browser */"./src/js/browser.js"),r=n(i),s=a(/*! ./modal */"./src/js/modal.js"),l=n(s),c=a(/*! ./pdf */"./src/js/pdf.js"),p=n(c),m=a(/*! ./html */"./src/js/html.js"),d=n(m),u=a(/*! ./image */"./src/js/image.js"),h=n(u),_=a(/*! ./json */"./src/js/json.js"),f=n(_),b=["pdf","html","image","json"];e.default={init:function(){var t={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(t){throw t},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:null,onPdfOpen:null,modalMessage:"Retrieving Document...",frameId:"printJS",htmlData:"",documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],imageStyle:"width:100%;",repeatTableHeader:!0,css:null,style:null,scanStyles:!0},e=arguments[0];if(void 0===e)throw new Error("printJS expects at least 1 attribute.");switch(void 0===e?"undefined":o(e)){case"string":t.printable=encodeURI(e),t.fallbackPrintable=t.printable,t.type=arguments[1]||t.type;break;case"object":t.printable=e.printable,t.fallbackPrintable=void 0!==e.fallbackPrintable?e.fallbackPrintable:t.printable,t.type=void 0!==e.type?e.type:t.type,t.frameId=void 0!==e.frameId?e.frameId:t.frameId,t.header=void 0!==e.header?e.header:t.header,t.headerStyle=void 0!==e.headerStyle?e.headerStyle:t.headerStyle,t.maxWidth=void 0!==e.maxWidth?e.maxWidth:t.maxWidth,t.font=void 0!==e.font?e.font:t.font,t.font_size=void 0!==e.font_size?e.font_size:t.font_size,t.honorMarginPadding=void 0!==e.honorMarginPadding?e.honorMarginPadding:t.honorMarginPadding,t.properties=void 0!==e.properties?e.properties:t.properties,t.gridHeaderStyle=void 0!==e.gridHeaderStyle?e.gridHeaderStyle:t.gridHeaderStyle,t.gridStyle=void 0!==e.gridStyle?e.gridStyle:t.gridStyle,t.showModal=void 0!==e.showModal?e.showModal:t.showModal,t.onError=void 0!==e.onError?e.onError:t.onError,t.onLoadingStart=void 0!==e.onLoadingStart?e.onLoadingStart:t.onLoadingStart,t.onLoadingEnd=void 0!==e.onLoadingEnd?e.onLoadingEnd:t.onLoadingEnd,t.onPrintDialogClose=void 0!==e.onPrintDialogClose?e.onPrintDialogClose:t.onPrintDialogClose,t.onPdfOpen=void 0!==e.onPdfOpen?e.onPdfOpen:t.onPdfOpen,t.modalMessage=void 0!==e.modalMessage?e.modalMessage:t.modalMessage,t.documentTitle=void 0!==e.documentTitle?e.documentTitle:t.documentTitle,t.targetStyle=void 0!==e.targetStyle?e.targetStyle:t.targetStyle,t.targetStyles=void 0!==e.targetStyles?e.targetStyles:t.targetStyles,t.ignoreElements=void 0!==e.ignoreElements?e.ignoreElements:t.ignoreElements,t.imageStyle=void 0!==e.imageStyle?e.imageStyle:t.imageStyle,t.repeatTableHeader=void 0!==e.repeatTableHeader?e.repeatTableHeader:t.repeatTableHeader,t.css=void 0!==e.css?e.css:t.css,t.style=void 0!==e.style?e.style:t.style,t.scanStyles=void 0!==e.scanStyles?e.scanStyles:t.scanStyles;break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+(void 0===e?"undefined":o(e)))}if(!t.printable)throw new Error("Missing printable information.");if(!t.type||"string"!=typeof t.type||-1===b.indexOf(t.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");t.showModal&&l.default.show(t),t.onLoadingStart&&t.onLoadingStart();var a=document.getElementById(t.frameId);a&&a.parentNode.removeChild(a);var n=void 0;switch(n=document.createElement("iframe"),n.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute;"),n.setAttribute("id",t.frameId),"pdf"!==t.type&&(n.srcdoc="<html><head><title>"+t.documentTitle+"</title>",null!==t.css&&(Array.isArray(t.css)||(t.css=[t.css]),t.css.forEach(function(t){n.srcdoc+='<link rel="stylesheet" href="'+t+'">'})),n.srcdoc+="</head><body></body></html>"),t.type){case"pdf":if(r.default.isFirefox()||r.default.isEdge()||r.default.isIE())try{console.info("PrintJS currently doesn't support PDF printing in Firefox, Internet Explorer and Edge.");window.open(t.fallbackPrintable,"_blank").focus(),t.onPdfOpen&&t.onPdfOpen()}catch(e){t.onError(e)}finally{t.showModal&&l.default.close(),t.onLoadingEnd&&t.onLoadingEnd()}else p.default.print(t,n);break;case"image":h.default.print(t,n);break;case"html":d.default.print(t,n);break;case"json":f.default.print(t,n)}}}},"./src/js/json.js":/*!************************!*\
  !*** ./src/js/json.js ***!
  \************************/
/*! no static exports found */
function(t,e,a){"use strict";function n(t){var e=t.printable,a=t.properties,n='<table style="border-collapse: collapse; width: 100%;">';t.repeatTableHeader&&(n+="<thead>"),n+="<tr>";for(var o=0;o<a.length;o++)n+='<th style="width:'+a[o].columnSize+";"+t.gridHeaderStyle+'">'+(0,i.capitalizePrint)(a[o].displayName)+"</th>";n+="</tr>",t.repeatTableHeader&&(n+="</thead>"),n+="<tbody>";for(var r=0;r<e.length;r++){n+="<tr>";for(var s=0;s<a.length;s++){var l=e[r],c=a[s].field.split(".");if(c.length>1)for(var p=0;p<c.length;p++)l=l[c[p]];else l=l[a[s].field];n+='<td style="width:'+a[s].columnSize+t.gridStyle+'">'+l+"</td>"}n+="</tr>"}return n+="</tbody></table>"}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=a(/*! ./functions */"./src/js/functions.js"),r=a(/*! ./print */"./src/js/print.js"),s=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={print:function(t,e){if("object"!==o(t.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof t.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!t.properties||!Array.isArray(t.properties))throw new Error("Invalid properties array for your JSON data.");t.properties=t.properties.map(function(e){return{field:"object"===(void 0===e?"undefined":o(e))?e.field:e,displayName:"object"===(void 0===e?"undefined":o(e))?e.displayName:e,columnSize:"object"===(void 0===e?"undefined":o(e))&&e.columnSize?e.columnSize+";":100/t.properties.length+"%;"}});var a="";t.header&&(a+='<h1 style="'+t.headerStyle+'">'+t.header+"</h1>"),a+=n(t),t.htmlData=(0,i.addWrapper)(a,t),s.default.send(t,e)}}},"./src/js/modal.js":/*!*************************!*\
  !*** ./src/js/modal.js ***!
  \*************************/
/*! no static exports found */
function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={show:function(t){var e=document.createElement("div");e.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),e.setAttribute("id","printJS-Modal");var a=document.createElement("div");a.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),a.appendChild(o);var i=document.createElement("span");i.setAttribute("class","printSpinner"),a.appendChild(i);var r=document.createTextNode(t.modalMessage);a.appendChild(r),e.appendChild(a),document.getElementsByTagName("body")[0].appendChild(e),document.getElementById("printClose").addEventListener("click",function(){n.close()})},close:function(){var t=document.getElementById("printJS-Modal");t.parentNode.removeChild(t)}};e.default=n},"./src/js/pdf.js":/*!***********************!*\
  !*** ./src/js/pdf.js ***!
  \***********************/
/*! no static exports found */
function(t,e,a){"use strict";function n(t,e){e.setAttribute("src",t.printable),i.default.send(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=a(/*! ./print */"./src/js/print.js"),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={print:function(t,e){if(t.printable=/^(blob|http)/i.test(t.printable)?t.printable:window.location.origin+("/"!==t.printable.charAt(0)?"/"+t.printable:t.printable),t.showModal||t.onLoadingStart){var a=new window.XMLHttpRequest;a.responseType="arraybuffer",a.addEventListener("load",function(){var o=new window.Blob([a.response],{type:"application/pdf"});o=window.URL.createObjectURL(o),t.printable=o,n(t,e)}),a.open("GET",t.printable,!0),a.send()}else n(t,e)}}},"./src/js/print.js":/*!*************************!*\
  !*** ./src/js/print.js ***!
  \*************************/
/*! no static exports found */
function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(t.focus(),p.default.isEdge()||p.default.isIE())try{t.contentWindow.document.execCommand("print",!1,null)}catch(e){t.contentWindow.print()}else t.contentWindow.print()}function i(t){if(t.showModal&&d.default.close(),t.onLoadingEnd&&t.onLoadingEnd(),(t.showModal||t.onLoadingStart)&&window.URL.revokeObjectURL(t.printable),t.onPrintDialogClose){var e="mouseover";(p.default.isChrome()||p.default.isFirefox())&&(e="focus");var a=function a(){window.removeEventListener(e,a),t.onPrintDialogClose()};window.addEventListener(e,a)}}function r(t,e){try{o(t,e)}catch(t){e.onError(t)}finally{i(e)}}function s(t,e){var a=[];return e.printable.forEach(function(e,n){return a.push(l(t,n))}),Promise.all(a)}function l(t,e){return new Promise(function(a){!function n(){var o=t?t.getElementById("printableImage"+e):null;o&&void 0!==o.naturalWidth&&0!==o.naturalWidth?a():setTimeout(n,500)}()})}Object.defineProperty(e,"__esModule",{value:!0});var c=a(/*! ./browser */"./src/js/browser.js"),p=n(c),m=a(/*! ./modal */"./src/js/modal.js"),d=n(m),u={send:function(t,e){document.getElementsByTagName("body")[0].appendChild(e);var a=document.getElementById(t.frameId);"pdf"===t.type&&(p.default.isIE()||p.default.isEdge())?a.setAttribute("onload",r(a,t)):e.onload=function(){if("pdf"===t.type)r(a,t);else{var e=a.contentWindow||a.contentDocument;if(e.document&&(e=e.document),e.body.innerHTML=t.htmlData,"pdf"!==t.type&&null!==t.style){var n=document.createElement("style");n.innerHTML=t.style,e.head.appendChild(n)}"image"===t.type?s(e,t).then(function(){r(a,t)}):r(a,t)}}}};e.default=u},"./src/sass/index.scss":/*!*****************************!*\
  !*** ./src/sass/index.scss ***!
  \*****************************/
/*! no static exports found */
function(t,e,a){},0:/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
function(t,e,a){t.exports=a(/*! ./src/index.js */"./src/index.js")}}).default})},function(t,e,a){var n=a(0)(a(434),a(589),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(433),a(572),null,null);t.exports=n.exports},,function(t,e,a){a(519);var n=a(0)(a(401),a(624),null,null);t.exports=n.exports},function(t,e,a){a(510);var n=a(0)(a(407),a(605),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(446),a(621),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(449),a(614),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(450),a(585),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(453),a(567),null,null);t.exports=n.exports},function(t,e,a){a(498);var n=a(0)(a(454),a(568),"data-v-10cbbfbe",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(457),a(561),null,null);t.exports=n.exports},function(t,e,a){a(520);var n=a(0)(a(458),a(627),"data-v-eb6da626",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(461),a(606),null,null);t.exports=n.exports},function(t,e,a){a(501);var n=a(0)(a(462),a(579),"data-v-3165a6c5",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(465),a(560),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(466),a(583),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(469),a(629),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(404),a(615),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(413),a(587),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(414),a(607),null,null);t.exports=n.exports},function(t,e,a){a(503);var n=a(0)(a(416),a(593),"data-v-4bf7ab96",null);t.exports=n.exports},function(t,e,a){a(511);var n=a(0)(a(418),a(608),"data-v-771a03ca",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(420),a(610),null,null);t.exports=n.exports},function(t,e,a){a(500);var n=a(0)(a(422),a(575),"data-v-29f5b028",null);t.exports=n.exports},function(t,e,a){a(513);var n=a(0)(a(424),a(612),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(426),a(602),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(428),a(622),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(432),a(590),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(436),a(578),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(441),a(569),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(443),a(586),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(445),a(591),null,null);t.exports=n.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(8);a.n(n),a(4);e.default={props:{labelName:String,data:Array,menuStyle:String,height:String,filedName:String,valueKey:String,classClick:Function},data:function(){return{}},computed:{realStyle:function(){return this.menuStyle?this.menuStyle:this.height?"height:"+this.height+"px":""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pm_context_menu",data:function(){return{checkList:{type:Object,default:function(){return{}}}}},props:{items:{type:Array,default:function(){return[]}},colsKey:String},mounted:function(){if(this.colsKey){var t=this.$cacheUtil.getCache("DicVisibelCols");t&&t[this.colsKey]&&(this.checkList=t[this.colsKey])}},methods:{addRef:function(t,e){this.$refs.contextmenu.addRef({el:t,vnode:e})},confirmContext:function(){this.visiCols(),this.$refs.contextmenu.hide()},visiCols:function(){var t=this;this.items.forEach(function(e){t.checkList.hasOwnProperty(e.componentOptions.propsData.prop)&&t.checkList[e.componentOptions.propsData.prop]?e.child.visible=!1:e.child.visible=!0});var e=this.$cacheUtil.getCache("DicVisibelCols");if(e&&e[this.colsKey])e[this.colsKey]=this.checkList,this.$cacheUtil.setCache("DicVisibelCols",e);else{var a={};a[this.colsKey]=this.checkList,this.$cacheUtil.setCache("DicVisibelCols",a)}}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(386),o=a.n(n);e.default={components:{pm_tree_item:o.a},data:function(){return{}},props:{showField:{type:String,require:!0},keyField:{type:String,require:!0},getInfo:Function,dicClassList:Array},methods:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pm_tree_item",data:function(){return{}},props:{menus:{type:Array},showField:{type:String,require:!0},keyField:{type:String,require:!0},clickFunc:Function},methods:{hasChild:function(t){return!!(t.children&&t.children.length>0)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),o=a(471),i=a(1);e.default={name:"treeTable",props:{data:{type:[Array,Object],required:!0},columns:{type:Array,default:function(){return[{text:"名称",value:"label"},{text:"路径",value:"memo"}]}},evalFunc:Function,evalArgs:Array,expandAll:{type:Boolean,default:!1},placeholder:{type:String,required:!1,default:"请选择"}},data:function(){return{showStatus:!1,labelModel:""}},computed:{formatData:function(){var t=void 0;t=Array.isArray(this.data)?this.data:[this.data];var e=this.evalFunc||o.a,a=this.evalArgs?Array.concat([t,this.expandAll],this.evalArgs):[t,this.expandAll];return e.apply(null,a)}},methods:{showRow:function(t){var e=!t.row.parent||t.row.parent._expanded&&t.row.parent._show;return t.row._show=e,e?"animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;":"display:none;"},toggleExpanded:function(t){var e=this.formatData[t];e._expanded=!e._expanded},iconShow:function(t,e){return 0===t&&e.children&&e.children.length>0},onShowPopover:function(){this.showStatus=!0},onHidePopover:function(){this.showStatus=!1},getValue:function(t){this.$refs.this.labelModel=t.memo},loadCache:function(){var t=i.a.getDic().WhsLevel.list,e=[];return t.array.forEach(function(t){n.default.set(t,"children",[]),e.push(t)}),e}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{data:Array},data:function(){return{defaultProps:{children:"children",label:"label"}}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(8),o=(a.n(n),a(29));a.n(o),a(10);e.default={components:{"el-upload":n.Upload},props:{labelName:{type:String,default:"点击上传"},readOnly:{type:Boolean,default:!1},IsShow:{type:Boolean,default:!0},action:{type:String,default:""},request:{type:Function},fileList:{type:Array,default:function(){return[]}},isSingle:{type:Boolean,default:!1},btnIcon:String},data:function(){return{resultList:[],url:"",autoUpload:!1,newFileList:[],deleteFileList:[],realDisabled:{type:Boolean,default:!1}}},created:function(){this.realDisabled=this.readOnly,this.resultList=this.getResultList()},watch:{readOnly:function(t,e){this.realDisabled=t}},mounted:function(){void 0!=this.request&&(this.autoUpload=!0)},methods:{getResultList:function(){var t=this.$commonUtil.deepClone(this.fileList),e=!0,a=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var r=o.value;r.name=r.fileName,r.storeName=r.uid}}catch(t){a=!0,n=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw n}}return t},handleRemove:function(t,e){var a=0;if(0!=t.fileStatus)this.deleteFileList.push(t);else{this.newFileList.splice(t.index,1);for(var n=0;n<this.newFileList.length;n++)this.newFileList[n].index=n;var o=!0,i=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){0!=s.value.fileStatus&&a++}}catch(t){i=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(i)throw r}}this.resultList.splice(t.index+a,1);for(var c=0;n<this.newFileList.length;c++)this.newFileList[c].index=c}console.log(t,e)},handleBefore:function(t){},handlePreview:function(t){var e=this;this.$commonUtil.message.confirm("是否下载该文件?",function(){e.$httpUtil.postForFile("file/downloadFile",t,t.name,function(t){})})},handleExceed:function(t,e){},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},setDisabled:function(t){this.realDisabled=t},change:function(t,e){var a=this.getUUid(),n=e;t.uuid=a,t.storeName=a,this.isSingle&&(this.newFileList=[],this.resultList=[]),0===this.resultList.length&&(t.fileStatus=0,t.index=0,this.newFileList.push(t));for(var o=0;o<this.resultList.length;o++){var i=this.resultList[o];if(i.name==t.name){for(var r=0;r<this.deleteFileList.length;r++)t.name==this.deleteFileList[r].name&&this.newFileList.push(t);n=this.resultList;break}o===this.resultList.length-1&&(0!=i.fileStatus?t.index=0:t.index=i.index+1,t.fileStatus=0,this.newFileList.push(t))}this.resultList=n.slice(0)},success:function(t,e,a){alert("上传成功"),this.$refs.upload.clearFiles()},error:function(t,e,a){alert("上传失败"+t),this.$refs.upload.clearFiles()},getNewFileList:function(){return this.newFileList},getDeleteFileList:function(){return this.deleteFileList},clearAllFile:function(){this.newFileList=[],this.deleteFileList=[]},getUUid:function(){for(var t=[],e="0123456789abcdef",a=0;a<36;a++)t[a]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"metro_page"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"metro_page_box"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"metro_page_box_body"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"metro_page_box_tool_bar",props:{buttons:{type:Array,default:[]}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"metro_pageheader",props:{menuPathArray:{type:Array,default:[]}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(118),o=(a.n(n),a(117)),i=a.n(o),r=a(69),s=a.n(r),l=a(115),c=a.n(l),p=a(39),m=a(7);e.default={components:{pm_form_item:i.a,pm_toolButton:s.a,pm_tool_bar:c.a},data:function(){return{rules:{name:[{required:!0,message:"请输入品类名称",trigger:"blur"}]},deptTree:[],formModel:null}},methods:{confirm_func:function(){var t=this;this.formModel.parent||(this.formModel.parent="0"),this.$refs.mainForm.validate(this,function(e){"add"==t.formModel.editFlag?m.a.post("product/addBaseClass",t.formModel,function(e){t.$message({message:"新增品类成功",type:"success"}),t.$options.parent.loadTree(),t.closeWin()}):"edit"==t.formModel.editFlag&&m.a.post("product/updateBaseClass",t.formModel,function(e){t.$message({message:"修改品类成功",type:"success"}),t.$options.parent.loadTree(),t.closeWin()})})},findParent:function(t,e){for(var a=0;a<t.length;a++){var n=t[a];if(n.id==e)return n;if(n.children){var o=this.findParent(n.children,e);if(o)return o}}return null},closeWin:p.a.closeWin},created:function(){this.deptTree=JSON.parse(this.$options.propsData.list),this.formModel=JSON.parse(this.$options.propsData.entity);var t=this.findParent(this.deptTree,this.formModel.parentId);t&&this.$set(this.formModel,"parentName",t.name)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(39),o=(a(28),a(122)),i=a.n(o),r=a(118),s=(a.n(r),a(117)),l=a.n(s),c=a(69),p=a.n(c),m=a(115),d=a.n(m);e.default={components:{x_table:i.a,pm_form_item:l.a,pm_toolButton:p.a,pm_tool_bar:d.a},data:function(){return{formModel:{},rules:{name:[{required:!0,message:"请输入品名名称",trigger:"blur"}],skuProperty:[{required:!0,message:"请选择sku属性",trigger:"blur"}],brandTextureList:[{required:!0,message:"请选择材质",trigger:"blur"}],whsoutType:[{required:!0,message:"请选择出库方式",trigger:"blur"}]}}},created:function(){this.formModel=this.getFormModel()},methods:{getFormModel:function(){var t=JSON.parse(this.$options.propsData.entity);return null==t.skuProperty&&this.$set(t,"skuProperty",[]),null==t.id&&this.$set(t,"skuProperty",["brandId","textureId","spec","producingId"]),null!=t.textureList&&t.textureList.length>0?this.$set(t,"brandTextureList",t.textureList.map(function(t){return t.id})):this.$set(t,"brandTextureList",[]),t},refreshList:function(){this.$options.parent.refreshList(),this.closeWin()},btn_save:function(){var t=this.$commonUtil.deepClone(this.formModel);t.brandTextureList=t.brandTextureList.map(function(t){return{textureId:t}}),t.skuProperties=t.skuProperty.join(",");var e=this;this.$refs.mainForm.validate(this,function(a){null==t.id?e.$httpUtil.post("product/addBrand",t,function(t){e.$message({message:"品名新增成功",type:"success"}),e.refreshList()}):e.$httpUtil.post("product/updateBrand",t,function(t){e.$message({message:"品名修改成功",type:"success"}),e.refreshList()})})},closeWin:n.a.closeWin}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(118),o=(a.n(n),a(117)),i=a.n(o),r=a(120),s=a.n(r),l=a(69),c=a.n(l),p=a(115),m=a.n(p),d=a(116),u=a.n(d),h=a(70),_=a.n(h),f=a(7),b=a(28),v=a(119),g=a.n(v),y=a(372),x=a.n(y),w=a(528),N=a.n(w),I=a(386),S=a.n(I),D=(a(10),a(388)),$=a.n(D),T=a(387),C=a.n(T);e.default={components:{pm_search:s.a,pm_form_item:i.a,pm_toolButton:c.a,pm_tool_bar:m.a,pm_table:u.a,pm_column:_.a,pm_pagination:g.a,pm_dicMenu:x.a,pm_tree:N.a,pm_tree_item:S.a},data:function(){return{dicClassList:[],dataSource:[],selectClass:{},config:{entity:b.a.baseDictionary,dbclick:this.editWin},defaultProps:{children:"children",label:"name",id:"id"},searchFields:[{displayName:"品名名称",fieldName:"name",xtype:"text",searchLoc:"1-1-8-8-0"},{displayName:"品名助记码",fieldName:"mnemonicCode",xtype:"text",searchLoc:"1-2-8-8-0"},{displayName:"",fieldName:"btn_search",xtype:"btn",searchLoc:"1-3-6-8-2"}],totalSize:0}},mounted:function(){this.loadTree()},methods:{loadTree:function(){var t=this;this.$httpUtil.post("product/getBaseClassList",null,function(e){if(e){var a={deleteFlag:!1,id:0,name:"品类",parentId:"",children:e};t.dicClassList=[a]}})},treeNodeChange:function(t,e){this.selectClass=t,this.queryData({})},getSelectedClass:function(){var t=this.$refs.mainTree.getCurrentNode();return null==t&&this.$commonUtil.valid.throwEx("请选择一个品类节点"),t},addClass_func:function(t){var e=this.getSelectedClass(),a={editFlag:"add",parentId:e.id};this.$layer.iframe({content:{content:C.a,parent:this,data:{list:JSON.stringify(this.dicClassList),entity:JSON.stringify(a)}},area:["400px","260px"],shadeClose:!1,title:"新增品类"})},editClass_func:function(t){var e=t;e.editFlag="edit",this.$layer.iframe({content:{content:C.a,parent:this,data:{list:JSON.stringify(this.dicClassList),entity:JSON.stringify(e)}},area:["400px","260px"],shadeClose:!1,title:"编辑品类"})},removeClass_func:function(t){var e=t,a=this;this.$commonUtil.message.confirm("确认删除选择的品类【"+e.name+"】吗?",function(){var t=this;f.a.post("product/deleteBaseClass",e,function(e){t.getDepartmentTree(),a.message.alert("删除成功!","success")})})},addWin:function(){var t=this.getSelectedClass();this.$layer.iframe({content:{content:$.a,parent:this,data:{entity:JSON.stringify({classId:t.id})}},area:["600px","400px"],title:"新增品名",shadeClose:!1})},editWin:function(t,e){var a=this;this.$httpUtil.post("product/getBaseBrandInfo",t.id,function(e){a.$layer.iframe({content:{content:$.a,parent:a,data:{key:t.id,entity:JSON.stringify(e)}},area:["600px","400px"],title:"编辑品名["+t.name+"]",shadeClose:!1})})},deleteInfo:function(){var t=this,e=this.$refs.pmTable.currentRow;e||this.$commonUtil.valid.throwEx("至少选择一条数据");var a=this;this.$commonUtil.message.confirm("请确认是否废弃选中品名["+e.name+"]信息?",function(){f.a.post("product/deleteBrand",e,function(e){t.$message({message:"作废品名成功",type:"success"}),a.refreshList()})})},refreshList:function(){this.queryData()},queryData:function(t){this.$refs.pager.refreshData(t)},getList:function(t,e,a){var n=null;n=null!=a?a:this.$refs.pm_search.getParam(),n.page=t,n.size=e;var o=this.$refs.mainTree.getCurrentNode();n.classId=o?o.id:null;var i=this;f.a.post("product/getBaseBrandList",n,function(t){i.dataSource=t.content,i.totalSize=t.total},null,!1)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=a(7),$=a(28),T=a(39),C=a(119),k=a.n(C);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:k.a},data:function(){return{config:{entity:$.a.baseDictionary},rules:{},editFlag:"",readOnlyStatus:{},formModel:Object}},computed:{},created:function(){this.formModel=this.getFormModel()},methods:{getFormModel:function(){return JSON.parse(this.$options.propsData.entity)},saveInfo:function(){var t=this;this.$refs.dicForm.validate(),"add"==this.formModel.editFlag?D.a.post("dict/addDicEntity",this.formModel,function(e){t.$message({message:"新增字典成功",type:"success"}),t.refreshMain(),t.closeWin()}):D.a.post("dict/updateDicEntity",this.formModel,function(e){t.$message({message:"修改字典成功",type:"success"}),t.refreshMain(),t.closeWin()})},refreshMain:function(){var t=this.$options.parent;t&&t.queryData&&t.queryData()},closeWin:T.a.closeWin}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=a(7),$=a(28),T=a(119),C=a.n(T),k=a(372),E=a.n(k),L=a(389),F=a.n(L);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:C.a,pm_dicMenu:E.a},data:function(){return{dicClassList:[],selectClass:{},dataSource:[],config:{entity:$.a.baseDictionary,dbclick:this.editWin,showSummary:!1},disableButton:!0,totalSize:0}},mounted:function(){var t=this;D.a.post("dict/getDicClass",null,function(e){t.dicClassList=e})},methods:{getDicInfo:function(t,e){var a=this,n=this.selectClass;n.page=t,n.size=e,D.a.post("dict/getDicEntityByPage",n,function(t){a.dataSource=t.content,a.totalSize=t.total},null,!1)},queryData:function(){this.$refs.pager.refreshData()},changeClass:function(t){this.selectClass=t,3!=this.selectClass.type?this.disableButton=!0:this.disableButton=!1,this.queryData()},addWin:function(){var t=this.selectClass;if(t.editFlag="add",!t.classCode)return void this.$message({message:"请先选择一条字典分类!",type:"fail"});this.$layer.iframe({content:{content:F.a,parent:this,data:{entity:JSON.stringify(t)}},area:["500px","300px"],shadeClose:!1,title:"新增字典"})},editWin:function(){var t=this.$refs.pmTable.currentRow;if(t.editFlag="update",!t)return void this.$message({message:"请先选择一条字典分类!",type:"fail"});this.$layer.iframe({content:{content:F.a,parent:this,data:{entity:JSON.stringify(t)}},area:["500px","300px"],shadeClose:!1,title:"修改字典"})},deleteInfo:function(){var t=this,e=this,a=this.$refs.pmTable.currentRow;return a?1==a.deleteFlag?void this.$message({message:"无法废弃禁用的字典项!",type:"fail"}):void this.$confirm("是否确定废弃该字典项","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){D.a.post("dict/deleteDic",a,function(a){t.$message({message:"废弃字典信息成功",type:"success"}),e.queryData()})}).catch(function(){}):void this.$message({message:"请先选择一条字典分类!",type:"fail"})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=a(7),$=a(39),T=a(28),C=a(119),k=a.n(C);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:k.a},data:function(){return{config:{entity:T.a.storeLocation},rules:{},editFlag:"",readOnlyStatus:{},formModel:null}},watch:{"formModel.level":function(){1==this.formModel.level&&"add"==this.editFlag?(this.$refs.form_whs.readOnly=!0,this.$refs.form_type.readOnly=!1,this.$set(this.formModel,"whsRoomId",null)):2==this.formModel.level&&"add"==this.editFlag&&(this.$refs.form_whs.readOnly=!1,this.$refs.form_type.readOnly=!0,this.$set(this.formModel,"type",null))}},mounted:function(){this.editFlag=this.$options.propsData.editFlag,"add"==this.editFlag?this.$set(this.formModel,"level",1):"update"==this.editFlag&&(this.$refs.form_level.readOnly=!0,this.$refs.form_whs.readOnly=!0,this.$refs.form_type.readOnly=!0)},created:function(){if(null==this.formModel){var t=JSON.parse(this.$options.propsData.entity);t.type||this.$set(t,"type",1),this.formModel=t}},methods:{refreshMain:function(){this.$options.parent.queryData()},saveInfo:function(){var t=this;this.$refs.lpForm.validate();var e=this.formModel,a=this;"add"==this.editFlag?(2==e.level&&(e.whsRoomId||this.$commonUtil.valid.throwEx(this,"新增库区级别信息,所选库房必填！")),D.a.post("store/addStoreLocation",e,function(e){t.$message({message:"添加成功",type:"success"}),a.refreshMain(),a.closeWin()})):"update"==this.editFlag&&D.a.post("store/updateStoreLocatin",e,function(e){t.$message({message:"更新成功",type:"success"}),a.refreshMain(),a.closeWin()})},closeWin:$.a.closeWin}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(364),l=a.n(s),c=a(365),p=a.n(c),m=a(69),d=a.n(m),u=a(115),h=a.n(u),_=a(118),f=(a.n(_),a(117)),b=a.n(f),v=a(116),g=a.n(v),y=a(70),x=a.n(y),w=a(119),N=a.n(w),I=a(7),S=a(120),D=a.n(S),$=a(28),T=a(390),C=a.n(T);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_body:l.a,metro_page_box_tool_bar:p.a,pm_form_item:b.a,pm_table:g.a,pm_search:D.a,pm_column:x.a,pm_toolButton:d.a,pm_tool_bar:h.a,pm_pagination:N.a},data:function(){return{dataSource:[],totalSize:0,queryFields:{mnemonicCode:null},config:{entity:$.a.storeLocation,dbclick:this.editWin,showSummary:!1},searchFields:[{displayName:"库位",fieldName:"whsRoomId",xtype:"tree_select",searchLoc:"1-1-6-4-0",parentName:"whsRoomId",childName:"whsAreaId"},{displayName:"",fieldName:"btn_search",xtype:"btn",searchLoc:"1-2-4-8-14"}]}},methods:{getData:function(t,e){var a=this,n=this.queryFields;n.page=t,n.size=e,I.a.post("store/getStoreLocationByPage",n,function(t){a.dataSource=t.content,a.totalSize=t.total})},addWin:function(){this.$layer.iframe({content:{content:C.a,parent:this,data:{editFlag:"add",entity:JSON.stringify({})}},area:["1000px","250px"],shadeClose:!1,title:"新增信息"})},editWin:function(){var t=this.$refs.pmTable.currentRow;if(!t)return void this.$alert("请先选择一条信息","提示");this.$layer.iframe({content:{content:C.a,parent:this,data:{editFlag:"update",entity:JSON.stringify(t)}},area:["1000px","250px"],shadeClose:!1,title:"修改信息"})},deleteInfo:function(){var t=this,e=this.$refs.pmTable.currentRow;if(!e)return void this.$message({message:"请先选择一条信息!",type:"fail"});var a=this;I.a.post("store/deleteStoreLocatin",e,function(e){t.$message({message:"废弃库区信息成功!",type:"success"}),a.queryData()})},queryData:function(){this.queryFields=this.$refs.pm_search.getParam(),this.$refs.search_pagination.refreshData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(a(7),a(39)),o=(a(28),a(10),a(122)),i=a.n(o),r=a(118),s=(a.n(r),a(117)),l=a.n(s),c=a(120),p=a.n(c),m=a(116),d=a.n(m),u=a(70),h=a.n(u),_=a(69),f=a.n(_),b=a(115),v=a.n(b);e.default={components:{x_table:i.a,pm_search:p.a,pm_form_item:l.a,pm_table:d.a,pm_column:h.a,pm_toolButton:f.a,pm_tool_bar:v.a},data:function(){return{formModel:{},rules:{name:[{required:!0,message:"请输入材质名称",trigger:"blur"}]}}},computed:{},created:function(){this.formModel=this.getFormModel()},methods:{getFormModel:function(){return JSON.parse(this.$options.propsData.entity)},refreshList:function(){this.$options.parent.refreshList(),this.closeWin()},btn_save:function(){var t=this,e=this.$commonUtil.deepClone(this.formModel);this.$refs.demoForm.validate(this,function(a){null==e.id?t.$httpUtil.post("base/addBaseTexture",e,function(e){t.$layer.msg("材质新增成功!"),t.refreshList()}):t.$httpUtil.post("base/updateBaseTexture",e,function(e){t.$layer.msg("材质修改成功!"),t.refreshList()})})},queryData:function(t){console.log(t)},getParam:function(){console.log(this.formModel),this.$refs.demoForm.validate()},getTableInfo:function(t){console.log(t)},closeWin:n.a.closeWin}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(120),h=a.n(u),_=a(116),f=a.n(_),b=a(70),v=a.n(b),g=a(7),y=(a(28),a(10),a(119)),x=a.n(y),w=a(69),N=a.n(w),I=a(115),S=a.n(I),D=a(391),$=a.n(D);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:h.a,pm_table:f.a,pm_column:v.a,pm_pagination:x.a,pm_toolButton:N.a,pm_tool_bar:S.a},data:function(){return{dataSource:[],config:{entity:null,allowEdit:!1,multiple:!1,showSummary:!1,dbclick:this.editWin},totalSize:0,searchFields:[{displayName:"材质名称",fieldName:"name",xtype:"text",searchLoc:"1-1-8-8-0"},{displayName:"助记码",fieldName:"mnemonicCode",xtype:"text",searchLoc:"1-2-8-8-0"},{displayName:"",fieldName:"btn_search",xtype:"btn",searchLoc:"1-3-4-8-4"}]}},methods:{addWin:function(){this.$layer.iframe({content:{content:$.a,parent:this,data:{entity:JSON.stringify({})}},area:["400px","300px"],shadeClose:!1,title:"添加材质"})},editWin:function(t,e){var a=this;a.$layer.iframe({content:{content:$.a,parent:a,data:{key:t.id,entity:JSON.stringify(t)}},area:["400px","300px"],shadeClose:!1,title:"编辑材质["+t.name+"]"})},getParam:function(){console.log(this.formModel),this.$refs.demoForm.validate()},queryData:function(){this.$refs.pager.refreshData()},getList:function(t,e){var a=this.$refs.pm_search.getParam();a.page=t,a.size=e;var n=this;g.a.post("base/getBaseTextureList",a,function(t){n.dataSource=t.content,n.totalSize=t.total})},getTableInfo:function(t){console.log("以下是获取整个Table的数据")},refreshList:function(){var t=this.$refs.pm_search.getParam();t.page=0,this.$refs.pager.curPage=0,this.queryData(t)},btn_func:function(){var t=this,e=this.getSelectRow(),a=this;this.$confirm("确认作废选中的材质数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){g.a.post("base/deleteBaseTexture",e,function(e){t.$message({message:"作废材质成功",type:"success"}),a.refreshList()})})},getSelectRow:function(){var t=this.$refs.pmTable.currentRow;return t||this.$commonUtil.valid.throwEx(this,"请先选择一条信息"),t}}}},function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0});var o=a(362),i=a.n(o),r=a(363),s=a.n(r),l=a(365),c=a.n(l),p=a(364),m=a.n(p),d=a(366),u=a.n(d),h=a(118),_=(a.n(h),a(117)),f=a.n(_),b=a(120),v=a.n(b),g=a(69),y=a.n(g),x=a(115),w=a.n(x),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(7),T=a(39),C=a(28),k=a(119),E=a.n(k);e.default={components:{metro_page:i.a,metro_page_box:s.a,metro_page_box_tool_bar:c.a,metro_page_box_body:m.a,metro_pageheader:u.a,pm_search:v.a,pm_form_item:f.a,pm_toolButton:y.a,pm_tool_bar:w.a,pm_table:I.a,pm_column:D.a,pm_pagination:E.a},data:function(){var t=function(t,e,a){var n=/^1[3|4|5|7|8][0-9]\d{8}$/;e&&!n.test(e)?a(new Error("手机格式不正确")):a()};return n({config:{entity:C.a.baseCst},rules:{},editFlag:"",readOnlyStatus:{},formModel:Object},"rules",{contactPersonPhone:[{trigger:"blur",validator:t}]})},created:function(){this.formModel=this.getFormModel()},watch:{"formModel.settleType":function(t,e){2==t?(this.formModel.finalRepayDate=null,this.$refs.finalRepayDate.readOnly=!0):this.$refs.finalRepayDate.readOnly=!1}},methods:{getFormModel:function(){var t=JSON.parse(this.$options.propsData.entity);return t.deleteFlag=t.deleteFlag?1:0,this.editFlag=this.$options.propsData.editFlag,"add"==this.editFlag?(this.$set(t,"settleType",1),this.readOnlyStatus.deleteFlag=!0,this.readOnlyStatus.finalRepayDate=!1):"update"==this.editFlag&&(this.readOnlyStatus.deleteFlag=!1,this.readOnlyStatus.finalRepayDate=!0),t},isReadOnly:function(t){return this.readOnlyStatus[t]},refreshMain:function(){this.$options.parent.queryData()},saveInfo:function(){var t=this;this.$refs.owForm.validate();var e=this.formModel,a=this;1!=e.settleType||e.finalRepayDate||this.$commonUtil.valid.throwEx(this,"统结货主必须填写最后还款日期!"),"add"==this.editFlag?$.a.post("cst/addCst",e,function(e){t.$message({message:"添加客户成功",type:"success"}),a.refreshMain(),a.closeWin()}):"update"==this.editFlag&&$.a.post("cst/updateCst",e,function(e){t.$message({message:"更新客户成功",type:"success"}),a.refreshMain(),a.closeWin()})},closeWin:T.a.closeWin}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(364),l=a.n(s),c=a(365),p=a.n(c),m=a(118),d=(a.n(m),a(117)),u=a.n(d),h=a(116),_=a.n(h),f=a(70),b=a.n(f),v=a(119),g=a.n(v),y=a(7),x=a(69),w=a.n(x),N=a(115),I=a.n(N),S=a(120),D=a.n(S),$=a(28),T=a(392),C=a.n(T);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_body:l.a,metro_page_box_tool_bar:p.a,pm_form_item:u.a,pm_table:_.a,pm_search:D.a,pm_column:b.a,pm_toolButton:w.a,pm_pagination:g.a,pm_tool_bar:I.a},data:function(){return{dataSource:[],totalSize:0,queryFields:{},config:{entity:$.a.baseCst,dbclick:this.editWin,showSummary:!1},searchFields:[{displayName:"客户",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-1-8-8-0"},{displayName:"助记码",fieldName:"mnemonicCode",xtype:"text",searchLoc:"1-2-8-8-0"},{displayName:"",fieldName:"btn_search",xtype:"btn",searchLoc:"1-3-4-8-4"}]}},methods:{getData:function(t,e){var a=this,n=this.queryFields;n.page=t,n.size=e,n.cstNo=n.cstId,y.a.post("cst/getCstByPage",n,function(t){a.dataSource=t.content,a.totalSize=t.total})},queryData:function(){this.queryFields=this.$refs.pm_search.getParam(),this.$refs.search_pagination.refreshData()},addWin:function(){this.$layer.iframe({content:{content:C.a,parent:this,data:{editFlag:"add",entity:JSON.stringify({})}},area:["1000px","450px"],shadeClose:!1,title:"新增货主信息"})},editWin:function(){var t=this.$refs.pmTable.currentRow;if(!t)return void this.$message("请先选择一条信息");this.$layer.iframe({content:{content:C.a,parent:this,data:{editFlag:"update",entity:JSON.stringify(t)}},area:["1000px","450px"],shadeClose:!1,title:"修改货主信息"})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=(a(7),a(28)),$=a(119),T=a.n($),C=a(1),k=a(39);a(10);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:T.a},data:function(){return{formModel:{},config:{entity:D.a.physicalWeight},rules:{brandId:[{required:!0,message:"请输入品名",trigger:"blur"}],weight:[{required:!0,message:"请输入重量",trigger:"blur"}],spec:[{required:!0,message:"请输入规格",trigger:"blur"}],adjustmentType:[{required:!0,message:"请输入理算方式",trigger:"blur"}]}}},watch:{"formModel.adjustmentType":function(){2==this.formModel.adjustmentType?(this.$set(this.formModel,"amount",1),this.$refs.form_amount.readOnly=!0):(this.$set(this.formModel,"amount",null),this.$refs.form_amount.readOnly=!1)}},created:function(){this.formModel=this.getFormModel()},methods:{getFormModel:function(){return JSON.parse(this.$options.propsData.entity)},refreshList:function(){this.$options.parent.refreshList(),this.closeWin()},btn_save:function(){var t=this,e=this.$commonUtil.deepClone(this.formModel),a=this;this.$refs.pwForm.validate(this,function(n){var o=C.a.getDic().BrandNameList.list;e.name=o.filter(function(t){return t.id===a.formModel.brandId})[0].name;var i=C.a.getDic().PlaceList.list;a.$commonUtil.IsNull(a.formModel.producingId)||(e.producingArea=i.filter(function(t){return t.id===a.formModel.producingId})[0].placeFullName),1==e.adjustmentType&&t.$commonUtil.IsNull(a.formModel.producingId)&&t.$commonUtil.valid.throwEx("理算方式为按件方式,产地不可以为空！"),null==e.id?t.$httpUtil.post("base/addBasePhysicalWeight",e,function(e){t.$message({message:"理重新增成功!",type:"success"}),t.refreshList()}):t.$httpUtil.post("base/updateBasePhysicalWeight",e,function(e){t.$message({message:"理重编辑成功!",type:"success"}),t.refreshList()})})},closeWin:k.a.closeWin}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(364),l=a.n(s),c=a(365),p=a.n(c),m=a(118),d=(a.n(m),a(117)),u=a.n(d),h=a(116),_=a.n(h),f=a(70),b=a.n(f),v=a(119),g=a.n(v),y=a(7),x=(a(10),a(120)),w=a.n(x),N=a(28),I=a(69),S=a.n(I),D=a(115),$=a.n(D),T=a(393),C=a.n(T);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_body:l.a,metro_page_box_tool_bar:p.a,pm_form_item:u.a,pm_table:_.a,pm_search:w.a,pm_column:b.a,pm_pagination:g.a,pm_toolButton:S.a,pm_tool_bar:$.a},data:function(){return{dataSource:[],totalSize:0,config:{entity:N.a.physicalWeight,height:550,dbclick:this.editWin,showSummary:!1},searchFields:[{displayName:"品名",fieldName:"name",xtype:"text",searchLoc:"1-1-6-4-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"1-2-6-4-0"},{displayName:"理算方式",fieldName:"adjustmentType",xtype:"select",searchLoc:"1-3-6-6-0"},{displayName:"",fieldName:"btn_search",xtype:"btn",searchLoc:"1-4-4-1-2"}]}},methods:{queryData:function(){this.$refs.pager.refreshData()},getList:function(t,e){var a=this.$refs.pm_search.getParam();a.page=t,a.size=e;var n=this;y.a.post("base/getBasePhysicalWeightList",a,function(t){n.dataSource=t.content,n.totalSize=t.total})},addWin:function(){this.$layer.iframe({content:{content:C.a,parent:this,data:{entity:JSON.stringify({})}},area:["1000px","200px"],shadeClose:!1,title:"理算信息新增"})},editWin:function(t,e){var a=this;a.$layer.iframe({content:{content:C.a,parent:a,data:{key:t.id,entity:JSON.stringify(t)}},area:["1000px","200px"],shadeClose:!1,title:"编辑理重["+t.name+"]"})},refreshData:function(){this.$refs.search_pagination.refreshData()},btn_del:function(){var t=this,e=this.getSelectRow();this.$confirm("确认作废选中的理重数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){y.a.post("base/deleteBasePhysicalWeight",e,function(e){t.$message({message:"作废理重成功",type:"success"}),t.refreshList()})})},refreshList:function(){var t=this.$refs.pm_search.getParam();t.page=0,this.$refs.pager.curPage=0,this.queryData(t)},getSelectRow:function(){var t=this.$refs.pmTable.currentRow;return t||this.$commonUtil.valid.throwEx(this,"请先选择一条信息"),t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(a(7),a(39)),o=(a(28),a(10),a(122)),i=a.n(o),r=a(118),s=(a.n(r),a(117)),l=a.n(s),c=a(120),p=a.n(c),m=a(116),d=a.n(m),u=a(70),h=a.n(u),_=a(69),f=a.n(_),b=a(115),v=a.n(b);e.default={components:{x_table:i.a,pm_search:p.a,pm_form_item:l.a,pm_table:d.a,pm_column:h.a,pm_toolButton:f.a,pm_tool_bar:v.a},data:function(){return{formModel:{},rules:{name:[{required:!0,message:"请输入产地名称",trigger:"blur"}]}}},created:function(){this.formModel=this.getFormModel()},methods:{getFormModel:function(){return JSON.parse(this.$options.propsData.entity)},refreshList:function(){this.$options.parent.refreshList(),this.closeWin()},btn_save:function(){var t=this,e=this.$commonUtil.deepClone(this.formModel);e.placeFullName=e.placeShortName,this.$refs.paForm.validate(this,function(a){null==e.id?t.$httpUtil.post("base/addBasePlace",e,function(e){t.$message({message:"产地新增成功!",type:"success"}),t.refreshList()}):t.$httpUtil.post("base/updateBasePlace",e,function(e){t.$message({message:"产地修改成功!",type:"success"}),t.refreshList()})})},queryData:function(t){console.log(t)},getParam:function(){this.$refs.paForm.validate()},getTableInfo:function(t){console.log(t)},closeWin:n.a.closeWin}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(120),h=a.n(u),_=a(116),f=a.n(_),b=a(70),v=a.n(b),g=a(7),y=(a(28),a(10),a(119)),x=a.n(y),w=a(69),N=a.n(w),I=a(115),S=a.n(I),D=a(394),$=a.n(D);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:h.a,pm_table:f.a,pm_column:v.a,pm_pagination:x.a,pm_toolButton:N.a,pm_tool_bar:S.a},data:function(){return{dataSource:[],config:{entity:null,allowEdit:!1,multiple:!1,showSummary:!1,dbclick:this.editWin},totalSize:0,searchFields:[{displayName:"产地名称",fieldName:"placeFullName",xtype:"text",searchLoc:"1-1-8-8-0"},{displayName:"助记码",fieldName:"mnemonicCode",xtype:"text",searchLoc:"1-2-8-8-0"},{displayName:"",fieldName:"btn_search",xtype:"btn",searchLoc:"1-3-4-8-4"}]}},methods:{btn_func_export:function(t){this.exportExcel(t)},addWin:function(){this.$layer.iframe({content:{content:$.a,parent:this,data:{entity:JSON.stringify({})}},area:["400px","350px"],shadeClose:!1,title:"添加产地"})},editWin:function(t,e){var a=this;a.$layer.iframe({content:{content:$.a,parent:a,data:{key:t.id,entity:JSON.stringify(t)}},area:["400px","350px"],shadeClose:!1,title:"编辑产地["+t.placeShortName+"]"})},refreshList:function(){var t=this.$refs.pm_search.getParam();t.page=0,this.$refs.pager.curPage=0,this.queryData(t)},getParam:function(){console.log(this.formModel),this.$refs.demoForm.validate()},queryData:function(){this.$refs.pager.refreshData()},getList:function(t,e){var a=this.$refs.pm_search.getParam();a.page=t,a.size=e;var n=this;g.a.post("base/getBasePlaceList",a,function(t){n.dataSource=t.content,n.totalSize=t.total})},btn_func:function(){var t=this,e=this.getSelectRow();this.$confirm("确认作废选中的产地数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){g.a.post("base/deleteBasePlace",e,function(e){t.$message({message:"作废产地成功",type:"success"}),t.refreshList()})})},getSelectRow:function(){var t=this.$refs.pmTable.currentRow;return t||this.$commonUtil.valid.throwEx(this,"请先选择一条信息"),t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(118),d=(a.n(m),a(117)),u=a.n(d),h=a(69),_=a.n(h),f=a(115),b=a.n(f),v=a(116),g=a.n(v),y=a(70),x=a.n(y),w=a(71),N=a.n(w),I=a(28),S=(a(10),a(1),a(7)),D=a(119),$=a.n(D),T=a(369),C=(a.n(T),a(39));e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,pm_tool_bar:b.a,pm_toolButton:_.a,pm_table:g.a,pm_column:x.a,metro_page_box_body:p.a,pm_form_item:u.a,pm_radio:N.a,pm_pagination:$.a},data:function(){return{dataSource:[],dataList:[],config:{entity:I.a.regular,allowEdit:!0,multiple:!1},rules:{},formModel:{},counter:0,totalSize:0,group:[{key:1,value:"是"},{key:2,value:"否"}]}},created:function(){this.getFormModel()},watch:{costType:function(t,e){void 0!=e&&this.changeValue(t)},isUnifyUnitPrice:function(t,e){this.$refs.setUnitPrice.disabled=1!=t}},computed:{costType:function(){return this.formModel.costType},isUnifyUnitPrice:function(){return this.formModel.isUnifyUnitPrice}},methods:{Init:function(t){t.costType=1,t.rangeApply=1},changeValue:function(t){for(var e=this,a=[],n=0;n<this.dataList.length;n++)if(0==n)this.dataList[n].brandId,this.dataList[n].regularType=t,a.push(this.dataList[n]);else{if(this.dataList[n].brandId)continue;this.dataList[n].regularType=t,a.push(this.dataList[n])}S.a.post("regular/getRegularDetailBS",a,function(t){e.dataSource=t})},closeWin:C.a.closeWin,saveInfo:function(){var t=this.dataSource,e=this.wrapData(this.dataList,t);this.$options.propsData.selected(e),this.closeWin()},getFormModel:function(){var t=JSON.parse(this.$options.propsData.entity),e=t.list;this.dataSource=e,this.formModel=t,this.dataList=t.detailList,this.dataList.forEach(function(e){e.businessNo=t.businessNo,e.costType=t.regularType,e.rangeApply=t.rangeApply,e.regularUnit=t.regularUnit,e.cstId=t.cstId})},wrapData:function(t,e){var a=this.formModel;return t.forEach(function(t){t.costType=a.costType,e.forEach(function(e){t.brandId===e.brandId&&(t.unitprice=e.unitprice,t.regularDetailNo=e.regularDetailNo)})}),t},setUnitprice:function(){var t=this.formModel.unifyUnitPrice;this.dataSource.forEach(function(e){e.unitprice=t})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(118),d=(a.n(m),a(117)),u=a.n(d),h=a(69),_=a.n(h),f=a(115),b=a.n(f),v=a(116),g=a.n(v),y=a(70),x=a.n(y),w=a(71),N=a.n(w),I=a(28),S=(a(10),a(1),a(7)),D=a(119),$=a.n(D),T=a(369),C=a.n(T),k=a(395),E=a.n(k),L=a(40),F=a(41);a.n(F);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,pm_tool_bar:b.a,pm_toolButton:_.a,pm_table:g.a,pm_column:x.a,metro_page_box_body:p.a,pm_form_item:u.a,pm_radio:N.a,pm_pagination:$.a},data:function(){return{dataSource:[],dataSource1:[],dataSource2:[],config1:{entity:I.a.regular,allowEdit:!0,multiple:!1},config2:{entity:I.a.regular,allowEdit:!1,multiple:!1},rules:{},counter:0,totalSize:0,group:[{key:1,value:"净重"},{key:2,value:"毛重"},{key:3,value:"磅重"}],formModel:{},changeBtn:!1,selectBtn:!1,costBtn:!1}},created:function(){this.formModel=this.getFormModel()},watch:{weightType:function(t,e){if(void 0!=e){this.changeDetail(t)}}},computed:{weightType:function(){return this.formModel.weightType}},mounted:function(){void 0!=this.formModel.businessOtherNo&&(this.changeBtn=!0)},methods:{getFormModel:function(){var t=this,e=this.$options.parent.propsData.entity;return e.balanceCompanyId=e.cstId,e.actMoney=0,e.detailList.forEach(function(t){t.balanceNode=t.businessType}),void 0!=e.businessOtherNo&&(e.businessNo=e.businessOtherNo,this.$set(e,"weightType",e.balanceWeightType),e.detailList.forEach(function(a){a.regularUnit=parseInt(a.regularUnit),a.balanceNode=void 0,1==a.costType?(t.$set(a,"settleExpress","结算单价*待结算量*(仓储天数-免仓储天数)"),t.$set(a,"settleAmt",a.unitprice*a.balancePreNum*(a.whsDayNum-a.whsFreedayNum)),t.$set(a,"settleActAmt",a.unitprice*a.balancePreNum*(a.whsDayNum-a.whsFreedayNum))):1==e.balanceWeightType?(t.$set(a,"settleExpress","结算单价*商品净重"),t.$set(a,"settleAmt",a.unitprice*a.netWeight),t.$set(a,"settleActAmt",a.unitprice*a.netWeight)):2==e.balanceWeightType?(t.$set(a,"settleExpress","结算单价*商品毛重"),t.$set(a,"settleAmt",a.unitprice*a.grossWeight),t.$set(a,"settleActAmt",a.unitprice*a.grossWeight)):(t.$set(a,"settleExpress","结算单价*商品磅重"),t.$set(a,"settleAmt",a.unitprice*a.poundWeight),t.$set(a,"settleActAmt",a.unitprice*a.poundWeight))}),this.dataSource1=e.detailList),e.remark="",e.balanceNo=this.$commonUtil.appConst.nullNo,this.dataSource=e.detailList,console.log(e),e},getDate:function(t,e){var a=t.substr(0,10),n=e.substr(0,10),o=new Date(a);return(new Date(n)-o)/1e3/60/60/24+1},changeDetail:function(t){var e=this;this.$refs.pmTable1.updateRow(function(a,n){1==a.costType?(a.balancePreNum=1==t?a.netWeight:2==t?a.grossWeight:a.poundWeight,e.$set(a,"settleExpress","结算单价*待结算量*(仓储天数-免仓储天数)"),a.settleAmt=a.unitprice*a.balancePreNum*(a.whsDayNum-a.whsFreedayNum),a.settleActAmt=a.settleAmt):1==t?(a.balancePreNum=a.netWeight,a.settleAmt=a.unitprice*a.netWeight,a.settleActAmt=a.settleAmt,e.$set(a,"settleExpress","结算单价*商品净重")):2==t?(a.balancePreNum=a.grossWeight,a.settleAmt=a.unitprice*a.grossWeight,a.settleActAmt=a.settleAmt,e.$set(a,"settleExpress","结算单价*商品毛重")):(a.balancePreNum=a.poundWeight,a.settleAmt=a.unitprice*a.poundWeight,a.settleActAmt=a.settleAmt,e.$set(a,"settleExpress","结算单价*商品磅重"))})},queryData:function(t){t.size||(t.size=this.$refs.pager.pageSize);var e=this;S.a.post("balance/queryBalanceDetail",t,function(t){t.content.forEach(function(t){t.producingId=t.productPlace,t.textureId=t.material,t.unitprice=t.settleUnitprice}),e.dataSource2=t.content,e.totalSize=t.total}),this.$refs.pageControl.refreshData()},getList:function(t,e){var a={};a.page=t,a.size=e,this.queryData(a)},addDetail:function(){var t=this,e=this,a=this.formModel;a.rangeApply=1,a.costType=1,a.regularUnit=1,a.isUnifyUnitPrice=2;for(var n,o=this.formModel.detailList,i=[],r=0;r<o.length;r++){var s={};if(0===r)n=o[r].brandId,s.brandId=n,s.cstId=a.cstId,s.regularType=1,i.push(s);else{if(o[r].brandId===n)continue;s.brandId=o[r].brandId,s.cstId=a.cstId,s.regularType=1,i.push(s)}}var l=this.dataSource1;S.a.post("regular/getRegularDetailBS",i,function(n){n.forEach(function(t){t.cstId=a.cstId});var o=n;a.list=o,t.$layer.iframe({content:{content:E.a,parent:e,data:{entity:JSON.stringify(a),selected:function(t){console.log(t),t.forEach(function(t){if(e.wrapData(a,t,e),0!=l.length){var n=0;l.forEach(function(e){if(e.costType===t.costType&&e.packNo===t.packNo)return void(n=0);n++}),0!=n&&e.dataSource1.push(t)}else e.dataSource1.push(t)})}}},area:["650px","500px"],shadeClose:!1,title:"计费项目选择"})})},selectDetail:function(t){var e=this,a=this.dataSource1;this.$layer.iframe({content:{content:C.a,parent:this,data:{entity:JSON.stringify({cstIdNo:this.formModel.cstId}),selected:function(t){console.log(t);t.forEach(function(t){if(e.wrapData(e.formModel,t),0!=a.length){var n=0;a.forEach(function(e){if(e.costType===t.costType&&e.packNo===t.packNo)return void(n=0);n++}),0!=n&&e.dataSource1.push(t)}else e.dataSource1.push(t)}),e.changeBtn=!0}}},area:["1000px","600px"],shadeClose:!1,title:"待结算明细"})},deleteDetail:function(){var t=this.$refs.pmTable1.currentRow;if(void 0==t)return void this.$message.error("请选择一笔资料");var e=[];e.push(t),5==t.businessType?this.$commonUtil.removeSelectedRows(e,this.dataSource1,function(t,e){return t.costType==e.costType&&t.packNo==e.packNo}):this.$commonUtil.removeSelectedRows2(e,this.dataSource1),0==this.$refs.pmTable1.getTableInfo().length&&(this.costBtn=!1,this.changeBtn=!1,this.selectBtn=!1)},clearDetail:function(){var t=this.$refs.pmTable1.getTableInfo(),e=0;t.forEach(function(t){e=t.businessType}),5==e?this.$commonUtil.removeSelectedRows(t,this.dataSource1,function(t,e){return t.costType==e.costType&&t.packNo==e.packNo}):this.$commonUtil.removeSelectedRows2(t,this.dataSource1),this.costBtn=!1,this.changeBtn=!1,this.selectBtn=!1},addCostBill:function(){var t=this,e=this;this.$refs.demoForm.validate(this);var a=this.formModel;if(0===this.dataSource1.length)return void this.$message.error("请至少添加一笔明细");var n=this.$commonUtil.appConst.deepClone(this.dataSource1);n.forEach(function(t){t.id=void 0,t.balanceNum=0,0!=t.whsFreeDayNum&&(t.whsFreedayNum=t.whsFreeDayNum)}),a.detail=n,S.a.post("costCommon/addCostBill",a,function(a){t.$message({message:"保存计费单成功",type:"success"}),e.costBtn=!0,e.changeBtn=!0})},addCostBalanceBill:function(){var t=this,e={},a=this;if(e.bla=this.formModel,e.blaList=this.formModel,this.$refs.demoForm.validate(this),0===this.dataSource1.length)return void this.$message.error("请至少添加一笔明细");var n=this.$commonUtil.appConst.deepClone(this.dataSource1);n.forEach(function(t){t.id=void 0,t.balanceNum=t.balancePreNum,t.whsFreedayNum=t.whsFreeDayNum,t.settleUnitprice=t.unitprice}),e.blaList.cstId=this.formModel.cstId,e.blaList.createDate=this.formModel.createDate,e.blaList.balanceNo=this.formModel.balanceNo,e.blaList.balanceCompanyId=this.formModel.balanceCompanyId,e.blaList.actMoney=this.formModel.actMoney,e.blaList.balanceType=this.formModel.balanceType,e.blaList.businessType=this.formModel.businessType,e.blaList.businessNo=this.formModel.businessNo,e.blaList.auditTime=this.formModel.auditTime,e.blaList.id=void 0,e.bla.detail=n,e.bla.balanceCompanyId=this.formModel.balanceCompanyId,e.bla.weightType=this.formModel.weightType,e.bla.cstId=this.formModel.cstId,e.bla.createDate=this.formModel.createDate,e.bla.actMoney=this.formModel.actMoney,e.bla.amtMoney=this.formModel.amtMoney,e.bla.balanceType=this.formModel.balanceType,e.bla.businessNo=this.formModel.businessNo,e.bla.payType=this.formModel.payType,e.bla.id=void 0,1==this.formModel.isBalance?e.bla.balanceStatus=2:e.bla.balanceStatus=1,e.blaList.details=n,S.a.post("costCommon/addCostBalanceBill",e,function(e){t.$message({message:"保存结算单成功",type:"success"}),a.costBtn=!0,a.changeBtn=!0,a.selectBtn=!0,a.formModel.balanceNo=e.data.balanceNo})},printCostBalanceBill:function(){},wrapData:function(t,e){if(void 0!=e.whsInFirstDate?this.$set(e,"whsInFirstDate",e.whsInFirstDate):this.$set(e,"whsInFirstDate",e.whsinTime),this.$set(e,"businessType",this.formModel.businessType),e.whsFreedayNum||e.whsFreeDayNum||(this.$set(e,"whsFreeDayNum",0),this.$set(e,"whsFreedayNum",0)),!e.whsDayNum){var a=L.a.formatDate.format(new Date,"yyyy-MM-dd hh:mm:ss");this.$set(e,"whsDayNum",this.getDate(e.whsInFirstDate,a))}var n=e.costType;delete e.costType,this.$set(e,"costType",n),1==t.weightType?(e.balancePreNum=e.netWeight,1==e.costType?(e.settleAmt=e.unitprice*e.balancePreNum*(e.whsDayNum-e.whsFreedayNum),e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(e.settleAmt=e.unitprice*e.netWeight,e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*商品净重")):2==t.weightType?(e.balancePreNum=e.grossWeight,1==e.costType?(e.settleAmt=e.unitprice*e.balancePreNum*(e.whsDayNum-e.whsFreedayNum),e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(e.settleAmt=e.unitprice*e.grossWeight,e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*商品毛重")):(e.balancePreNum=e.poundWeight,1==e.costType?(e.settleAmt=e.unitprice*e.balancePreNum*(e.whsDayNum-e.whsFreedayNum),e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(e.settleAmt=e.unitprice*e.poundWeight,e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*商品磅重"))}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(7),T=a(10),C=a(28),k=a(119),E=a.n(k),L=a(370),F=a.n(L),M=a(370);a.n(M);e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:E.a},data:function(){return{dataSource:[],totalData:null,config:{entity:C.a.regular,allowEdit:!1,multiple:!0},totalSize:0,searchFields:[{displayName:"费用类型",fieldName:"costType",xtype:"select",searchLoc:"1-1-8-8-0"},{displayName:"业务类型",fieldName:"businessType",xtype:"select",searchLoc:"1-2-8-8-0"},{displayName:"单据号",fieldName:"businessNo",xtype:"text",searchLoc:"1-3-8-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"2-1-8-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"2-2-8-8-0"},{displayName:"状态",fieldName:"balanceStatus",xtype:"select",searchLoc:"2-3-8-8-0"},{displayName:"创建时间",fieldName:"createTime",xtype:"datetimerange",searchLoc:"3-3-16-4-0"}]}},methods:{queryData:function(){var t=this;this.getData(function(e){t.totalData=e.content,t.$refs.pager.refreshData()})},getBalanceList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();n.page=e||0,n.size=a||1e5,n.createDateStart=n.createTimeBegin,n.createDateEnd=n.createTimeEnd,$.a.post("BalanceList/queryBalanceList",n,function(e){e.content.forEach(function(t){t.textureId=t.material,t.producingId=t.productPlace,1==t.costType?t.amtMoney=t.balancePreNum*t.unitprice*(t.whsDayNum-t.whsFreeDayNum):t.amtMoney=t.balancePreNum*t.unitprice,void 0==t.transferNum&&(t.transferNum=0)}),t&&t(e)})},settle:function(){var t,e,a=this.$refs.pmTable.getSelectedRows();if(0===a.length)return void this.$message.error("请至少选择一笔资料");for(var n=0;n<a.length;n++)0===n&&(e=a[n].cstId),e!=a[n].cstId&&T.a.valid.throwEx("请选择相同货主的计费单资料"),1!=a[n].balanceStatus&&T.a.valid.throwEx("请选择待结算的计费单资料！"),t=a[n].cstId,a[n].textureId=a[n].material,a[n].producingId=a[n].productPlace;var o={};o.cstId=t,o.settleCompanyId=t,o.detailList=a;var i={component:F.a,parent:this,propsData:o,name:"新增结算单"};this.$tab.open(i)},closeCase:function(){var t=this,e=this,a=this.$refs.pmTable.getSelectedRows();if(0===a.length)return void this.$message.error("请至少选择一笔资料");a.forEach(function(t){2!=t.balanceStatus&&T.a.valid.throwEx("只能结案已结算的计费单，请检查!")}),$.a.post("BalanceList/closeBalanceList",a,function(a){t.$message({message:"计费单结案成功",type:"success"}),e.queryData()})},remove:function(){var t=this,e=this,a=this.$refs.pmTable.getSelectedRows();if(0===a.length)return void this.$message.error("请至少选择一笔资料");a.forEach(function(t){1!=t.balanceStatus&&T.a.valid.throwEx("只能作废待结算的计费单，请检查!")}),$.a.post("BalanceList/deleteBalanceList",a,function(a){t.$message({message:"计费单作废成功",type:"success"}),e.queryData()})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(7),T=a(28),C=(a(10),a(119)),k=a.n(C),E=a(370),L=a.n(E),F=a(396),M=a.n(F),W=a(1);e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:k.a},data:function(){return{dataSource:[],dataSource1:[],totalData:null,totalData1:null,config:{entity:T.a.regular,allowEdit:!1,multiple:!1,dbclick:this.doubleClick},totalSize:0,totalSize1:0,activeName:"main",searchFields:[{displayName:"结算单位",fieldName:"balanceCompanyId",xtype:"search_select_input",searchLoc:"1-1-6-10-0"},{displayName:"货主",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-2-6-7-0"},{displayName:"结算方式",fieldName:"balanceType",xtype:"select",searchLoc:"1-3-6-9-0"},{displayName:"业务单据号",fieldName:"businessNo",xtype:"text",searchLoc:"1-4-6-10-0"},{displayName:"结算清单号",fieldName:"balanceNo",xtype:"text",searchLoc:"2-1-6-10-0"},{displayName:"发票号",fieldName:"invoiceNo",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"外部单据号",fieldName:"businessOtherNo",xtype:"text",searchLoc:"2-3-6-10-0"},{displayName:"结算状态",fieldName:"balanceStatus",xtype:"select",searchLoc:"2-4-6-10-0"},{displayName:"付款方式",fieldName:"payType",xtype:"select",searchLoc:"3-1-6-10-0"},{displayName:"是否存在实结金额",fieldName:"IsSettleAmt",xtype:"radio",value:1,searchLoc:"3-2-9-10-0",group:[{key:0,value:"全部"},{key:1,value:"是"},{key:2,value:"否"}]},{displayName:"制单人",fieldName:"creatorName",xtype:"text",searchLoc:"3-3-9-15-0",value:W.a.getUser().configUser.name,disabled:"true"},{displayName:"制单日期",fieldName:"createTime",xtype:"daterange",searchLoc:"4-1-12-5-0"},{displayName:"",fieldName:"search_btn",xtype:"btn",searchLoc:"4-2-5-1-1"}],searchFieldsDetail:[{displayName:"结算单位",fieldName:"balanceCompanyId",xtype:"search_select_input",searchLoc:"1-1-8-10-0"},{displayName:"货主",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-2-8-10-0"},{displayName:"结算方式",fieldName:"balanceType",xtype:"select",searchLoc:"1-3-8-10-0"},{displayName:"业务类型",fieldName:"businessType",xtype:"select",searchLoc:"2-1-8-10-0"},{displayName:"业务单据号",fieldName:"businessNo",xtype:"text",searchLoc:"2-2-8-10-0"},{displayName:"发票号",fieldName:"invoiceNo",xtype:"text",searchLoc:"2-3-8-10-0"},{displayName:"结算状态",fieldName:"balanceStatus",xtype:"select",searchLoc:"3-1-8-10-0"},{displayName:"结算清单号",fieldName:"balanceNo",xtype:"text",searchLoc:"3-2-8-10-0"},{displayName:"外部单据号",fieldName:"businessOtherNo",xtype:"text",searchLoc:"3-3-8-10-0"},{displayName:"制单人",fieldName:"creatorName",xtype:"text",searchLoc:"4-1-8-10-0",value:W.a.getUser().configUser.name,disabled:"true"},{displayName:"制单日期",fieldName:"createTime",xtype:"daterange",searchLoc:"4-2-16-5-0"}]}},mounted:function(){},methods:{handleClick:function(t,e){"main"==t.name?this.afterSetting():this.afterSetting2()},queryData:function(){var t=this;this.getDataMain(function(e){t.totalData=e.content,t.$refs.pager.refreshData()})},queryData1:function(){var t=this;this.getDataDetail(function(e){t.totalData1=e.content,t.$refs.pager1.refreshData()})},cellCanEdit:function(t,e){return 1==e},getBalanceMain:function(t,e){var a=this;this.getDataMain(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},getDataMain:function(t,e,a){var n=this.$refs.pm_search.getParam();n.page=e||0,n.size=a||1e5,1==n.IsSettleAmt?n.IsHaveActMoney=!0:2==n.IsSettleAmt&&(n.IsHaveActMoney=!1),$.a.post("balance/queryBalanceMain",n,function(e){e.content.forEach(function(t){0==t.payType&&(t.payType=null)}),t&&t(e)})},getBalanceDetail:function(t,e){var a=this;this.getDataDetail(function(t){a.dataSource1=t.content,a.totalSize1=t.total},t,e)},getDataDetail:function(t,e,a){var n=this.$refs.pm_search1.getParam();this.post(n,e,a,t)},post:function(t,e,a,n){var o=this;t.page=e||0,t.size=a||1e5,$.a.post("balance/queryBalanceDetail",t,function(t){t.content.forEach(function(t){t.textureId=t.material,t.whsFreeDayNum=t.whsFreedayNum,t.settleUnitPrice=t.unitprice,t.changeMoney||(t.changeMoney=0,t.createDate=t.createTime)}),n&&n(t),"main"==o.activeName&&o.afterSetting()})},doubleClick:function(){var t=this,e=this.$refs.pmTable.currentRow;this.activeName="detail",t.post(e,0,25,function(a){a.total>25?t.post(e,0,1e5,function(e){t.totalData1=e.content,t.dataSource1=e.content,t.totalSize1=e.total}):(t.totalData1=a.content,t.dataSource1=a.content,t.totalSize1=a.total),t.afterSetting2()})},edit:function(){var t=this.$refs.pmTable.currentRow;if(!t)return void this.$message.error("请至少选择一笔资料！");if(null!=t.invoiceNo&&""!=t.invoiceNo)return void this.$message.error("请先清空发票信息，方可修改结算单！");t.size=1e3,t.page=0;var e=this;this.$commonUtil.getEntity("balance/queryBalanceMain","balance/queryBalanceDetail",t,function(t){e.$tab.open({component:L.a,name:"编辑结算单",propsData:t})})},remove:function(){var t=this,e=this,a=this.$refs.pmTable.currentRow;if(!a)return void this.$message.error("请至少选择一笔资料！");$.a.post("balance/deleteBalance",a,function(a){t.$message({message:"结算单作废成功",type:"success"}),e.queryData()})},editInvoice:function(){var t=this,e=this.$refs.pmTable.currentRow;if(!e)return void this.$message.error("请至少选择一笔资料！");this.$layer.iframe({content:{content:M.a,parent:t,data:{entity:JSON.stringify(e)}},area:["400px","220px"],shadeClose:!1,title:"编辑发票号"})},export_btn:function(){var t=this;this.getDataMain(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"结算清单列表")})},print:function(){}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(118),d=(a.n(m),a(117)),u=a.n(d),h=a(69),_=a.n(h),f=a(115),b=a.n(f),v=a(116),g=a.n(v),y=a(70),x=a.n(y),w=a(71),N=a.n(w),I=(a(28),a(10),a(1),a(7)),S=a(119),D=a.n(S),$=a(369),T=(a.n($),a(39));e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,pm_tool_bar:b.a,pm_toolButton:_.a,pm_table:g.a,pm_column:x.a,metro_page_box_body:p.a,pm_form_item:u.a,pm_radio:N.a,pm_pagination:D.a},data:function(){return{rules:{}}},created:function(){this.formModel=JSON.parse(this.$options.propsData.entity),this.formModel.invoiceNo||(this.formModel.invoiceNo=""),this.formModel.invoiceType||(this.formModel.invoiceType=null)},watch:{},computed:{},methods:{refreshMain:function(){var t=this.$options.parent;t&&t.queryData&&t.queryData()},saveInvoice:function(){var t=this,e=this.formModel;if(""==e.invoiceType&&(e.invoiceType=null),null!=e.invoiceType){if(""==e.invoiceType)return void this.$message.error("发票类型不能为空");if(""==e.invoiceNo.trim())return void this.$message.error("发票号不能为空")}else if(""!=e.invoiceNo.trim()&&(""==e.invoiceType||null==e.invoiceType))return void this.$message.error("发票类型不能为空");I.a.post("balance/addInvoice",e,function(e){t.$message({message:"发票号保存成功",type:"success"}),t.closeWin(),t.refreshMain()})},closeWin:T.a.closeWin}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=a(7),$=a(28),T=a(1),C=a(10),k=a(119),E=a.n(k),L=a(369),F=a.n(L);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:E.a},data:function(){return{dataSource:[],config:{entity:$.a.regular,allowEdit:!0,multiple:!1},rules:{},formReadOnly:!1,totalSize:0,counter:0,group:[{key:1,value:"净重"},{key:2,value:"毛重"},{key:3,value:"磅重"}],formModel:null,oldDetail:[],balancePreNum:0}},created:function(){this.formModel=this.getFormModel()},watch:{newValue:function(t,e){void 0!=e&&this.changeValue(t)}},computed:{newValue:function(){if(this.formModel)return this.formModel.costType}},methods:{getFormModel:function(){var t,e=this.$options.parent.propsData;return void 0===e?(e={},e.IsSettle=!1,e.balanceNo=this.$commonUtil.appConst.nullNo,e.creatorName=T.a.getUser().configUser.name,e.createDate=new Date,void 0===e.detailList?this.dataSource=[]:this.dataSource=e.detailList,console.log(e)):(e.balanceNo||(e.balanceNo=this.$commonUtil.appConst.nullNo,e.creatorName=T.a.getUser().configUser.name,e.createDate=new Date,e.balanceType=2),e.settleCompanyId=e.balanceCompanyId,2==e.balanceStatus?e.IsSettle=!0:e.IsSettle=!1,e.flag=1,this.oldDetail=e.detailList,e.detailList.forEach(function(a){t=a.balanceWeightType,a.textureId=a.material,a.producingId=a.productPlace,a.textureId=parseInt(a.textureId),a.producingId=parseInt(a.producingId),a.unitprice?a.settleUnitprice=a.unitprice:a.unitprice=a.settleUnitprice,a.whsFreeDayNum?a.whsFreedayNum=a.whsFreeDayNum:a.whsFreeDayNum=a.whsFreedayNum,t&&(a.balanceWeightType=t),1==a.balanceWeightType?a.balancePreNum=a.netWeight:2==a.balanceWeightType?a.balancePreNum=a.grossWeight:a.balancePreNum=a.poundWeight,e.balanceNo?a.flag=2:a.flag=1,a.balanceNoType=1,1==t?1==a.costType?(a.settleAmt=a.unitprice*a.balancePreNum*(a.whsDayNum-a.whsFreedayNum),a.settleActAmt=a.settleAmt,a.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(a.settleAmt=a.unitprice*a.netWeight,a.settleActAmt=a.settleAmt,a.settleExpress="结算单价*商品净重"):2==t?1==a.costType?(a.settleAmt=a.unitprice*a.balancePreNum*(a.whsDayNum-a.whsFreedayNum),a.settleActAmt=a.settleAmt,a.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(a.settleAmt=a.unitprice*a.netWeight,a.settleActAmt=a.settleAmt,a.settleExpress="结算单价*商品毛重"):1==a.costType?(a.settleAmt=a.unitprice*a.balancePreNum*(a.whsDayNum-a.whsFreedayNum),a.settleActAmt=a.settleAmt,a.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(a.settleAmt=a.unitprice*a.netWeight,a.settleActAmt=a.settleAmt,a.settleExpress="结算单价*商品磅重")}),e.weightType=t,this.dataSource=e.detailList),e},initFormState:function(t){t.flag?(this.formModel={},this.formModel.balanceNo=this.$commonUtil.appConst.nullNo,this.dataSource=[]):(this.$set(this.formModel,"balanceNo",t.balanceNo),t.details.forEach(function(t){t.unitprice=t.settleUnitprice,t.whsFreeDayNum=t.whsFreedayNum}),this.dataSource=t.details)},selectDetail:function(t){var e=this,a=this.formModel.cstId,n=this.dataSource;if(null==a||""==a)return void this.$message.error("请选择货主单位");this.$layer.iframe({content:{content:F.a,parent:this,data:{entity:JSON.stringify({cstIdNo:a}),selected:function(t){console.log(t);t.forEach(function(t){if(e.wrapData(e.formModel,t),t.flag=1,0!=n.length){var a=0;n.forEach(function(e){if(e.costType===t.costType&&e.packNo===t.packNo)return void(a=0);a++}),0!=a&&e.dataSource.push(t)}else e.dataSource.push(t)})}}},area:["1000px","600px"],shadeClose:!1,title:"待结算明细"})},queryData:function(t){console.log(t)},readOnly:function(){var t=this.formModel,e=!1;return 1===t.flag&&(e=!0),e},cellCanEdit:function(t){return 1!=t.flag},getTableInfo:function(t){console.log(t)},addDetail:function(){var t=this;t.dataSource||(t.dataSource=[]);var e={whsDayNum:0,whsFreeDayNum:0,numFin:0,unitprice:0,netWeight:0,grossWeight:0,poundWeight:0,settleAmt:0,settleActAmt:0,balancePreNum:0,balanceNoType:1,flag:2};this.counter+=1,e.index=this.counter,t.dataSource=t.dataSource.concat(e)},deleteDetail:function(){var t=[],e=this.$refs.pmTable.currentRow;if(void 0==e)return void this.$message.error("请选择一笔资料");t.push(e),C.a.removeSelectedRows2(t,this.dataSource)},saveInfo:function(){var t=this,e=this,a=this.formModel;if(a.IsSettle?a.balanceStatus=2:a.balanceStatus=1,this.$refs.demoForm.validate(this),a.balanceCompanyId=a.settleCompanyId,a.details=this.dataSource,0===a.details.length)return void this.$message.error("请至少添加一笔明细资料");a.details.forEach(function(t){t.id=void 0,t.settleUnitPrice=t.unitprice,t.whsFreedayNum=t.whsFreeDayNum,1==t.balanceWeightType?t.balancePreNum>t.netWeight&&C.a.valid.throwEx("结算量不能大于计费结算量，请检查！"):2==t.balanceWeightType?t.balancePreNum>t.grossWeight&&C.a.valid.throwEx("结算量不能大于计费结算量，请检查！"):t.balancePreNum>t.poundWeight&&C.a.valid.throwEx("结算量不能大于计费结算量，请检查！")}),this.$refs.pmTable.validator(),D.a.post("balance/addBalance",a,function(a){t.$message({message:"结算单保存成功",type:"success"}),e.initFormState(a)})},deleteInfo:function(){var t=this,e=this,a=this.formModel;return a.balanceNo==this.$commonUtil.appConst.nullNo?void this.$message.error("请先保存结算单后再进行作废操作！"):this.oldDetail.length!=this.dataSource.length?void this.$message.error("请先保存结算单后再进行作废操作！"):void D.a.post("balance/deleteBalance",a,function(a){t.$message({message:"结算单作废成功",type:"success"}),a.flag="del",e.initFormState(a)})},printInfo:function(){},wrapData:function(t,e){e.whsInFirstDate=e.whsinTime,e.producingId=e.productPlace,1==t.weightType?1==e.costType?(e.settleAmt=e.unitprice*e.balancePreNum*(e.whsDayNum-e.whsFreedayNum),e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(e.settleAmt=e.unitprice*e.netWeight,e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*商品净重"):2==t.weightType?1==e.costType?(e.settleAmt=e.unitprice*e.balancePreNum*(e.whsDayNum-e.whsFreedayNum),e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(e.settleAmt=e.unitprice*e.grossWeight,e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*商品毛重"):1==e.costType?(e.settleAmt=e.unitprice*e.balancePreNum*(e.whsDayNum-e.whsFreedayNum),e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*待结算量*(仓储天数-免仓储天数)"):(e.settleAmt=e.unitprice*e.poundWeight,e.settleActAmt=e.settleAmt,e.settleExpress="结算单价*商品磅重")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(120),h=a.n(u),_=a(69),f=a.n(_),b=a(115),v=a.n(b),g=a(116),y=a.n(g),x=a(70),w=a.n(x),N=a(7),I=a(28),S=(a(1),a(119)),D=a.n(S),$=a(39);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:h.a,pm_toolButton:f.a,pm_tool_bar:v.a,pm_table:y.a,pm_column:w.a,pm_pagination:D.a},data:function(){return{dataSource:[],searchFields:[{displayName:"费用类型",fieldName:"costType",xtype:"select",searchLoc:"1-1-8-8-0"},{displayName:"业务类型",fieldName:"businessType",xtype:"select",searchLoc:"1-2-8-8-0"},{displayName:"单据号",fieldName:"businessNo",xtype:"text",searchLoc:"1-3-8-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"2-1-8-8-0"},{displayName:"生成日期",fieldName:"createDate",xtype:"daterange",searchLoc:"2-2-16-4-0"}],config:{entity:I.a.regular,allowEdit:!1,multiple:!0,rowCanEdit:function(t){return null!=t.cstName&&t.cstName.includes("江阴")}},rules:{},formReadOnly:!1,totalSize:0,formModel:null,cstIdNo:null}},created:function(){var t=this;this.formModel=JSON.parse(this.$options.propsData.entity),this.cstIdNo=this.getCstId(),this.searchFields.forEach(function(e){"cstId"==e.fieldName&&t.$set(e,"value",t.cstIdNo)})},computed:{},methods:{getCstId:function(){return this.formModel.cstIdNo},queryData:function(t){var t=this.$refs.pm_search.getParam();t.createDateStart=t.createDateBegin;var e=this;N.a.post("BalanceList/queryPreBalanceList",t,function(t){t.forEach(function(t){t.material=parseInt(t.material),t.textureId=t.material,t.productPlace=parseInt(t.productPlace),t.producingId=t.productPlace,t.transferNum||(t.transferNum=0)}),e.dataSource=t})},cellCanEdit:function(t){return t.packNo.includes("123")},getTableInfo:function(t){console.log(t)},getList:function(t,e){var a=this.$refs.pm_search.getParam();a.page=t,a.size=e,this.queryData(a)},closeWin:$.a.closeWin,saveInfo:function(){var t=this.$refs.pmTable.getSelectedRows();if(0==t.length)return void this.$message.error("请至少选择一笔资料！");this.$options.propsData.selected(t),this.closeWin()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(118),d=(a.n(m),a(117)),u=a.n(d),h=a(69),_=a.n(h),f=a(115),b=a.n(f),v=a(116),g=a.n(v),y=a(70),x=a.n(y),w=a(71),N=a.n(w),I=a(28),S=a(1),D=a(10),$=a(7),T=a(367),C=a.n(T);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,pm_tool_bar:b.a,pm_toolButton:_.a,pm_table:g.a,pm_column:x.a,metro_page_box_body:p.a,pm_form_item:u.a,pm_radio:N.a},data:function(){return{dataSource:[],config:{entity:I.a.regular,allowEdit:!0,multiple:!0,showSummary:!1},rules:{},formReadOnly:!1,counter:0,totalSize:0,group:[{key:1,value:"净重"},{key:2,value:"毛重"},{key:3,value:"磅重"}],formModel:null,changeBtn:!1}},created:function(){this.formModel=this.getFormModel()},computed:{},methods:{getFormModel:function(){var t={};return t.businessOtherNo=this.$commonUtil.appConst.nullNo,t.creatorName=S.a.getUser().configUser.name,t.businessType=5,t.createDate=new Date,t},initFormState:function(t){this.formModel.businessOtherNo=t.businessOtherNo,t.detail.forEach(function(t){t.textureId=parseInt(t.material),t.producingId=parseInt(t.productPlace)}),this.dataSource=t.detail,this.changeBtn=!0,this.formReadOnly=!0},addDetail:function(){var t=this,e=this.formModel;if(void 0===e.cstId)return void this.$message.error("请选择货主单位");t.dataSource||(t.dataSource=[]);var a={cstId:e.cstId,whsDayNum:0,whsFreeDayNum:0,numFin:0,unitprice:0,netWeight:0,grossWeight:0,poundWeight:0};this.counter+=1,a.index=this.counter,t.dataSource=t.dataSource.concat(a)},deleteDetail:function(){var t=this.$refs.pmTable.getSelectedRows();if(0==t.length)return void this.$message.error("请选择一笔资料");D.a.removeSelectedRows2(t,this.dataSource)},clearDetail:function(){var t=this.$refs.pmTable.getTableInfo();D.a.removeSelectedRows2(t,this.dataSource)},saveInfo:function(){var t=this,e=this,a=this.formModel;if(a.detail=this.dataSource,0===a.detail.length)return void this.$message.error("请添加明细资料");a.detail.forEach(function(t){0===t.unitprice&&D.a.valid.throwEx("单价不能为0，请检查！"),1==a.balanceWeightType?(0==t.netWeight&&D.a.valid.throwEx("商品净重不能为0，请检查！"),t.balancePreNum=t.netWeight):2==a.balanceWeightType?(0==t.grossWeight&&D.a.valid.throwEx("商品毛重不能为0，请检查！"),t.balancePreNum=t.grossWeight):(0==t.poundWeight&&D.a.valid.throwEx("商品磅重不能为0，请检查！"),t.balancePreNum=t.poundWeight),t.balanceNum=0,t.material=t.textureId,t.productPlace=t.producingId,t.createDate=a.createDate,t.transferNum=0,t.whsInFirstDate=e.changDate(t.whsDayNum)}),this.$refs.pmTable.validator(),$.a.post("BalanceList/addOtherBalanceList",a,function(a){t.$message({message:"新增其他计费单成功",type:"success"}),e.initFormState(a)})},settle:function(){if("系统自动生成"===this.formModel.businessOtherNo)this.$message.error("先新增计费单，方可结算");else{var t=this.$commonUtil.appConst.deepClone(this.dataSource);this.formModel.detailList=t;var e={component:C.a,propsData:{entity:this.formModel},name:"新增结算单"};this.$tab.open(e)}},changDate:function(t){var e=new Date;e.setDate(e.getDate()-t);var a=e.getFullYear(),n=e.getMonth()+1;parseInt(n)<10&&(n="0"+n);var o=e.getDate();return parseInt(o)<10&&(o="0"+o),a+"-"+n+"-"+o}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=(a.n(n),a(363)),i=(a.n(o),a(365)),r=(a.n(i),a(364)),s=(a.n(r),a(118)),l=(a.n(s),a(69)),c=a.n(l),p=a(115),m=a.n(p),d=a(116),u=a.n(d),h=a(117),_=a.n(h),f=a(70),b=a.n(f),v=a(119),g=a.n(v),y=a(7),x=a(28),w=a(10);e.default={components:{pm_toolButton:c.a,pm_tool_bar:m.a,pm_table:u.a,pm_column:b.a,pm_pagination:g.a,pm_form_item:_.a},data:function(){return{dataSource:[],config:{entity:x.a.regular,allowEdit:!0,multiple:!1},rules:{},oldRegularStatus:0,counter:0,group:[{key:1,value:"启用"},{key:2,value:"停用"}],formModel:null,pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()}}}},watch:{"formModel.agreementStart":function(t){this.pickerOptions1={disabledDate:function(e){return e.getTime()<t}}}},created:function(){console.log("created:"+new Date),this.formModel=this.getFormModel(),console.log(this.formModel)},computed:{},methods:{getFormModel:function(){var t=this.$options.parent.propsData.entity;return 1===t.flag?(t.regularNo=this.$commonUtil.appConst.nullNo,this.$set(t,"agreementStart",new Date),this.$set(t,"agreementEnd",new Date),this.dataSource=[]):(this.oldRegularStatus=t.regularStatus,this.dataSource=t.detailList),t},getOnly:function(){var t=this.formModel;return 1!==t.flag},refreshMain:function(){var t=this.$options.parent.propsData.parentView;t&&t.queryData&&t.queryData()},addDetail:function(){var t=this;t.dataSource||(t.dataSource=[]);var e={unitprice:0};this.counter+=1,e.index=this.counter,t.dataSource=t.dataSource.concat(e)},deleteRows:function(){var t=[],e=this.$refs.pmTable.currentRow;if(void 0==e)return void this.$message.error("请选择一笔资料");t.push(e),w.a.removeSelectedRows2(t,this.dataSource)},saveInfo:function(){var t=this;this.$refs.demoForm.validate(this);var e="",a=this.formModel;return void 0!=a.regularOtherNo&&a.regularOtherNo.length>15?void this.$message.error("外部协议号不能大于15位，请检查！"):(a.detail=this.dataSource,0===a.detail.length?void this.$message.error("请至少添加一笔明细资料"):11!=a.cstPhone.length?void this.$message.error("联系电话必须为11位！"):void 0==a.agreementEnd?void this.$message.error("请输入有效日期！"):2==this.oldRegularStatus&&1!=a.regularStatus?void this.$message.error("停用的计费规则不能修改!"):(this.$refs.pmTable.validator(),a.id=void 0,e="系统自动生成"!=a.regularNo?"修改计费规则成功":"新增计费规则成功",a.detail.forEach(function(t){t.id=void 0}),void y.a.post("regular/saveRegular",a,function(a){t.$message({message:e,type:"success"}),t.refreshMain(),t.closeWin()})))},closeWin:function(){this.$commonUtil.tab.close(this)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(120),o=a.n(n),i=a(362),r=a.n(i),s=a(363),l=a.n(s),c=a(365),p=a.n(c),m=a(364),d=a.n(m),u=a(69),h=a.n(u),_=a(115),f=a.n(_),b=a(116),v=a.n(b),g=a(70),y=a.n(g),x=a(119),w=a.n(x),N=a(7),I=a(28),S=a(397),D=a.n(S);e.default={components:{metro_page:r.a,metro_page_box:l.a,metro_page_box_tool_bar:p.a,metro_page_box_body:d.a,pm_search:o.a,pm_toolButton:h.a,pm_tool_bar:f.a,pm_table:v.a,pm_column:y.a,pm_pagination:w.a},data:function(){return{dataSource:[],searchFields:[{displayName:"货主名称",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-1-6-8-0"},{displayName:"计费规则编号",fieldName:"regularNo",xtype:"text",searchLoc:"1-2-6-9-0"},{displayName:"外部协议号",fieldName:"regularOtherNo",xtype:"text",searchLoc:"1-3-6-8-0"},{displayName:"状态",fieldName:"regularStatus",xtype:"select",searchLoc:"1-4-6-8-0",value:1},{displayName:"",fieldName:"btn_search",xtype:"btn",searchLoc:"2-4-8-8-20"}],config:{entity:I.a.regular,allowEdit:!1,multiple:!1,showSummary:!1,dbclick:this.editTab,rowCanEdit:function(t){return null!=t.cstName&&t.cstName.includes("江阴")}},totalSize:0}},methods:{queryData:function(){this.$refs.pager.refreshData()},getList:function(t,e){var a=this.$refs.pm_search.getParam();a.page=t,a.size=e;var n=this;N.a.post("regular/qureyRegularData",a,function(t){n.dataSource=t.content,n.totalSize=t.total})},addTab:function(){var t=this,e={component:D.a,propsData:{entity:{flag:1,cstType:1},parentView:t},name:"添加计费规则"};this.$tab.open(e)},editTab:function(t,e){var a=this,n=this.$commonUtil.deepClone(t);this.$commonUtil.getDetailEntity("regular/qureyRegularDetail",{regularNo:t.regularNo},n,function(t){t.editFlag="1",a.$tab.open({component:D.a,name:"编辑计费规则",propsData:{entity:t,parentView:a}})})},copyInfo:function(){var t=this,e=this.$refs.pmTable.currentRow;if(e){e.id&&(e.id=null);var a=this;N.a.post("regular/copyRegular",e,function(e){t.$message({message:"复制计费规则成功",type:"success"}),a.queryData()})}},deleteInfo:function(){var t=this,e=this.$refs.pmTable.currentRow;if(e){var a=this;N.a.post("regular/deleteRegular",e,function(e){t.$message({message:"作废计费规则成功",type:"success"}),a.queryData()})}}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(373),o=a.n(n),i=a(30),r=a.n(i),s=a(529),l=a.n(s),c=a(372),p=a.n(c),m=a(530),d=a.n(m);e.default={components:{x_upload:o.a,x_tree:r.a,x_treeGrid:l.a,pm_dicMenu:p.a,pm_tree:d.a},data:function(){return{name:"DicWhsCalcStackName",list:[{name:"费用类型",index:"1"},{name:"调整类型",index:"2"},{name:"调整类型",index:"3"},{name:"调整类型",index:"4"},{name:"调整类型",index:"5"},{name:"调整类型",index:"6"},{name:"调整类型",index:"7"},{name:"调整类型",index:"8"}],data2:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}]}},methods:{show:function(){console.log(this.$refs.demo1.getValue())}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(122),h=a.n(u),_=a(118),f=(a.n(_),a(117)),b=a.n(f),v=a(120),g=a.n(v);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,x_table:h.a,pm_search:g.a,pm_form_item:b.a},data:function(){return{whsinOptions:[{value:1,label:"移库"},{value:2,label:"过户"},{value:3,label:"入库"}],formModel:{text1:"",text2:"",text3:"",select_batch:[],brandId:null,textureId:""},rules:{text1:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]},searchFields:[{displayName:"text1",fieldName:"name",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"text2",fieldName:"age",xtype:"text",searchLoc:"1-2-6-8-0"},{displayName:"number",fieldName:"number",xtype:"number",min:1,max:100,searchLoc:"1-3-6-8-0"},{displayName:"date",fieldName:"date",xtype:"date",searchLoc:"1-4-6-8-0"},{displayName:"daterange",fieldName:"daterange",xtype:"daterange",searchLoc:"2-1-6-8-0"},{displayName:"datetime",fieldName:"datetime",xtype:"datetime",searchLoc:"2-2-6-8-0"},{displayName:"datetimerange",fieldName:"datetimerange",xtype:"datetimerange",searchLoc:"2-3-6-8-0"},{displayName:"select",fieldName:"brandId",xtype:"select",searchLoc:"2-4-6-8-0"},{displayName:"select_batch",fieldName:"select_batch",xtype:"select_batch",searchLoc:"3-1-6-8-0",options:[{value:1,label:"cyt"},{value:2,label:"ck"},{value:3,label:"sy"},{value:4,label:"smm"}]},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"3-2-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"3-3-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"4-1-6-8-0"},{displayName:"用户",fieldName:"userId",xtype:"search_select_input",searchLoc:"4-2-6-8-0"},{displayName:"捆包号",fieldName:"fPackNo",xtype:"textarea",searchLoc:"3-4-6-8-0"},{displayName:"",fieldName:"btn_search",xtype:"btn",searchLoc:"4-4-8-8-4"}],toolbar_buttons:[{name:"新增",permission:"btn_add",icon:"el-icon-circle-plus-outline",click_func:this.btn_func_search,color:"green",align:"left"},{name:"修改",icon:"el-icon-edit",click_func:this.btn_func_reset,color:"green",align:"left"},{name:"导出",icon:"el-icon-document",click_func:this.btn_func_search,color:"blue",align:"left"},{name:"审核",icon:"el-icon-circle-check-outline",click_func:this.btn_func_search,color:"blue",align:"left"},{name:"调整",icon:"el-icon-edit-outline",click_func:this.btn_func_search,color:"blue",align:"left"},{name:"结算",icon:"el-icon-sold-out",click_func:this.btn_func_search,color:"red",align:"left"}],columns:[{fixed:!0,name:"固定列1",field:"id",width:80},{fixed:!0,name:"固定列2",field:"name",width:100},{name:"滑动列1",field:"price",width:150},{name:"滑动列2",field:"id1",width:200},{name:"滑动列3",field:"name1",width:200},{name:"滑动列4",field:"price1",width:200},{name:"滑动列5",field:"id2",width:200},{name:"滑动列6",field:"name2",width:200},{name:"滑动列7",field:"price2",width:200},{name:"滑动列8",field:"id3",width:200},{name:"滑动列9",field:"name3",width:200},{name:"滑动列10",field:"price3",width:200},{name:"滑动列11",field:"id4",width:200},{name:"滑动列12",field:"name4",width:200},{name:"滑动列13",field:"price4",width:200}],data:[{id:9,name:"Item 0",price:"$0",id1:91,name1:"Item 0",price1:"$0",id2:92,name2:"Item 0",price2:"$0",id3:93,name3:"Item 0",price3:"$0",id4:94,name4:"Item 0",price4:"$0"},{id:1,name:"Item 1",price:"$1",id1:11,name1:"Item 1",price1:"$1",id2:12,name2:"Item 1",price2:"$1",id3:13,name3:"Item 1",price3:"$1",id4:14,name4:"Item 1",price4:"$1"},{id:2,name:"Item 2",price:"$2",id1:91,name1:"Item 0",price1:"$0",id2:92,name2:"Item 0",price2:"$0",id3:93,name3:"Item 0",price3:"$0",id4:94,name4:"Item 0",price4:"$0"},{id:3,name:"Item 3",price:"$3",id1:91,name1:"Item 0",price1:"$0",id2:92,name2:"Item 0",price2:"$0",id3:93,name3:"Item 0",price3:"$0",id4:94,name4:"Item 0",price4:"$0"},{id:4,name:"Item 4",price:"$4",id1:91,name1:"Item 0",price1:"$0",id2:92,name2:"Item 0",price2:"$0",id3:93,name3:"Item 0",price3:"$0",id4:94,name4:"Item 0",price4:"$0"},{id:5,name:"Item 5",price:"$5",id1:91,name1:"Item 0",price1:"$0",id2:92,name2:"Item 0",price2:"$0",id3:93,name3:"Item 0",price3:"$0",id4:94,name4:"Item 0",price4:"$0"}]}},methods:{btn_func_search:function(){},btn_func_reset:function(){},queryData:function(t){console.log(t)},btn_func_export:function(t){this.exportExcel(t)},exportExcel:function(t){return httpUtil.export("/api/whsTransfer/getTransferNoteByPage",{transferNo:"0002",page:0,size:25},function(t){console.log(t)})},getParam:function(){console.log(this.formModel),this.$refs.demoForm.validate()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(116),o=a.n(n),i=a(70),r=a.n(i),s=a(7),l=a(28),c=a(119),p=a.n(c);e.default={components:{pm_table:o.a,pm_column:r.a,pm_pagination:p.a},data:function(){return{dataSource:[],config:{entity:l.a.wmsStock,allowEdit:!0,multiple:!0,rowCanEdit:function(t){return null!=t.cstName&&t.cstName.includes("江阴")}},totalSize:0}},mounted:function(){},methods:{requestTransactionLogs:function(t){console.log(t)},cellCanEdit:function(t){return t.packNo.includes("123")},getStocks:function(t,e){var a=this;s.a.post("stock/getList",{page:t,size:e},function(t){a.dataSource=t.content,a.totalSize=t.total})},getTableInfo:function(t){console.log(t)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(118),o=(a.n(n),a(117)),i=a.n(o),r=a(69),s=a.n(r),l=a(115),c=a.n(l),p=a(39),m=a(7);e.default={components:{pm_form_item:i.a,pm_toolButton:s.a,pm_tool_bar:c.a},data:function(){return{rules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},permissionTreeData:[],checkIds:[],formModel:null,defaultProps:{children:"subNodes",label:"name",id:"id"}}},methods:{confirm_func:function(){var t=this;this.formModel.permissionIds=this.$refs.tree.getCheckedKeys().concat(this.$refs.tree.getHalfCheckedKeys()),this.$refs.mainForm.validate(this,function(e){"1"==t.formModel.editFlag?m.a.post("rbac/role/insertRole",t.formModel,function(e){t.$message({message:"新增角色成功",type:"success"}),t.$options.parent.queryData(),t.closeWin()}):"2"==t.formModel.editFlag&&m.a.post("rbac/role/updateRole",t.formModel,function(e){t.$message({message:"修改角色成功",type:"success"}),t.$options.parent.queryData(),t.closeWin()})})},getPermissionTree:function(){var t=this;m.a.post("rbac/permission/getPermissionTree",{},function(e){t.wrapData(e),t.permissionTreeData=e},null,!1)},getformModel:function(){var t=this,e=JSON.parse(this.$options.propsData.entity);"2"==e.editFlag&&m.a.post("rbac/permission/findPermissionsOfRole",e,function(e){e.forEach(function(e){"2"==e.type&&t.checkIds.push(e.id)})},null,!1),this.formModel=e},wrapData:function(t){var e=this;t.forEach(function(t){for(var a in t)"node"==a?(t.name=t[a].name,t.id=t[a].id):"subNodes"==a&&e.wrapData(t[a])})},closeWin:p.a.closeWin},created:function(){this.getPermissionTree(),this.getformModel()},mounted:function(){"1"==this.formModel.editFlag&&(this.$refs.delete.readOnly=!0)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(364),l=a.n(s),c=a(120),p=a.n(c),m=(a(28),a(69)),d=a.n(m),u=a(115),h=a.n(u),_=a(116),f=a.n(_),b=a(70),v=a.n(b),g=a(119),y=a.n(g),x=a(7),w=a(398),N=a.n(w);a(10);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_body:l.a,pm_search:p.a,pm_toolButton:d.a,pm_tool_bar:h.a,pm_table:f.a,pm_column:v.a,pm_pagination:y.a},data:function(){return{dataSource:[],config:{entity:null,allowEdit:!1,multiple:!1,dbclick:this.editWin,showSummary:!1},totalSize:0,searchFields:[{displayName:"角色",fieldName:"name",xtype:"text",searchLoc:"1-1-8-8-0"},{displayName:"状态",fieldName:"deleteFlag",xtype:"select",searchLoc:"1-2-8-8-0",value:0},{displayName:"",fieldName:"search_btn",xtype:"btn",searchLoc:"1-3-7-8-1"}]}},methods:{add_func:function(t){var e={};e.editFlag="1",e.deleteFlag=0,this.$layer.iframe({content:{content:N.a,parent:this,data:{entity:JSON.stringify(e)}},area:["700px","550px"],shadeClose:!1,title:"添加角色"})},editWin:function(t,e){t.editFlag="2",t.deleteFlag?t.deleteFlag=1:t.deleteFlag=0,this.$layer.iframe({content:{content:N.a,parent:this,data:{entity:JSON.stringify(t)}},area:["700px","550px"],shadeClose:!1,title:"编辑角色"})},getList:function(t,e){var a=this.$refs.pm_search.getParam();a.page=t,a.size=e;var n=this;x.a.post("rbac/role/getRolePage",a,function(t){n.dataSource=t.content,n.totalSize=t.total})},queryData:function(){this.$refs.pager.refreshData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(118),o=(a.n(n),a(117)),i=a.n(o),r=a(69),s=a.n(r),l=a(115),c=a.n(l),p=a(39),m=a(7);e.default={components:{pm_form_item:i.a,pm_toolButton:s.a,pm_tool_bar:c.a},data:function(){return{rules:{name:[{required:!0,message:"请输入部门名称",trigger:"blur"}]},deptTree:[],formModel:null}},methods:{confirm_func:function(){this.formModel.parent||(this.formModel.parent="0"),this.formModel.treeNode&&(this.formModel.parentPath=this.formModel.treeNode.parentPath);var t=this;this.$refs.mainForm.validate(this,function(e){"deptAdd"==t.formModel.editFlag?m.a.post("rbac/department/insertDepartment",t.formModel,function(e){t.$message({message:"新增部门成功",type:"success"}),t.$options.parent.getDepartmentTree(),t.closeWin()}):"deptEdit"==t.formModel.editFlag&&(t.formModel.parentPath?t.formModel.parentPath=t.formModel.parentPath+t.formModel.id+"-":t.formModel.parentPath=t.formModel.id+"-",m.a.post("rbac/department/updateDepartment",t.formModel,function(e){t.$message({message:"修改部门成功",type:"success"}),t.$options.parent.getDepartmentTree(),t.closeWin()}))})},closeWin:p.a.closeWin},created:function(){this.deptTree=JSON.parse(this.$options.propsData.deptTree),this.formModel=JSON.parse(this.$options.propsData.entity)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(364),l=a.n(s),c=a(120),p=a.n(c),m=(a(28),a(69)),d=a.n(m),u=a(115),h=a.n(u),_=a(116),f=a.n(_),b=a(70),v=a.n(b),g=a(119),y=a.n(g),x=a(7),w=a(399),N=a.n(w),I=a(400),S=a.n(I);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_body:l.a,pm_search:p.a,pm_toolButton:d.a,pm_tool_bar:h.a,pm_table:f.a,pm_column:v.a,pm_pagination:y.a},data:function(){return{dataSource:[],departmentTreeData:[],defaultProps:{children:"subNodes",label:"name",id:"id"},config:{entity:null,allowEdit:!1,multiple:!1,dbclick:this.editUser_func,showSummary:!1},totalSize:0,searchFields:[{displayName:"用户名",fieldName:"name",xtype:"text",searchLoc:"1-1-8-8-0"},{displayName:"状态",fieldName:"deleteFlag",xtype:"select",searchLoc:"1-2-8-8-0",value:0},{displayName:"",fieldName:"search_btn",xtype:"btn",searchLoc:"1-3-7-8-1"}]}},methods:{addDept_func:function(t){var e={};e.editFlag="deptAdd",this.$layer.iframe({content:{content:N.a,parent:this,data:{deptTree:JSON.stringify(this.departmentTreeData),entity:JSON.stringify(e)}},area:["600px","350px"],shadeClose:!1,title:"新增部门"})},editDept_func:function(t){var e=t.node;e.editFlag="deptEdit",this.$layer.iframe({content:{content:N.a,parent:this,data:{deptTree:JSON.stringify(this.departmentTreeData),entity:JSON.stringify(e)}},area:["600px","350px"],shadeClose:!1,title:"编辑部门"})},removeDept_func:function(t){var e=this,a=t.node;this.$confirm("此操作将删除该部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){x.a.post("rbac/department/deleteDepartment",a,function(t){e.getDepartmentTree(),e.$message({type:"success",message:"删除成功!"})})}).catch(function(){})},addUser_func:function(){var t={};t.editFlag="userAdd",t.deleteFlag=0,this.$layer.iframe({content:{content:S.a,parent:this,data:{deptTree:JSON.stringify(this.departmentTreeData),entity:JSON.stringify(t)}},area:["700px","500px"],shadeClose:!1,title:"新增人员信息"})},editUser_func:function(t,e){var a=this;t.editFlag="userEdit",t.loginPassword="111111",t.deleteFlag?t.deleteFlag=1:t.deleteFlag=0,t.roleIds=[],x.a.post("rbac/role/getRolesOfUser",t.id,function(e){e.forEach(function(e){t.roleIds.push(e.id)}),a.$layer.iframe({content:{content:S.a,parent:a,data:{deptTree:JSON.stringify(a.departmentTreeData),entity:JSON.stringify(t)}},area:["700px","500px"],shadeClose:!1,title:"编辑人员信息"})})},resetPassWord_func:function(){var t=this.$refs.pmTable.currentRow;t||this.$message({message:"请先选择一条需要重置的人员信息。",type:"warning"});var e=this;e.$confirm("重置该人员密码, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){x.a.post("rbac/user/resetPassword",t,function(t){e.$alert("新密码为< "+t+" >请牢记。","重置密码成功")})}).catch(function(){})},getList:function(t,e){var a=this.$refs.pm_search.getParam();a.deptIds=this.$refs.deptTree.getCheckedKeys(),a.page=t,a.size=e;var n=this;x.a.post("rbac/user/getUserPage",a,function(t){n.dataSource=t.content,n.totalSize=t.total})},queryData:function(){this.$refs.pager.refreshData()},getDepartmentTree:function(){var t=this;x.a.post("rbac/department/getDepartmentTree",{},function(e){t.wrapData(e),console.log(e),t.departmentTreeData=e})},wrapData:function(t){var e=this;t.forEach(function(t){for(var a in t)"node"==a?(t.name=t[a].name,t.id=t[a].id,t.parentId=t[a].parentId,t.parentPath=t[a].parentPath):"subNodes"==a&&(t.children=t[a],e.wrapData(t[a]))})}},created:function(){this.getDepartmentTree()}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(118),o=(a.n(n),a(117)),i=a.n(o),r=a(69),s=a.n(r),l=a(115),c=a.n(l),p=a(39),m=a(7);e.default={components:{pm_form_item:i.a,pm_toolButton:s.a,pm_tool_bar:c.a},data:function(){return{rules:{departmentId:[{required:!0,message:"请选择部门",trigger:"blur"}],name:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]{2,20}$/,message:"用户名长度至少2位,由中文、数字、字母组成"}],loginName:[{required:!0,message:"请输入登录名",trigger:"blur"},{pattern:/^[0-9A-Za-z]{2,20}$/,message:"登录名长度至少2位,由数字、字母组成"}],loginPassword:[{required:!0,message:"请输入登录密码",trigger:"blur"},{pattern:/^[A-Za-z0-9]{6,20}$/,message:"登录密码长度至少6位,由数字、字母组成"}]},deptTree:[],formModel:null}},methods:{confirm_func:function(){var t=this;this.$refs.mainForm.validate(this,function(e){"userAdd"==t.formModel.editFlag?m.a.post("rbac/user/insertUser",t.formModel,function(e){t.$message({message:"新增人员成功",type:"success"}),t.$options.parent.queryData(),t.closeWin()}):"userEdit"==t.formModel.editFlag&&m.a.post("rbac/user/updateUser",t.formModel,function(e){t.$message({message:"修改人员成功",type:"success"}),t.$options.parent.queryData(),t.closeWin()})})},closeWin:p.a.closeWin},mounted:function(){"userEdit"==this.formModel.editFlag?this.$refs.password.readOnly=!0:"userAdd"==this.formModel.editFlag&&(this.$refs.delete.readOnly=!0)},created:function(){this.deptTree=JSON.parse(this.$options.propsData.deptTree),this.formModel=JSON.parse(this.$options.propsData.entity)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(a(7),a(39),a(28)),o=(a(10),a(122)),i=a.n(o),r=a(118),s=(a.n(r),a(117)),l=a.n(s),c=a(120),p=a.n(c),m=a(116),d=a.n(m),u=a(70),h=a.n(u),_=a(69),f=a.n(_),b=a(115),v=a.n(b),g=a(472),y=a(375),x=a.n(y);e.default={components:{x_table:i.a,pm_search:p.a,pm_form_item:l.a,pm_table:d.a,pm_column:h.a,pm_toolButton:f.a,pm_tool_bar:v.a,noteAdjustPrint:x.a},data:function(){return{rules:{cstId:[{required:!0,message:"请输入货主单位",trigger:"blur"}]},const:{statusEnum:this.$metaData.wmsNoteAdjust.statusEnum,adjustType:this.$metaData.wmsNoteAdjust.adjustType},dataSource:[],formModel:Object,formReadOnly:!1,adjustType:Number,adjustStrategy:Object,config:{entity:n.a.wmsNoteAdjustDetail,allowEdit:!0,multiple:!0,sortable:!1,height:240,rowCanEdit:function(t){return!0},change:this.cellValueChange}}},created:function(){this.formModel=this.getFormModel(),this.adjustType=this.formModel.adjustType},mounted:function(){this.initFormState()},watch:{formModel:{handler:function(t){this.adjustType=t.adjustType},deep:!0},adjustType:function(t){this.adjustStrategy=g.a.getAdjustStrategy(this,t)}},methods:{btn_func_search:function(){},btn_func_reset:function(){},btn_func:function(){},printFunc:function(){this.formModel.id||this.$commonUtil.valid.throwEx("请先保存单据");var t=this;this.$commonUtil.getEntity("whsadjust/getList","whsadjust/getDetailList",{page:0,size:1e4,adjustId:this.formModel.id},function(e){t.$refs.print.printDiv(e)})},getParam:function(){console.log(this.formModel),this.$refs.demoForm.validate()},cellCanEdit:function(t){return!0},getFormModel:function(){var t=this.$options.parent.propsData.entity;return null==t.id&&(this.$set(t,"adjustNo",this.$commonUtil.appConst.nullNo),this.$set(t,"creatorName",this.$commonUtil.appConst.getCurrUserName()),this.$set(t,"status",this.const.statusEnum.STATUS_READY),this.$set(t,"adjustType",this.const.adjustType.Type_Normal),this.$set(t,"detailList",[]),this.$set(t,"oldDetails",[]),this.$set(t,"oriDbList",[]),this.$set(t,"showDbList",[])),t},closeWin:function(){this.$commonUtil.tab.close(this)},initFormState:function(){this.formModel.detailList&&(this.calcUnit(this.formModel.detailList),this.$set(this.formModel,"oldDetails",this.$commonUtil.deepClone(this.formModel.detailList)),this.$set(this.formModel,"oriDbList",this.$commonUtil.deepClone(this.formModel.detailList.filter(function(t){return t.ori}))),this.$set(this.formModel,"showDbList",this.$commonUtil.deepClone(this.formModel.detailList.filter(function(t){return!t.ori}))));var t=this.$commonUtil.permission.hasSaveAuth(this),e=this.$commonUtil.permission.hasCheckAuth(this),a=this.$commonUtil.permission.hasPrintAuth(this);e||this.$refs.btn_check.setDisabled(!0),a||this.$refs.btn_print.setDisabled(!0),t&&this.formModel.status==this.const.statusEnum.STATUS_READY||(this.formReadOnly=!0,this.config.allowEdit=!1,this.$refs.btn_save.setDisabled(!0),this.$refs.btn_check.setDisabled(!0),this.$refs.btn_getstock.setDisabled(!0),this.$refs.btn_remove.setDisabled(!0))},deleteRows:function(){var t=this,e=this.$refs.pmTable.getSelectedRows(),a=function(t,e){return t.filter(function(t){return t.packId!=e})};this.$commonUtil.removeRows(e,function(e){t.formModel.detailList=a(t.formModel.detailList,e.packId),t.formModel.oldDetails=a(t.formModel.oldDetails,e.packId),t.formModel.oriDbList=a(t.formModel.oriDbList,e.packId),t.formModel.showDbList=a(t.formModel.showDbList,e.packId)})},calcUnit:function(t){var e=this;t.forEach(function(t){e.$commonUtil.calUnitWeight(t,t.netWeight,t.grossWeight,t.poundWeight,t.amount)})},getStock:function(){var t=this.adjustStrategy.getFilter();t.cstId=this.formModel.cstId;var e=this;this.$commonUtil.selProduct(this,t,function(t){var a=[];t.forEach(function(t){if(e.formModel.showDbList.find(function(e){return e.packId==t.id}))return void a.push(t.packNo);t.ori=!1,t.relation=e.$commonUtil.appConst.NewGuid(),e.$set(t,"packId",t.id),e.$set(t,"id",null),e.$set(t,"cardNo",t.cstPackNo),e.$set(t,"whsLayer",t.whsLayerId),e.$set(t,"amount",t.usableNum),e.$commonUtil.calUnitWeight(t,t.netWeight,t.grossWeight,t.poundWeight,t.amount),e.adjustStrategy.addNewDetailSetting(t),e.formModel.showDbList.push(t),e.formModel.detailList.push(t);var n=e.$commonUtil.deepClone(t);n.ori=!0,e.formModel.oldDetails.push(n),e.formModel.oriDbList.push(n),e.formModel.detailList.push(n)}),a.length>0&&e.$commonUtil.message.alert("捆包["+a.join(",")+"]已经存在，不允许重复添加!")})},form_change:function(t,e,a){"cstId"==t&&a&&(this.formModel.cstName=a.cstFullName)},cellValueChange:function(t,e,a,n){"cstId"==e&&n&&(t.cstName=n.cstFullName),this.detail_change(t,e,a),this.data_valid(t,e,a)},detail_change:function(t,e,a){var n=this.$commonUtil.valid.isOutByNum(t.brandId);1==t.calcType&&n&&"amount"==e&&(null!=t.netUnit&&(t.netWeight=this.$commonUtil.calc.fixThree(a*t.netUnit)),null!=t.grossUnit&&(t.grossWeight=this.$commonUtil.calc.fixThree(a*t.grossUnit)),null!=t.poundUnit&&(t.poundWeight=this.$commonUtil.calc.fixThree(a*t.poundUnit)))},data_valid:function(t,e,a){var n=this.formModel.oldDetails.concat(this.formModel.oriDbList),o=n.find(function(e){return e.packId==t.packId});null==o&&(o=t);var i=this;this.adjustStrategy.getValidRules().filter(function(t){return t.fieldName==e}).forEach(function(e){e.validFunc(t,o,i)&&i.$commonUtil.valid.throwEx(e.msg)})},refreshList:function(){var t=this.$options.parent.propsData.parent;t&&t.refreshList&&t.refreshList()},updateTitle:function(t){this.$commonUtil.tab.updateTitle(this,t)},getEntity:function(){var t=JSON.parse(JSON.stringify(this.formModel));t.detailList=this.formModel.showDbList.concat(this.formModel.oriDbList);var e=t.detailList.filter(function(t){return!t.ori});return t.totalAmount=g.a.sum(e,function(t){return t.amount}),t.totalNetWeight=g.a.sum(e,function(t){return t.netWeight}),t.totalGrossWeight=g.a.sum(e,function(t){return t.grossWeight}),t.totalPoundWeight=g.a.sum(e,function(t){return t.poundWeight}),t},entity_valid:function(t){var e=this;this.$refs.pmTable.validator(),null!=t.detailList&&0!=t.detailList.length||this.$commonUtil.valid.throwEx("请至少添加一条捆包信息");var a=this.formModel.oldDetails.concat(this.formModel.oriDbList),n=this.adjustStrategy.getValidRules();t.showDbList.forEach(function(t){var o=a.find(function(e){return e.packId==t.packId});null==o&&(o=t),n.forEach(function(a){a.validFunc(t,o,e)&&e.$commonUtil.valid.throwEx(a.msg)})});var o=[],i=t.showDbList.group(function(t){return t.packNo});for(var r in i)i[r].length>1&&o.push(r);o.length>0&&e.$commonUtil.valid.throwEx("明细中存在重复的捆包号["+o.join(",")+"]")},saveInfo:function(){var t=this;this.$refs.mainForm.validate(this,function(e){var a=t.getEntity();t.entity_valid(a);var n=t;null==a.id?t.baseSave("whsadjust/add",a,"保存调整单成功",function(t){n.updateTitle("编辑调整单["+t.adjustNo+"]")}):t.baseSave("whsadjust/update",a,"保存调整单成功")})},saveAndAuditInfo:function(){var t=this;this.$refs.mainForm.validate(this,function(e){var a=t.getEntity();t.entity_valid(a);var n=t;null==a.id?t.baseSave("whsadjust/addAndCheck",a,"保存并审核成功",function(t){n.updateTitle("编辑调整单["+t.adjustNo+"]")}):t.baseSave("whsadjust/updateAndCheck",a,"保存并审核成功")})},printInfo:function(){},baseSave:function(t,e,a,n){var o=this;e.oldList=[],this.$httpUtil.post(t,e,function(t){o.$message({message:a,type:"success"});for(var e in t)o.$set(o.formModel,e,t[e]);n&&n(t),o.initFormState(),o.refreshList()})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(122),h=a.n(u),_=a(118),f=(a.n(_),a(117)),b=a.n(f),v=a(120),g=a.n(v),y=a(116),x=a.n(y),w=a(121),N=a(70),I=a.n(N),S=(a(7),a(28)),D=a(119),$=a.n(D),T=a(69),C=a.n(T),k=a(115),E=a.n(k),L=a(10),F=a(374),M=a.n(F);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,x_table:h.a,pm_search:g.a,pm_form_item:b.a,pm_table:x.a,pm_column:I.a,pm_pagination:$.a,pm_toolButton:C.a,pm_tool_bar:E.a},mixins:[w.a],data:function(){return{dataSource:[],totalData:null,config:{entity:S.a.wmsNoteAdjustDetail,allowEdit:!1,multiple:!1,extendConfig:{field:"old",props:[{prop:"adjustNo",label:"调整单号"},{prop:"cstId",label:"货主单位"},{prop:"cardNo",label:"卡号"},{prop:"packNo",label:"捆包号"},{prop:"brandId",label:"品名(名称)"},{prop:"textureId",label:"材质(钢种)"},{prop:"spec",label:"规格"},{prop:"producingId",label:"产地"},{prop:"calcType",label:"计重方式"},{prop:"netWeight",label:"净重"},{prop:"grossWeight",label:"毛重"},{prop:"poundWeight",label:"磅重"},{prop:"amount",label:"数量"},{prop:"measurementUnit",label:"数量单位"},{prop:"unitNumber",label:"单包支数"},{prop:"whsCalcStackId",label:"库区"},{prop:"whsStackName",label:"库位"},{prop:"whsLayer",label:"层数"},{prop:"manufactureTime",label:"出厂日期"},{prop:"stoveCode",label:"炉号"},{prop:"whsinTime",label:"首入库日期"},{prop:"costTime",label:"货主入库时间"},{prop:"transferTimes",label:"过户次数"}]}},totalSize:{type:Number,default:0},searchFields:[{displayName:"调整单号",fieldName:"adjustNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-2-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-3-6-8-0"},{displayName:"品名(品种)",fieldName:"brandId",xtype:"search_select_input",searchLoc:"1-4-6-9-0"},{displayName:"材质(钢种)",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-1-6-9-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"select",searchLoc:"2-3-6-8-0"},{displayName:"库位",fieldName:"whsCalcStackId",xtype:"tree_select",searchLoc:"2-4-6-8-0"},{displayName:"炉号",fieldName:"stoveCode",xtype:"text",searchLoc:"3-1-6-8-0"},{displayName:"净重",fieldName:"netWeight",xtype:"number",searchLoc:"3-2-6-8-0"},{displayName:"毛重",fieldName:"grossWeight",xtype:"number",searchLoc:"3-3-6-8-0"},{displayName:"磅重",fieldName:"poundWeight",xtype:"number",searchLoc:"3-4-6-8-0"},{displayName:"制单日期",fieldName:"createTime",dateBegin:"createTimeStart",dateEnd:"createTimeEnd",xtype:"daterange",searchLoc:"4-1-12-4-0"},{displayName:"首入库日期",timeDefault:[],fieldName:"whsinTime",dateBegin:"inTimeStart",dateEnd:"inTimeEnd",xtype:"daterange",searchLoc:"4-2-12-5-0"},{displayName:"调整类型",fieldName:"adjustType",xtype:"select",searchLoc:"5-1-6-8-0"}]}},methods:{editWin:function(t){var e=this;L.a.getEntity("whsadjust/getList","whsadjust/getDetailList",{page:0,size:1e3,adjustId:t.adjustId},function(a){e.$tab.open({component:M.a,name:"编辑调整单["+t.adjustNo+"]",propsData:{key:t.adjustId,entity:a,parent:e}})})},getParam:function(){console.log(this.formModel),this.$refs.demoForm.validate()},getList:function(t,e){var a=this.$refs.pm_search.getParam();a.page=t,a.size=2*e,this.$commonUtil.handler.packNoHander(a);var n=this;this.$httpUtil.post("whsadjust/getDetailList",a,function(t){var e=t.content.filter(function(t){return!t.ori}),a=t.content.filter(function(t){return t.ori});e.forEach(function(t){t.old=a.find(function(e){return e.relation==t.relation})}),n.dataSource=e,n.totalSize=t.total/2})},queryData:function(t){var e=this;this.getAllData(function(t){e.totalData=t,e.$refs.pager.refreshData()})},getAllData:function(t){var e=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(e),e.page=0,e.size=1e5,this.$httpUtil.post("whsadjust/getDetailList",e,function(e){if(t){var a=((e||{}).content||[]).filter(function(t){return!t.ori});t(a)}})},exportFunc:function(){var t=this;this.getAllData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e,a,"调整单台账列表")})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(122),h=a.n(u),_=a(118),f=(a.n(_),a(117)),b=a.n(f),v=a(120),g=a.n(v),y=a(121),x=a(116),w=a.n(x),N=a(70),I=a.n(N),S=a(119),D=a.n(S),$=a(69),T=a.n($),C=a(115),k=a.n(C),E=(a(7),a(28)),L=(a(10),a(374)),F=a.n(L),M=a(375),W=a.n(M);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,x_table:h.a,pm_search:g.a,pm_form_item:b.a,pm_table:w.a,pm_column:I.a,pm_pagination:D.a,pm_toolButton:T.a,pm_tool_bar:k.a,noteAdjustPrint:W.a},mixins:[y.a],data:function(){return{dataSource:[],totalData:null,config:{entity:E.a.wmsNoteAdjust,allowEdit:!1,multiple:!1,dbclick:this.editTab},totalSize:0,searchFields:[{displayName:"调整单号",fieldName:"adjustNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-2-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-3-6-8-0"},{displayName:"状态",fieldName:"status",xtype:"select_batch",searchLoc:"1-4-6-8-0"},{displayName:"品名(品种)",fieldName:"brandId",xtype:"search_select_input",searchLoc:"2-1-6-9-0"},{displayName:"材质(钢种)",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-2-6-9-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-3-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"2-4-6-8-0"},{displayName:"制单日期",fieldName:"createTime",dateBegin:"createTimeStart",dateEnd:"createTimeEnd",xtype:"datetimerange",searchLoc:"3-1-12-4-0"},{displayName:"调整类型",fieldName:"adjustType",xtype:"select_batch",searchLoc:"3-2-6-8-0"}]}},methods:{printFunc:function(){var t=this.getCurrentRow(),e=this;this.$commonUtil.getEntity("whsadjust/getList","whsadjust/getDetailList",{page:0,size:1e4,adjustId:t.id},function(t){e.$refs.print.printDiv(t)})},addTab:function(){var t={component:F.a,propsData:{entity:{},parent:this},name:"添加调整单"};this.$tab.open(t)},editTab:function(t,e){var a=this;this.$commonUtil.getEntity("whsadjust/getList","whsadjust/getDetailList",{page:0,size:1e3,adjustId:t.id},function(e){a.$tab.open({component:F.a,name:"编辑调整单["+t.adjustNo+"]",propsData:{key:t.id,entity:e,parent:a}})})},refreshList:function(){if(void 0!=this.$refs){var t=this.$refs.pm_search.getParam();t.page=0,this.queryData(t)}},getParam:function(){console.log(this.formModel),this.$refs.demoForm.validate()},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},queryData:function(t){var e=this;this.getData(function(t){e.totalData=t.content,e.$refs.pager.refreshData()})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();n.page=e||0,n.size=a||1e5,this.$commonUtil.handler.statusHander(n),this.$commonUtil.handler.packNoHander(n),n.fAdjustType=n.adjustType,n.adjustType=null;this.$httpUtil.post("whsadjust/getList",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"调整单列表")})},deleteInfo:function(){var t=this,e=this.getCurrentRow();e.status!=this.$metaData.wmsNoteAdjust.statusEnum.STATUS_READY&&this.$commonUtil.valid.throwEx("只允许对待审核状态的单据执行作废操作");var a=this;this.$commonUtil.message.confirm("确认作废该调整单["+e.adjustNo+"]?",function(){t.$httpUtil.post("whsadjust/delete",e,function(t){a.$message({message:"作废成功",type:"success"}),a.refreshList()})})},checkInfo:function(){var t=this.getCurrentRow();t.status!=this.$metaData.wmsNoteAdjust.statusEnum.STATUS_READY&&this.$commonUtil.valid.throwEx("只允许对待审核状态的单据执行审核操作");var e=this;this.$httpUtil.post("whsadjust/check",t,function(t){e.$message({message:"库存调整成功",type:"success"}),e.refreshList()})},getCurrentRow:function(){var t=this.$refs.pmTable.currentRow;return t||this.$commonUtil.valid.throwEx(this,"请选择一条调整单"),t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),o=a(9),i=a(28),r=a(368),s=a.n(r);e.default={props:{},data:function(){return{config:{mainEntity:i.a.wmsNoteAdjust,detailEntity:i.a.wmsNoteAdjustDetail,dicCache:null},mainInfo:{},whsInfo:{},detailInfo:[],isPrinting:!1,key:this.$commonUtil.appConst.NewGuid()}},methods:{printDiv:function(t){this.initData(t),this.isPrinting=!0},getDisplayModel:function(t,e){this.config.dicCache||(this.config.dicCache=n.a.getDic());var a={};for(var i in t){var r=o.a.getDisplayText(e,i,t[i],this.config.dicCache);a[i]=r}return a},initData:function(t){var e=this;this.detailInfo=t.detailList.filter(function(t){return!t.ori}).map(function(t){return e.getDisplayModel(t,e.config.detailEntity)}),this.mainInfo=this.getDisplayModel(t,this.config.mainEntity),this.whsInfo=this.$cacheUtil.getUser().accountInfo}},updated:function(){this.mainInfo&&this.isPrinting&&s()({printable:this.key,type:"html",scanStyles:!1,css:"/static/css/contract.css"}),this.isPrinting=!1}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(a(7),a(39),a(28)),o=(a(10),a(122)),i=a.n(o),r=a(118),s=(a.n(r),a(117)),l=a.n(s),c=a(120),p=a.n(c),m=a(116),d=a.n(m),u=a(70),h=a.n(u),_=a(69),f=a.n(_),b=a(115),v=a.n(b),g=a(377),y=a.n(g),x=n.a.wmsNoteLock.statusEnum,w=[{fieldName:"amount",msg:"锁定数量不能超过库存可用数量",validFunc:function(t,e,a){return!!a.$commonUtil.valid.isOutByNum(t.brandId,a.dicCache.BrandNameList.list)&&t.amount>e.amount}},{fieldName:"grossWeight",msg:"锁定毛重不能超过库存可用毛重",validFunc:function(t,e,a){return t.grossWeight>e.grossWeight}},{fieldName:"poundWeight",msg:"锁定磅重不能超过库存可用磅重",validFunc:function(t,e){return t.grossWeight>e.grossWeight}},{fieldName:"amount",msg:"锁定数量必须大于0",validFunc:function(t,e,a){return!!a.$commonUtil.valid.isOutByNum(t.brandId,a.dicCache.BrandNameList.list)&&t.amount<=0}},{fieldName:"netWeight",msg:"锁定净重必须大于0",validFunc:function(t,e){return t.netWeight<=0}}];e.default={components:{x_table:i.a,pm_search:p.a,pm_form_item:l.a,pm_table:d.a,pm_column:h.a,pm_toolButton:f.a,pm_tool_bar:v.a,noteLockPrint:y.a},data:function(){return{rules:{cstId:[{required:!0,message:"请输入货主单位",trigger:"blur"}]},formModel:Object,dataSource:[],dicCache:this.$cacheUtil.getDic(),entity:this.$metaData.wmsNoteLock,formReadOnly:!1,config:{entity:this.$metaData.wmsNoteLockDetail,allowEdit:!0,multiple:!0,sortable:!1,height:240,rowCanEdit:function(t){return!0},change:this.cellValueChange}}},created:function(){this.formModel=this.getFormModel()},mounted:function(){this.initFormState()},methods:{printFunc:function(){this.formModel.id||this.$commonUtil.valid.throwEx("请先保存单据");var t=this;this.$commonUtil.getEntity("whslock/getList","whslock/getDetailList",{page:0,size:1e4,lockId:this.formModel.id},function(e){t.$refs.print.printDiv(e)})},cellCanEdit:function(t){return!0},getFormModel:function(){var t=this.$options.parent.propsData.entity;return null==t.id&&(this.$set(t,"lockNo",this.$commonUtil.appConst.nullNo),this.$set(t,"creatorName",this.$commonUtil.appConst.getCurrUserName()),this.$set(t,"status",x.STATUS_READY),this.$set(t,"detailList",[]),this.$set(t,"oldDetails",[])),t},closeWin:function(){this.$commonUtil.tab.close(this)},calcUnit:function(t){var e=this;t.forEach(function(t){e.$commonUtil.calUnitWeight(t,t.netWeight,t.grossWeight,t.poundWeight,t.amount)})},initFormState:function(){this.formModel.detailList&&(this.calcUnit(this.formModel.detailList),this.formModel.oldDetails=this.$commonUtil.deepClone(this.formModel.detailList));var t=this.$commonUtil.permission.hasSaveAuth(this),e=this.$commonUtil.permission.hasCheckAuth(this),a=this.$commonUtil.permission.hasPrintAuth(this);e||this.$refs.btn_check.setDisabled(!0),a||this.$refs.btn_print.setDisabled(!0),t&&this.formModel.status==x.STATUS_READY||(this.formReadOnly=!0,this.config.allowEdit=!1,this.$refs.btn_save.setDisabled(!0),this.$refs.btn_check.setDisabled(!0),this.$refs.btn_getstock.setDisabled(!0),this.$refs.btn_remove.setDisabled(!0))},deleteRows:function(){var t=this,e=this.$refs.pmTable.getSelectedRows();this.$commonUtil.removeSelectedRows(e,this.formModel.detailList,function(t,e){return t.packId==e.packId},function(e){t.formModel.oldDetails.splice(t.formModel.oldDetails.findIndex(function(t){return t.packId==e.packId}),1)})},getStock:function(){var t=this;this.$commonUtil.selProduct(this,{cstId:this.formModel.cstId},function(e){var a=[];e.forEach(function(e){if(t.formModel.detailList.find(function(t){return t.packId==e.id}))return void a.push(e.packNo);t.$set(e,"packId",e.id),t.$set(e,"id",null),t.$set(e,"cardNo",e.cstPackNo),t.$set(e,"whsLayer",e.whsLayerId),t.$set(e,"grossWeight",e.usableGrossWeight),t.$set(e,"poundWeight",e.usablePoundWeight),t.$set(e,"amount",e.usableNum),t.$commonUtil.calUnitWeight(e,e.netWeight,e.grossWeight,e.poundWeight,e.amount),t.formModel.detailList.push(e),t.formModel.oldDetails.push(t.$commonUtil.deepClone(e))}),a.length>0&&t.$commonUtil.message.alert("捆包["+a.join(",")+"]已经存在，不允许重复添加!")})},form_change:function(t,e,a){"cstId"==t&&a&&(this.formModel.cstName=a.cstFullName)},cellValueChange:function(t,e,a,n){"cstId"==e&&n&&(t.cstName=n.cstFullName),this.detail_change(t,e,a),this.data_valid(t,e,a)},detail_change:function(t,e,a){var n=this.$commonUtil.valid.isOutByNum(t.brandId);1==t.calcType&&n&&"amount"==e&&(null!=t.netUnit&&(t.netWeight=this.$commonUtil.calc.fixThree(a*t.netUnit)),null!=t.grossUnit&&(t.grossWeight=this.$commonUtil.calc.fixThree(a*t.grossUnit)),null!=t.poundUnit&&(t.poundWeight=this.$commonUtil.calc.fixThree(a*t.poundUnit)))},data_valid:function(t,e,a){var n=this.formModel.oldDetails.find(function(e){return e.packId==t.packId});null==n&&(n=t);var o=this;w.filter(function(t){return t.fieldName==e}).forEach(function(e){e.validFunc(t,n,o)&&o.$commonUtil.valid.throwEx(e.msg)})},refreshList:function(){var t=this.$options.parent.propsData.parent;t&&t.refreshList&&t.refreshList()},updateTitle:function(t){this.$commonUtil.tab.updateTitle(this,t)},getEntity:function(){var t=JSON.parse(JSON.stringify(this.formModel));return t.totalAmount=t.detailList.sum(function(t){return t.amount}),t.totalNetWeight=t.detailList.sum(function(t){return t.netWeight}),t.totalGrossWeight=t.detailList.sum(function(t){return t.grossWeight}),t.totalPoundWeight=t.detailList.sum(function(t){return t.poundWeight}),t},entity_valid:function(t){this.$refs.pmTable.validator();var e=this;null!=t.detailList&&0!=t.detailList.length||this.$commonUtil.valid.throwEx("请至少添加一条捆包信息"),t.detailList.forEach(function(t){var a=e.formModel.oldDetails.find(function(e){return e.packId==t.packId});null==a&&(a=t),w.forEach(function(n){n.validFunc(t,a,e)&&e.$commonUtil.valid.throwEx(n.msg)})});var a={},n=[],a=t.detailList.group(function(t){return t.packNo});for(var o in a)a[o].length>1&&n.push(o);n.length>0&&e.$commonUtil.valid.throwEx("明细中存在重复的捆包号["+n.join(",")+"]")},saveInfo:function(){var t=this;this.$refs.mainForm.validate(this,function(e){var a=t.getEntity();t.entity_valid(a);var n=t;null==a.id?t.baseSave("whslock/add",a,"保存锁定单成功",function(t){n.updateTitle("编辑锁定单["+t.lockNo+"]")}):t.baseSave("whslock/update",a,"保存锁定单成功")})},saveAndAuditInfo:function(){var t=this;this.$refs.mainForm.validate(this,function(e){var a=t.getEntity();t.entity_valid(a);var n=t;null==a.id?t.baseSave("whslock/addAndLock",a,"保存并审核成功",function(t){n.updateTitle("编辑锁定单["+t.lockNo+"]")}):t.baseSave("whslock/updateAndLock",a,"保存并审核成功")})},printInfo:function(){},baseSave:function(t,e,a,n){var o=this;this.$httpUtil.post(t,e,function(t){o.$message({message:a,type:"success"});for(var e in t)o.$set(o.formModel,e,t[e]);n&&n(t),o.initFormState(),o.refreshList()})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(122),h=a.n(u),_=a(118),f=(a.n(_),a(117)),b=a.n(f),v=a(120),g=a.n(v),y=a(121),x=a(116),w=a.n(x),N=a(70),I=a.n(N),S=(a(7),a(28)),D=a(119),$=a.n(D),T=a(69),C=a.n(T),k=a(115),E=a.n(k),L=a(10),F=a(376),M=a.n(F);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,x_table:h.a,pm_search:g.a,pm_form_item:b.a,pm_table:w.a,pm_column:I.a,pm_pagination:$.a,pm_toolButton:C.a,pm_tool_bar:E.a},mixins:[y.a],data:function(){return{dataSource:[],totalData:null,config:{entity:S.a.wmsNoteLockDetail,allowEdit:!1,multiple:!1},totalSize:{type:Number,default:0},searchFields:[{displayName:"锁定单号",fieldName:"lockNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-2-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-3-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"2-2-6-8-0"},{displayName:"炉号",fieldName:"stoveCode",xtype:"text",searchLoc:"2-3-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-4-6-8-0"},{displayName:"库位",fieldName:"whsCalcStackId",xtype:"tree_select",searchLoc:"3-1-6-8-0"},{displayName:"净重",fieldName:"netWeight",xtype:"number",searchLoc:"3-2-6-8-0"},{displayName:"毛重",fieldName:"grossWeight",xtype:"number",searchLoc:"3-3-6-8-0"},{displayName:"磅重",fieldName:"poundWeight",xtype:"number",searchLoc:"3-4-6-8-0"},{displayName:"制单日期",fieldName:"createTime",dateBegin:"createTimeStart",dateEnd:"createTimeEnd",xtype:"daterange",searchLoc:"4-1-12-4-0"},{displayName:"首入库日期",timeDefault:[],fieldName:"whsinTime",dateBegin:"inTimeStart",dateEnd:"inTimeEnd",xtype:"daterange",searchLoc:"4-2-12-5-0"}]}},methods:{editTab:function(t){var e=this;L.a.getEntity("whslock/getList","whslock/getDetailList",{page:0,size:1e3,lockId:t.lockId},function(a){e.$tab.open({component:M.a,name:"编辑锁定单["+t.lockNo+"]",propsData:{key:t.lockId,entity:a,parent:e}})})},getParam:function(){console.log(this.formModel),this.$refs.demoForm.validate()},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},queryData:function(t){var e=this;this.getData(function(t){e.totalData=t.content,e.$refs.pager.refreshData()})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,this.$httpUtil.post("whslock/getDetailList",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"锁定单台账列表")})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(122),h=a.n(u),_=a(118),f=(a.n(_),a(117)),b=a.n(f),v=a(120),g=a.n(v),y=a(121),x=a(116),w=a.n(x),N=a(70),I=a.n(N),S=a(119),D=a.n(S),$=a(69),T=a.n($),C=a(115),k=a.n(C),E=a(376),L=a.n(E),F=a(377),M=a.n(F);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,x_table:h.a,pm_search:g.a,pm_form_item:b.a,pm_table:w.a,pm_column:I.a,pm_pagination:D.a,pm_toolButton:T.a,pm_tool_bar:k.a,noteLockPrint:M.a},mixins:[y.a],data:function(){return{dataSource:[],totalData:null,config:{entity:this.$metaData.wmsNoteLock,allowEdit:!1,multiple:!0,dbclick:this.editTab},totalSize:0,searchFields:[{displayName:"锁定单号",fieldName:"lockNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-2-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-3-6-8-0"},{displayName:"锁定状态",fieldName:"status",xtype:"select_batch",searchLoc:"1-4-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-2-6-8-0",watchField:"brandId"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"2-3-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-4-6-8-0"},{displayName:"制单时间",dateBegin:"createTimeStart",dateEnd:"createTimeEnd",fieldName:"createTime",xtype:"daterange",searchLoc:"3-1-12-4-0"}]}},methods:{addTab:function(){var t={component:L.a,propsData:{entity:{},parent:this},name:"添加锁定单"};this.$tab.open(t)},editTab:function(t,e){var a=this;this.$commonUtil.getEntity("whslock/getList","whslock/getDetailList",{page:0,size:1e3,lockId:t.id},function(e){a.$tab.open({component:L.a,name:"编辑锁定单["+t.lockNo+"]",propsData:{key:t.id,entity:e,parent:a}})})},refreshList:function(){void 0!=this.$refs&&this.queryData()},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},queryData:function(t){var e=this;this.getData(function(t){e.totalData=t.content,e.$refs.pager.refreshData()})},deleteInfo:function(){var t=this,e=this.getCurrentRow();e.status!=this.$metaData.wmsNoteLock.statusEnum.STATUS_READY&&this.$commonUtil.valid.throwEx("只允许对待审核状态的单据执行作废操作");var a=this;this.$commonUtil.message.confirm("确认作废该锁定单["+e.lockNo+"]?",function(){t.$httpUtil.post("whslock/delete",e,function(t){a.$message({message:"作废成功",type:"success"}),a.refreshList()})})},lockInfo:function(){var t=this.getCurrentRow();t.status!=this.$metaData.wmsNoteLock.statusEnum.STATUS_READY&&this.$commonUtil.valid.throwEx("只允许对待审核状态的单据执行审核操作");var e=this;this.$httpUtil.post("whslock/lock",t,function(t){e.$message({message:"锁定成功",type:"success"}),e.refreshList()})},unLockInfo:function(){var t=this,e=this.getAllSelected(),a=e.filter(function(e){return e.status!=t.$metaData.wmsNoteLock.statusEnum.STATUS_LOCKED});if(a.length>0){var n=a.map(function(t){return t.lockNo}).join("、");this.$commonUtil.valid.throwEx("锁定单["+n+"]未被锁定\r\n只允许对已锁定状态的单据执行解锁操作！")}var o=this;this.$httpUtil.post("whslock/batchUnlock",e,function(t){o.$message({message:"解锁成功",type:"success"}),o.refreshList()})},getCurrentRow:function(){var t=this.getAllSelected();return t.length>1&&this.$commonUtil.valid.throwEx("只允许选择一条锁定单"),t[0]},getAllSelected:function(){var t=this.$refs.pmTable.getSelectedRows();return null!=t&&0!=t.length||this.$commonUtil.valid.throwEx("请至少选择一条锁定单"),t},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();n.page=e||0,n.size=a||1e5,this.$commonUtil.handler.statusHander(n),this.$commonUtil.handler.packNoHander(n),this.$httpUtil.post("whslock/getList",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"锁定单列表")})},printFunc:function(){var t=this.getCurrentRow(),e=this;this.$commonUtil.getEntity("whslock/getList","whslock/getDetailList",{page:0,size:1e4,lockId:t.id},function(t){e.$refs.print.printDiv(t)})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),o=a(9),i=a(28),r=a(368),s=a.n(r);e.default={props:{},data:function(){return{config:{mainEntity:i.a.wmsNoteLock,detailEntity:i.a.wmsNoteLockDetail,dicCache:null},mainInfo:{},whsInfo:{},detailInfo:[],isPrinting:!1,key:this.$commonUtil.appConst.NewGuid()}},methods:{printDiv:function(t){this.initData(t),this.isPrinting=!0},getDisplayModel:function(t,e){this.config.dicCache||(this.config.dicCache=n.a.getDic());var a={};for(var i in t){var r=o.a.getDisplayText(e,i,t[i],this.config.dicCache);a[i]=r}return a},initData:function(t){var e=this;this.detailInfo=t.detailList.map(function(t){return e.getDisplayModel(t,e.config.detailEntity)}),this.mainInfo=this.getDisplayModel(t,this.config.mainEntity),console.log(this.mainInfo),this.whsInfo=this.$cacheUtil.getUser().accountInfo}},updated:function(){this.mainInfo&&this.isPrinting&&s()({printable:this.key,type:"html",scanStyles:!1,css:"/static/css/contract.css"}),this.isPrinting=!1}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=a(7),$=a(28),T=(a(39),a(1)),C=a(119),k=a.n(C),E=a(367),L=a.n(E),F=(a(10),a(40)),M=a(379),W=a.n(M),P=a(29),A=(a.n(P),{OPER_ADD:"1",OPER_EDIT:"2",OPER_ADJUST:"3",OPER_CHECK:"4"});e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:k.a,noteTransferPrint:W.a},data:function(){return{dataSource:[],mainEntity:$.a.wmsTransfer,config:{entity:$.a.wmsTransferDetail,allowEdit:!1,multiple:!0,change:function(t,e,a){var n=T.a.getDic().BrandNameList.list.filter(function(e){return e.id===t.brandId})[0];if(n&&1==t.calcType&&2!=n.whsoutType&&"amount"==e){var o=t.amount;t.amount=o,this.$set(t,"netWeight",(o*t.netUnit).toFixed(3)),this.$set(t,"grossWeight",(o*t.grossUnit).toFixed(3)),this.$set(t,"poundWeight",(o*t.poundUnit).toFixed(3))}}},formReadOnly:!1,formModel:null,totalSize:0,rules:{cstId:[{required:!0,message:"请输入货主单位",trigger:"blur"}]},pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}}}},created:function(){null==this.formModel&&(this.formModel=this.getFormModel())},mounted:function(){this.initFormState()},watch:{"formModel.cstInTimeType":function(){this.setCostTime()},"formModel.transferTime":function(){this.setCostTime()}},methods:{setCostTime:function(){if(1==this.formModel.cstInTimeType)this.formModel.aftList.forEach(function(t){return t.costTime=t.whsinTime});else if(2==this.formModel.cstInTimeType){var t=this.formModel.transferTime;this.formModel.aftList.forEach(function(e){return e.costTime=t})}},getStock:function(t,e){if(!this.formModel.oldCstId)return void this.$message("请先选择原货主！");var a=this;this.$commonUtil.selProduct(this,{cstId:this.formModel.oldCstId},function(t){var e=[];t.forEach(function(t){if(a.formModel.aftList.find(function(e){return e.packId==t.id}))return void e.push(t.packNo);a.$set(t,"packId",t.id),a.$set(t,"id",null),a.$set(t,"cardNo",t.cstPackNo),a.$set(t,"grossWeight",t.usableGrossWeight),a.$set(t,"poundWeight",t.usablePoundWeight),a.$set(t,"whsLayer",t.whsLayerId),a.$set(t,"amount",t.usableNum),a.$commonUtil.calUnitWeight(t,t.netWeight,t.grossWeight,t.poundWeight,t.amount),a.formModel.aftList.push(t)}),e.length>0&&a.$commonUtil.message.alert("捆包["+e.join(",")+"]已经存在，不允许重复添加!")}),this.setCostTime()},deleteRows:function(){var t=this.$refs.pmTable.getSelectedRows();this.$commonUtil.removeSelectedRows(t,this.formModel.aftList,function(t,e){return t.packId==e.packId})},getFormModel:function(){var t=this.$options.parent.propsData.entity;if(t.method==A.OPER_ADD){this.$set(t,"transferNo",this.$commonUtil.appConst.nullNo),this.$set(t,"creatorName",this.$commonUtil.appConst.getCurrUserName()),this.$set(t,"createTime",null),this.$set(t,"transferStatus",null),this.$set(t,"auditorName",null),this.$set(t,"cstInTimeType",1);var e=F.a.formatDate.format(new Date((new Date).toLocaleDateString()),"yyyy-MM-dd hh:mm:ss");this.$set(t,"transferTime",e),this.$set(t,"preList",[]),this.$set(t,"aftList",[])}else t.aftList||(this.$set(t,"cstInTimeType",t.cstInTimeType),t.aftList=t.detailList);return t},initFormState:function(){switch(this.formModel.method){case A.OPER_ADD:this.config.allowEdit=!0,this.$refs.btn_settle.setDisabled(!0),this.$refs.btn_print.setDisabled(!0);break;case A.OPER_EDIT:this.calcUnit(this.formModel.aftList),this.formModel.preList=this.$commonUtil.deepClone(this.formModel.aftList),this.config.allowEdit=!0,this.$refs.btn_settle.setDisabled(!0);break;case A.OPER_ADJUST:this.calcUnit(this.formModel.aftList),this.formModel.preList=this.$commonUtil.deepClone(this.formModel.aftList),this.config.allowEdit=!0,this.$refs.form_cstInTimeType.setDisabled(!0),this.$refs.btn_saveAndAudit.setDisabled(!0);break;case A.OPER_CHECK:this.calcUnit(this.formModel.aftList),this.formModel.preList=this.$commonUtil.deepClone(this.formModel.aftList),this.config.allowEdit=!1,this.formReadOnly=!0,this.$refs.btn_selectProduct.setDisabled(!0),this.$refs.btn_remove.setDisabled(!0),this.$refs.btn_save.setDisabled(!0),this.$refs.btn_saveAndAudit.setDisabled(!0),this.$refs.btn_settle.setDisabled(!1)}var t=this.$commonUtil.permission.hasSaveAuth(this),e=this.$commonUtil.permission.hasCheckAuth(this),a=this.$commonUtil.permission.hasPrintAuth(this);t||(this.$refs.btn_save.setDisabled(!0),this.$refs.btn_saveAndAudit.setDisabled(!0)),e||this.$refs.btn_saveAndAudit.setDisabled(!0),a||this.$refs.btn_print.setDisabled(!0)},calcUnit:function(t){var e=this;t.forEach(function(t){e.$commonUtil.calUnitWeight(t,t.netWeight,t.grossWeight,t.poundWeight,t.amount)})},refreshMain:function(){var t=this.$options.parent.propsData.parentView;t&&t.queryData&&t.queryData()},saveInfo:function(){var t=this.getEntity();if(t){var e=this;this.formModel.method==A.OPER_ADD?this.baseSave("whsTransfer/addTransferNote",t,"新增过户单成功",function(t){e.save2Update(t)}):this.formModel.method==A.OPER_EDIT?this.baseSave("whsTransfer/updateTransferNote",t,"修改过户单成功",function(t){e.save2Update(t)}):this.formModel.method==A.OPER_ADJUST&&this.baseSave("whsTransfer/updateTransferNote",t,"调整过户单成功")}},save2Update:function(t){for(var e in t)this.formModel[e]=t[e];this.formModel.method=A.OPER_EDIT,this.$commonUtil.tab.updateTitle(this,"编辑过户单["+t.transferNo+"]")},audit2Check:function(t){for(var e in t)this.formModel[e]=t[e];this.formModel.method=A.OPER_CHECK,this.$commonUtil.tab.updateTitle(this,"查看过户单["+t.transferNo+"]")},baseSave:function(t,e,a,n){var o=this;this.$httpUtil.post(t,e,function(t){o.$message({message:a,type:"success"}),n&&n(t),o.initFormState(),o.refreshMain()})},validInfo:function(t){var e=this;t.oldCstId||this.$commonUtil.valid.throwEx(this,"原货主信息不能为空!"),t.newCstId||this.$commonUtil.valid.throwEx(this,"新货主信息不能为空!"),(!t.aftList||!t.aftList.length>0)&&this.$commonUtil.valid.throwEx(this,"明细信息不能为空!");var a=T.a.getDic().BrandNameList.list;t.aftList.forEach(function(t){(t.netWeight<=0||t.grossWeight<0||t.poundWeight<0)&&e.$commonUtil.valid.throwEx(e,"过户单明细中重量必须大于0!");var n=a.filter(function(e){return e.id===t.brandId})[0];t.amount<=0&&2!=n.whsoutType&&e.$commonUtil.valid.throwEx(e,"过户单明细中数量必须大于0!")})},getEntity:function(){if(this.formModel.createCstName)return this.createCst(),null;this.$refs.inForm.validate(this),this.validInfo(this.formModel);var t=JSON.parse(JSON.stringify(this.formModel));return t.totalAmount=t.aftList.sum(function(t){return t.amount}),t.totalNetWeight=t.aftList.sum(function(t){return t.netWeight}),t.totalGrossWeight=t.aftList.sum(function(t){return t.grossWeight}),t.totalPoundWeight=t.aftList.sum(function(t){return t.poundWeight}),t},createCst:function(t){var e=this;this.$confirm(this.formModel.createCstName+"该货主不存在！是否需要自动创建","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={};a.cstFullName=e.formModel.createCstName,a.cstShortName=e.formModel.createCstName,D.a.post("cst/addCstFast",a,function(a){e.$message({message:"货主创建成功！",type:"success"}),e.formModel.newCstId=a.id,e.formModel.createCstName=null,t&&t(a)})}).catch(function(){})},saveAndAuditInfo:function(){var t=this.getEntity();if(t){var e=this;this.baseSave("whsTransfer/SaveAndAuditTransferNote",t,"保存并审核过户单成功",function(t){e.audit2Check(t)})}},printInfo:function(){var t=this,e=JSON.parse(JSON.stringify(this.formModel));this.$commonUtil.getDetailEntity("whsTransfer/getTransferDetail",{id:e.id},e,function(e){t.$refs.print.printDiv(e)})},settleInfo:function(){var t=JSON.parse(JSON.stringify(this.formModel));2!=t.transferStatus&&this.$commonUtil.valid.throwEx(this,"当前过户单状态无法进行结算！"),t.detailList=t.preList,this.wrapData(t);var e={component:L.a,propsData:{entity:t},name:"新增结算单"};this.$tab.open(e)},closeWin:function(){this.$commonUtil.tab.close(this)},wrapData:function(t){t.businessNo=t.transferNo,t.cstId=t.oldCstId,t.businessType=4,t.createDate=t.createTime,t.creatorData=t.creator,t.detailList&&(t.detailList.forEach(function(t){t.material=t.textureId,t.productPlace=t.producingId,t.businessNo=t.transferNo,t.transferDate=t.auditTime,t.whsInFirstDate=t.whsinTime,t.createDate=t.createTime,t.numFin=t.amount,t.transferNum=t.transferTimes,t.businessType=4,t.costDate=t.costTime}),t.detail=t.detailList)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(378),T=a.n($),C=a(7),k=a(28),E=a(119),L=a.n(E),F={OPER_ADD:"1",OPER_EDIT:"2",OPER_ADJUST:"3",OPER_CHECK:"4"};e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,noteTransferEdit:T.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:L.a},mixins:[w.a],data:function(){return{dataSource:[],totalData:null,entity:k.a.wmsTransfer,config:{entity:k.a.wmsTransferDetail,allowEdit:!1},totalSize:0,searchFields:[{displayName:"过户单号",fieldName:"transferNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-2-6-8-0"},{displayName:"炉号",fieldName:"stoveCode",xtype:"text",searchLoc:"1-3-6-8-0"},{displayName:"原货主",fieldName:"oldCstId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"现货主",fieldName:"newCstId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"2-3-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-4-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"3-1-6-8-0"},{displayName:"净重",fieldName:"netWeight",xtype:"number",searchLoc:"3-2-6-8-0"},{displayName:"毛重",fieldName:"grossWeight",xtype:"number",searchLoc:"3-3-6-8-0"},{displayName:"磅重",fieldName:"poundWeight",xtype:"number",searchLoc:"3-4-6-8-0"},{displayName:"库位",fieldName:"whsCalcStackId",xtype:"tree_select",searchLoc:"4-1-6-8-0"},{displayName:"首入库时间",fieldName:"whsinTime",xtype:"date",searchLoc:"4-2-6-8-0"},{displayName:"制单时间",fieldName:"createTime",dateBegin:"createStartTime",dateEnd:"createEndTime",xtype:"datetimerange",searchLoc:"4-3-12-4-0"}]}},methods:{queryData:function(){var t=this;this.getData(function(e){t.totalData=e.content,t.$refs.pager.refreshData()})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,C.a.post("whsTransfer/getLedgerDetailByPage",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"过户单台账列表")})},editTab:function(t,e){var a=this,n=this.$commonUtil.deepClone(t);C.a.post("whsTransfer/getNoteByDetailId",n,function(e){var n=e,o="";1==t.transferStatus?(n.method=F.OPER_EDIT,o="编辑过户单["+t.transferNo+"]"):2==t.transferStatus&&(n.method=F.OPER_CHECK,o="查看过户单["+t.transferNo+"]");var i=a;a.$commonUtil.getDetailEntity("whsTransfer/getTransferDetail",{id:n.id},n,function(t){i.$tab.open({component:T.a,name:o,propsData:{entity:t,parentView:i}})})})},getTransferInfo:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(7),T=a(28),C=(a(10),a(119)),k=a.n(C),E=a(378),L=a.n(E),F=a(379),M=a.n(F),W=a(367),P=a.n(W),A=a(368),B=(a.n(A),{OPER_ADD:"1",OPER_EDIT:"2",OPER_ADJUST:"3",OPER_CHECK:"4"});e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:k.a,noteTransferPrint:M.a},data:function(){return{dataSource:[],totalData:null,config:{entity:T.a.wmsTransfer,allowEdit:!1,multiple:!1,dbclick:this.editTab},totalSize:0,searchFields:[{displayName:"过户单号",fieldName:"transferNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-2-6-8-0"},{displayName:"过户状态",fieldName:"transferStatus",xtype:"select",searchLoc:"1-3-6-8-0"},{displayName:"原货主",fieldName:"oldCstId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"现货主",fieldName:"newCstId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"2-3-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-4-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"3-1-6-8-0"},{displayName:"制单时间",fieldName:"createTime",dateBegin:"createStartTime",dateEnd:"createEndTime",xtype:"datetimerange",searchLoc:"3-2-12-4-0"}]}},methods:{queryData:function(){var t=this;this.getData(function(e){t.totalData=e.content,t.$refs.pager.refreshData()})},getTransferInfoByPage:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},addTab:function(){var t={};t.method=B.OPER_ADD;var e={component:L.a,propsData:{entity:t,parentView:this},name:"添加过户单"};this.$tab.open(e)},editTab:function(t,e){var a=this.$commonUtil.deepClone(t),n="";1==t.transferStatus?(a.method=B.OPER_EDIT,n="编辑过户单["+t.transferNo+"]"):2==t.transferStatus&&(a.method=B.OPER_CHECK,n="查看过户单["+t.transferNo+"]");var o=this;this.$commonUtil.getDetailEntity("whsTransfer/getTransferDetail",{id:t.id},a,function(t){o.$tab.open({component:L.a,name:n,propsData:{entity:t,parentView:o}})})},getSelectRow:function(){var t=this.$refs.pmTable.currentRow;return t||this.$commonUtil.valid.throwEx(this,"请先选择一条信息"),t},adjustTab:function(){var t=this.getSelectRow();if(2!=t.transferStatus)return void this.$alert("此条过户单还未审核！无法调整！","提示");var e=this;this.$commonUtil.getDetailEntity("whsTransfer/getTransferDetail",{id:t.id},t,function(t){t.method=B.OPER_ADJUST,e.$tab.open({component:L.a,name:"调整过户单["+t.transferNo+"]",propsData:{entity:t,parentView:e}})})},deleteInfo:function(){var t=this,e=this.getSelectRow();if(1!=e.transferStatus)return void this.$alert("已审核的过户单无法被作废！","提示");var a=this;this.$confirm("是否删除该条数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){$.a.post("whsTransfer/deleteTransferNote",e,function(e){t.$message({message:"作废成功！",type:"success"}),a.queryData()})}).catch(function(){})},auditInfo:function(){var t=this,e=this,a=this.$refs.pmTable.currentRow;return a?1!=a.transferStatus?void this.$alert("已审核的过户单无法被再次审核","提示"):void this.$confirm("确认审核该条数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){$.a.post("whsTransfer/auditTransferNote",a,function(a){t.$message({message:"审核成功！",type:"success"}),e.queryData()})}).catch(function(){}):void this.$alert("请先选择一条信息","提示")},printInfo:function(){var t=this,e=this.getSelectRow();this.$commonUtil.getDetailEntity("whsTransfer/getTransferDetail",{id:e.id},e,function(e){t.$refs.print.printDiv(e)})},settleInfo:function(){var t=this.getSelectRow();2!=t.transferStatus&&this.$commonUtil.valid.throwEx(this,"此条过户单还未进行审核！");var e=this.$commonUtil.deepClone(t),a=this;$.a.post("whsTransfer/getTransferDetail",t,function(t){e.detailList=t,a.wrapData(e);var n={component:P.a,propsData:{entity:e},name:"新增结算单"};a.$tab.open(n)})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,$.a.post("whsTransfer/getTransferNoteByPage",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"过户单列表")})},wrapData:function(t){t.businessNo=t.transferNo,t.cstId=t.oldCstId,t.businessType=4,t.createDate=t.createTime,t.creatorData=t.creator,t.detailList&&(t.detailList.forEach(function(e){e.material=e.textureId,e.productPlace=e.producingId,e.businessNo=e.transferNo,e.transferDate=t.auditTime,e.whsInFirstDate=e.whsinTime,e.createDate=e.createTime,e.numFin=e.amount,e.transferNum=e.transferTimes,e.businessType=4,e.costDate=e.costTime}),t.detail=t.detailList)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),o=a(9),i=a(28);e.default={props:{},data:function(){return{config:{mainEntity:i.a.wmsTransfer,detailEntity:i.a.wmsTransferDetail,dicCache:null},mainInfo:{whsInfo:{}},detailInfo:[],isPrinting:!1,key:this.$commonUtil.appConst.NewGuid()}},methods:{printDiv:function(t){this.initData(t),this.isPrinting=!0},getDisplayModel:function(t,e){this.config.dicCache||(this.config.dicCache=n.a.getDic());var a={};for(var i in t){var r=o.a.getDisplayText(e,i,t[i],this.config.dicCache);a[i]=r}return a},initData:function(t){var e=this,a=this;this.detailInfo=t.detailList.map(function(t){return a.getDisplayModel(t,e.config.detailEntity)}),this.mainInfo=this.getDisplayModel(t,this.config.mainEntity),this.mainInfo.whsInfo=n.a.getUser().accountInfo}},updated:function(){this.mainInfo&&this.isPrinting&&printJS({printable:this.key,type:"html",header:"打印过户单",scanStyles:!1,css:"/static/css/contract.css"}),this.isPrinting=!1}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=a(7),$=a(28),T=a(119),C=a.n(T),k=a(1),E=a(10),L=a(373),F=a.n(L),M=a(367),W=a.n(M),P=a(368),A=(a.n(P),a(381)),B=a.n(A),U={STATUS_READY:1,STATUS_SUCC:2,STATUS_DELETE:3},O={OPER_ADD:"3",OPER_EDIT:"1",OPER_ADJUST:"2"};e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:C.a,pm_upload:F.a,noteWhsInPrint:B.a},data:function(){var t=function(t,e,a){var n=/^[a-zA-Z0-9\,]+$/;e&&!n.test(e)?a(new Error("通知单只允许数字，字母和英文逗号!")):a()};return{dataSource:[],dicCache:k.a.getDic(),config:{entity:$.a.wmsIn,allowEdit:!0,multiple:!0,change:function(t,e,a){var n=this.$cacheUtil.getDic().BrandNameList.list;if("calcType"==e&&this.$set(t,"calcType",a),"measurementUnit"==e||"brandId"==e||"textureId"==e||"spec"==e||"producingId"==e||"amount"==e){var o=n.filter(function(e){return e.id===t.brandId})[0];if(o){if(2==o.whsoutType)return this.isTunOut=!0,void this.$set(t,"calcType",2);if(this.isTunOut&&this.$set(t,"calcType",null),1==t.calcType)if("measurementUnit"==e||"brandId"==e||"textureId"==e||"spec"==e||"producingId"==e){var i={};i.adjustmentType=t.measurementUnit,i.producingId=t.producingId,i.spec=t.spec,i.brandId=t.brandId;var r=t.amount;D.a.post("base/getPhysicalWeightBySelective",i,function(e){t.calcWeight=-1==e?0:e,0!=t.amount&&(t.netWeight=(t.calcWeight.toFixed(6)*r).toFixed(3))},null,!1)}else if("amount"==e){if(null==t.calcWeight||"undefined"==t.calcWeight)return;var r=t.amount;t.netWeight=(t.calcWeight.toFixed(6)*r).toFixed(3)}}}}},totalSize:{type:Number,default:0},rules:{billAttachmentId:[{trigger:"blur",validator:t}]},counter:0,formReadOnly:!1,deleteIdList:[],delPackNoList:[],calcWeight:0,formModel:Object,dialogVisible:!1,dialogTitle:"",dialogContent:String,isTunOut:!1}},created:function(){this.formModel=this.getFormModel()},mounted:function(){var t=this.$commonUtil.permission.hasSaveAuth(this),e=this.$commonUtil.permission.hasCheckAuth(this),a=this.$commonUtil.permission.hasPrintAuth(this);this.formModel.editFlag==O.OPER_ADJUST?this.adjustBtnInit():this.formModel.editFlag==O.OPER_EDIT?this.formModel.status==U.STATUS_SUCC?(this.$refs.add.setDisabled(!0),this.$refs.save.setDisabled(!0),this.$refs.cost.setDisabled(!1),this.$refs.downExcel.setDisabled(!0),this.$refs.uploadExcel.setDisabled(!0),this.$refs.addDetail.setDisabled(!0),this.$refs.duplicate.setDisabled(!0),this.$refs.remove.setDisabled(!0),this.$refs.upload.setDisabled(!0)):this.$refs.cost.setDisabled(!0):(this.$refs.btn_print.setDisabled(!0),this.$refs.cost.setDisabled(!0)),t||this.$refs.add.setDisabled(!0),e||this.$refs.save.setDisabled(!0),a||this.$refs.btn_print.setDisabled(!0)},methods:{settleInfo:function(){var t=JSON.parse(JSON.stringify(this.formModel));t.detailList=this.dataSource,this.wrapData(t);var e={component:W.a,propsData:{entity:t},name:"新增结算单"};this.$tab.open(e)},wrapData:function(t){t.businessNo=t.whsinCode,t.cstId=t.cstId,t.businessType=1,t.createDate=t.createTime,t.creatorData=t.creator,t.detailList&&(t.detailList.forEach(function(t){t.material=t.textureId,t.productPlace=t.producingId,t.businessNo=t.whsinCode,t.whsInFirstDate=t.whsinTime,t.createDate=t.createTime,t.numFin=t.amount,t.transferTimes?t.transferNum=t.transferTimes:t.transferNum=0,t.businessType=1,t.costDate=t.costTime}),t.detail=t.detailList)},printInfo:function(){var t=this;this.$commonUtil.getDetailEntity("whsin/getInDetailByMainId",{whsinMainId:this.formModel.id},this.formModel,function(e){t.$refs.print.printDiv(e)})},getFormModel:function(){var t=this.$options.parent.propsData.entity;return this.$set(t,"env","bs"),"3"==t.editFlag?(t.whsinCode=this.$commonUtil.appConst.nullNo,t.creatorName=k.a.getUser().configUser.name,this.$set(t,"status",1),this.$set(t,"whsinType",1),this.$set(t,"whsinStyle",2)):"1"==t.editFlag&&2==t.status&&(this.formReadOnly=!0,this.config.allowEdit=!1),t.createTime&&(t.creatorNameTime=t.creatorName+" ."+t.createTime),t.auditorName&&(t.auditorNameTime=t.auditorName+" ."+t.auditTime),this.dataSource=t.detailList,t},adjustBtnInit:function(){this.$refs.save.setDisabled(!0),this.$refs.cost.setDisabled(!1)},closeWin:function(){this.$commonUtil.tab.close(this)},addDetail:function(){var t=this;t.dataSource||(t.dataSource=[]);var e={};this.counter+=1,e.index=this.counter,e.netWeight=0,e.grossWeight=0,e.poundWeight=0,this.$set(e,"whsinTime",new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds())),t.dataSource=t.dataSource.concat(e)},deleteRows:function(){var t=this,e=this.$refs.pmTable.getSelectedRows();(null==e||e.length<=0)&&this.$commonUtil.valid.throwEx(this,"请先选择一条需要移除的数据!"),E.a.removeSelectedRows2(e,this.dataSource),t.deleteIdList||(t.deleteIdList=[]),t.delPackNoList||(t.delPackNoList=[]),e.forEach(function(e){e.id&&(t.deleteIdList.push(e.id),t.delPackNoList.push(e.packId))})},copyRows:function(){var t=this,e=t.$refs.pmTable.getSelectedRows(),a=[];if(null==e||e.length<=0){var n=t.$refs.pmTable.currentRow;e.push(n)}e.forEach(function(e){var n={};n=JSON.parse(JSON.stringify(e)),t.counter+=1,n.id=null,n.index=t.counter,n.packNo=null,n.cardNo=null,a.push(n)}),t.dataSource=t.dataSource.concat(a)},cellCanEdit:function(t,e){var a=this.$cacheUtil.getDic().BrandNameList.list,n=a.filter(function(e){return e.id===t.brandId})[0];return!n||2!=n.whsoutType||"calcType"!=e&&void 0},downImportModel:function(){D.a.postForFile("whsin/downTemplate",null,"入库导入模板.xls",function(t){})},updateTitle:function(t){this.$commonUtil.tab.updateTitle(this,t)},validateDetails:function(t){var e=this;(null==t||t.length<=0)&&this.$commonUtil.valid.throwEx("明细不能为空！");var a=this.$cacheUtil.getDic().BrandNameList.list,n=1;t.forEach(function(o){var i=a.filter(function(t){return t.id===o.brandId})[0];e.$commonUtil.IsNull(o.brandId)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据品名不能为空!"),e.$commonUtil.IsNull(o.textureId)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据材质不能为空!"),e.$commonUtil.IsNull(o.spec)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据规格不能为空!"),e.$commonUtil.IsNull(o.producingId)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据产地不能为空!"),e.$commonUtil.IsNull(o.amount)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据数量不能为空!"),i&&1==i.whsoutType&&o.amount<=0&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据按件出库的品名数量必须大于0!"),i&&2==i.whsoutType&&o.netWeight<=0&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据按吨出库的品名净重必须大于0!"),e.$commonUtil.IsNull(o.netWeight)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据净重不能为空!"),e.$commonUtil.IsNull(o.calcType)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据计重方式不能为空!"),e.$commonUtil.IsNull(o.measurementUnit)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据数量单位不能为空!"),e.$commonUtil.IsNull(o.whsinTime)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据首入库时间不能为空!"),e.$commonUtil.IsNull(o.whsRoomId)&&e.$commonUtil.IsNull(o.whsAreaId)&&e.$commonUtil.valid.throwEx(e,"第"+n+"行数据入库库区信息不能为空!"),!e.$commonUtil.IsNull(o.packNo)&&t.filter(function(t){return t.packNo&&t.packNo===o.packNo?t:null}).length>1&&e.$commonUtil.valid.throwEx("重复的捆包号:"+o.packNo),n+=1})},saveInfo:function(){var t=this;this.$refs.inFrom.validate(this);var e=this,a=this.dicCache.CstList.list;this.formModel.cstName=a.filter(function(e){return e.id===t.formModel.cstId})[0].cstFullName,this.formModel.detailList=this.dataSource;var n=this.$refs.upload.getNewFileList(),o=[];this.$refs.upload.getDeleteFileList().length>0&&this.$refs.upload.getDeleteFileList().forEach(function(t){o.push(t.id)}),this.formModel.fileDeleteList=o,this.validateDetails(this.formModel.detailList),this.formModel.editFlag==O.OPER_ADD?D.a.postWithFile("whsin/addInInfo",this.formModel,n,function(a){t.$message({message:"新增入库单成功",type:"success"}),e.$refs.upload.clearAllFile(),e.handleBackData(a),e.$refs.btn_print.setDisabled(!1),e.updateTitle("编辑入库单["+a.whsinCode+"]"),e.formModel.editFlag=O.OPER_EDIT,e.$options.parent.propsData.parentView.queryData()}):(this.formModel.delIdList=this.deleteIdList,this.formModel.delPackIdList=this.delPackNoList,D.a.postWithFile("whsin/updateInInfo",this.formModel,n,function(a){var n="修改";t.formModel.editFlag==O.OPER_ADJUST&&(n="调整"),t.$message({message:n+"入库单成功",type:"success"}),e.$refs.upload.clearAllFile(),e.handleBackData(a),e.$options.parent.propsData.parentView.queryData()}))},uploadExcel:function(){var t=this,e=this,a=this.$refs.uploadExcel.getNewFileList();D.a.postWithFile("whsin/uploadExcel",this.formModel,a,function(a,n){if(e.dataSource||(e.dataSource=[]),n){var o=JSON.parse(a.split("\\n").join("hh"));console.log(o.content),t.dialogTitle=o.title,t.dialogContent=o.content.split("hh"),t.dialogVisible=!0}else a.forEach(function(t){e.counter+=1,t.index=e.counter}),e.dataSource=e.dataSource.concat(a)})},saveAndAuditInfo:function(){var t=this;this.$refs.inFrom.validate(this);var e=this,a=this.dicCache.CstList.list;this.formModel.cstName=a.filter(function(e){return e.id===t.formModel.cstId})[0].cstFullName;var n=this.$refs.uploadExcel.fileList;this.formModel.detailList=this.dataSource,this.formModel.delIdList=this.deleteIdList,this.formModel.delPackIdList=this.delPackNoList;var n=this.$refs.upload.getNewFileList(),o=[];this.validateDetails(this.formModel.detailList),this.$refs.upload.getDeleteFileList().length>0&&this.$refs.upload.getDeleteFileList().forEach(function(t){o.push(t.id)}),this.formModel.fileDeleteList=o,D.a.postWithFile("whsin/saveWithAuditInInfo",this.formModel,n,function(a){t.$message({message:"保存并审核入库单成功",type:"success"}),t.$refs.add.setDisabled(!0),t.$refs.save.setDisabled(!0),t.$refs.cost.setDisabled(!1),t.$refs.downExcel.setDisabled(!0),t.$refs.uploadExcel.setDisabled(!0),t.$refs.addDetail.setDisabled(!0),t.$refs.duplicate.setDisabled(!0),t.$refs.remove.setDisabled(!0),t.$refs.upload.setDisabled(!0),t.$refs.btn_print.setDisabled(!1),e.handleBackData(a),e.formReadOnly=!0,e.config.allowEdit=!1,t.$refs.upload.clearAllFile(),e.updateTitle("查看入库单["+a.whsinCode+"]"),e.formModel.editFlag=O.OPER_EDIT,e.$options.parent.propsData.parentView.queryData()})},handleBackData:function(t){for(var e in t)this.$set(this.formModel,e,t[e]);this.$set(this.formModel,"fileList",t.fileList),this.formModel.createTime&&(this.formModel.creatorNameTime=this.formModel.creatorName+" ."+this.formModel.createTime),this.formModel.auditorName&&(this.formModel.auditorNameTime=this.formModel.auditorName+" ."+this.formModel.auditTime),this.dataSource=this.formModel.detailList}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=(a(7),a(28)),T=a(119),C=a.n(T),k=(a(10),a(380)),E=a.n(k);e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:C.a},data:function(){return{dataSource:[],totalData:null,config:{entity:$.a.wmsIn,allowEdit:!1,multiple:!1},totalSize:0,searchFields:[{displayName:"入库单号",fieldName:"whsinCode",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-2-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-3-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"2-3-6-8-0"},{displayName:"入库库区",fieldName:"whsRoomId",xtype:"tree_select",searchLoc:"2-4-6-8-0",parentName:"whsRoomId",childName:"whsAreaId"},{displayName:"层",fieldName:"whsLayer",xtype:"number",searchLoc:"3-1-6-8-0"},{displayName:"净重",fieldName:"netWeight",xtype:"number",searchLoc:"3-2-6-8-0"},{displayName:"毛重",fieldName:"grossWeight",xtype:"number",searchLoc:"3-3-6-8-0"},{displayName:"磅重",fieldName:"poundWeight",xtype:"number",searchLoc:"3-4-6-8-0"},{displayName:"入库方式",fieldName:"whsinType",xtype:"select",searchLoc:"4-1-6-8-0",value:1},{displayName:"单据状态",fieldName:"status",xtype:"select",searchLoc:"4-2-6-8-0",value:2},{displayName:"炉号",fieldName:"stoveCode",xtype:"text",searchLoc:"4-3-6-8-0"},{displayName:"创建时间",fieldName:"createTime",xtype:"datetimerange",searchLoc:"5-2-12-4-0",dateBegin:"createTimeStart",dateEnd:"createTimeEnd"},{displayName:"入库时间",fieldName:"whsinTime",xtype:"datetimerange",searchLoc:"5-1-12-4-0",dateBegin:"whsinTimeStart",dateEnd:"whsinTimeEnd"},{displayName:"车船号",fieldName:"transportCode",xtype:"text",searchLoc:"4-4-6-8-0"}]}},methods:{btn_func_search:function(){},btn_func_reset:function(){},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},queryData:function(){var t=this;this.getData(function(e){t.totalData=e.content,t.$refs.pager.refreshData()})},editTab:function(t,e){var a=this;this.$commonUtil.getEntityNoPageWithFile("whsin/getInInfoByMainId","whsin/getInDetailByMainId","file/getFileItemInfo",{id:t.whsinMainId,whsinMainId:t.whsinMainId,bizType:1,bizId:t.whsinMainId},function(e){var n="编辑";2==e.moveStatus&&(n="查看"),e.editFlag="1",a.$tab.open({component:E.a,name:n+"入库单["+t.whsinCode+"]",propsData:{key:t.id,entity:e,parentView:a}})})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,this.$httpUtil.post("whsin/getInDetailByPage",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"入库单台账列表")})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(7),T=a(28),C=a(119),k=a.n(C),E=a(380),L=a.n(E),F=(a(10),a(367)),M=a.n(F),W=a(368),P=(a.n(W),a(527)),A=a.n(P),B=a(381),U=a.n(B);e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:k.a,pm_context_menu:A.a,noteWhsInPrint:U.a},data:function(){return{dataSource:[],totalData:null,config:{entity:T.a.wmsIn,allowEdit:!1,multiple:!1,dbclick:this.editTab},totalSize:{type:Number,default:0},searchFields:[{displayName:"入库单号",fieldName:"whsinCode",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-2-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-3-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"2-3-6-8-0"},{displayName:"入库库区",fieldName:"whsRoomId",xtype:"tree_select",searchLoc:"2-4-6-8-0",extQuryParam:{whsRoomId:"whsRoomId",whsAreaId:"whsAreaId"}},{displayName:"入库方式",fieldName:"whsinType",xtype:"select",searchLoc:"3-1-6-8-0"},{displayName:"创建时间",fieldName:"createTime",xtype:"datetimerange",searchLoc:"3-3-12-4-0",dateBegin:"createTimeStart",dateEnd:"createTimeEnd"},{displayName:"单据状态",fieldName:"status",xtype:"select",searchLoc:"3-2-6-8-0"}]}},mounted:function(){},methods:{printInfo:function(){var t=this,e=this.getSelectRow();this.$commonUtil.getDetailEntity("whsin/getInDetailByMainId",{whsinMainId:e.id},e,function(e){t.$refs.print.printDiv(e)})},queryData:function(){var t=this;this.getData(function(e){t.totalData=e.content,t.$refs.pager.refreshData()})},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},addTab:function(){var t={};t.editFlag="3";var e={component:L.a,propsData:{entity:t,parentView:this},name:"添加入库单"};this.$tab.open(e)},editTab:function(t,e){var a=this;this.$commonUtil.getEntityNoPageWithFile("whsin/getInInfoByMainId","whsin/getInDetailByMainId","file/getFileItemInfo",{id:t.id,whsinMainId:t.id,bizType:1,bizId:t.id},function(e){var n="编辑";2==e.moveStatus&&(n="查看"),e.editFlag="1",a.$tab.open({component:L.a,name:n+"入库单["+t.whsinCode+"]",propsData:{key:t.id,entity:e,parentView:a}})})},adjustTab:function(){var t=this,e=this.getSelectRow();if(2!=e.status)return void this.$message({message:"只能调整已入库的单据!",type:"fail"});this.$commonUtil.getEntityNoPageWithFile("whsin/getInInfoByMainId","whsin/getInDetailByMainId","file/getFileItemInfo",{id:e.id,whsinMainId:e.id,bizType:1,bizId:e.id},function(a){a.editFlag="2",t.$tab.open({component:L.a,name:"调整入库单["+e.whsinCode+"]",propsData:{key:e.id,entity:a,parentView:t}})})},deleteInfo:function(){var t=this,e=this.getSelectRow();if(1!=e.status)return void this.$message({message:"只能作废待入库状态的单据！",type:"fail"});var a=this;this.$confirm("确认作废选中的入库单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){$.a.post("whsin/deleteInInfo",e,function(e){t.$message({message:"作废入库单成功",type:"success"}),a.queryData()})})},auditInfo:function(){var t=this,e=this.getSelectRow();if(1!=e.status)return void this.$message({message:"只能审核待入库状态的单据！",type:"fail"});var a=this;this.$confirm("确认审核选中的入库单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){$.a.post("whsin/auditInInfo",e,function(e){t.$message({message:"审核入库单成功",type:"success"}),a.queryData()})})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,$.a.post("whsin/getWhsinInfoBypage",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"入库单列表")})},settleInfo:function(){var t=this,e=this.getSelectRow();if(2!=e.status)return void this.$message({message:"只能结算已入库状态的单据！",type:"fail"});var a=this.$commonUtil.deepClone(e);e.whsinMainId=e.id,$.a.post("whsin/getInDetailByMainId",e,function(e){a.detailList=e,t.wrapData(a);var n={component:M.a,propsData:{entity:a},name:"新增结算单"};t.$tab.open(n)})},getSelectRow:function(){var t=this.$refs.pmTable.currentRow;return t||this.$commonUtil.valid.throwEx(this,"请先选择一条信息"),t},wrapData:function(t){t.businessNo=t.whsinCode,t.cstId=t.cstId,t.businessType=1,t.createDate=t.createTime,t.creatorData=t.creator,t.detailList&&(t.detailList.forEach(function(t){t.material=t.textureId,t.productPlace=t.producingId,t.businessNo=t.whsinCode,t.whsInFirstDate=t.whsinTime,t.createDate=t.createTime,t.numFin=t.amount,t.transferTimes?t.transferNum=t.transferTimes:t.transferNum=0,t.businessType=1,t.costDate=t.costTime}),t.detail=t.detailList)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),o=a(9),i=a(28);e.default={props:{},data:function(){return{config:{mainEntity:i.a.wmsTransfer,detailEntity:i.a.wmsTransferDetail,dicCache:null},mainInfo:{whsInfo:{name:""},stack:""},detailInfo:[],isPrinting:!1,key:this.$commonUtil.appConst.NewGuid()}},methods:{printDiv:function(t){this.initData(t),this.isPrinting=!0},getDisplayModel:function(t,e){this.config.dicCache||(this.config.dicCache=n.a.getDic());var a={},i=null;for(var r in t){var s=o.a.getDisplayText(e,r,t[r],this.config.dicCache);a[r]=s}return i=o.a.getStackName(this.config.dicCache,t,"whsRoomId","whsAreaId"),t.whsStackName&&(i=i+">"+t.whsStackName),t.whsLayer&&(i=i+">"+t.whsLayer),a.stack=i,a},initData:function(t){var e=this,a=this;this.detailInfo=t.detailList.map(function(t){return a.getDisplayModel(t,e.config.detailEntity)}),this.mainInfo=this.getDisplayModel(t,this.config.mainEntity),this.mainInfo.whsInfo=n.a.getUser().accountInfo}},updated:function(){this.mainInfo&&this.isPrinting&&printJS({printable:this.key,type:"html",header:"打印入库单",scanStyles:!1,css:"/static/css/contract.css"}),this.isPrinting=!1}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=a(7),$=a(28),T=a(119),C=a.n(T),k=a(1),E=(a(39),a(10)),L=a(367),F=a.n(L),M=a(368),W=(a.n(M),a(383)),P=a.n(W),A={STATUS_READY:1,STATUS_SUCC:2,STATUS_DELETE:3},B={OPER_ADD:"3",OPER_EDIT:"1",OPER_ADJUST:"2"};e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:C.a,noteWhsMovePrint:P.a},data:function(){return{dataSource:[],config:{entity:$.a.wmsMove,allowEdit:!0,multiple:!0,change:function(t,e,a){var n=k.a.getDic().BrandNameList.list.filter(function(e){return e.id===t.brandId})[0];if(n&&1==t.calcType&&2!=n.whsoutType&&"amount"==e){var o=t.amount;t.amount=o,this.$set(t,"netWeight",(o*t.netUnit).toFixed(3)),this.$set(t,"grossWeight",(o*t.grossUnit).toFixed(3)),this.$set(t,"poundWeight",(o*t.poundUnit).toFixed(3))}}},totalSize:0,rules:{},formReadOnly:!1,deleteIdList:[],delPackNoList:[],formModel:Object}},created:function(){this.formModel=this.getFormModel()},mounted:function(){var t=this.$commonUtil.permission.hasSaveAuth(this),e=this.$commonUtil.permission.hasCheckAuth(this),a=this.$commonUtil.permission.hasPrintAuth(this);this.formModel.editFlag==B.OPER_ADJUST?(this.$refs.save.setDisabled(!0),this.$refs.cost.setDisabled(!1)):this.formModel.editFlag==B.OPER_EDIT?(this.$refs.cost.setDisabled(!0),this.formModel.moveStatus==A.STATUS_SUCC&&(this.$refs.add.setDisabled(!0),this.$refs.save.setDisabled(!0),this.$refs.cost.setDisabled(!1),this.$refs.select.setDisabled(!0),this.$refs.remove.setDisabled(!0))):(this.$refs.cost.setDisabled(!0),this.$refs.btn_print.setDisabled(!0)),t||this.$refs.add.setDisabled(!0),e||this.$refs.save.setDisabled(!0),a||this.$refs.btn_print.setDisabled(!0)},methods:{printInfo:function(){var t=this;this.$commonUtil.getDetailEntity("whsmove/getMoveDetailByMainId",{moveMainId:this.formModel.id},this.formModel,function(e){t.$refs.print.printDiv(e)})},getFormModel:function(){var t=this.$options.parent.propsData.entity;t.whsShortName=k.a.getUser().accountName;k.a.getUser();return t.editFlag==B.OPER_ADD?(t.moveNo=this.$commonUtil.appConst.nullNo,t.creatorName=k.a.getUser().configUser.name,t.moveStatus=1):t.editFlag==B.OPER_EDIT?(2==t.moveStatus&&(this.formReadOnly=!0,this.config.allowEdit=!1),this.calcUnit(t.detailList,!1)):t.editFlag==B.OPER_ADJUST&&this.calcUnit(t.detailList,!1),this.dataSource=t.detailList,t},deleteRows:function(){var t=this,e=this.$refs.pmTable.getSelectedRows();(null==e||e.length<=0)&&this.$commonUtil.valid.throwEx(this,"请先选择一条需要移除的数据!"),E.a.removeSelectedRows(e,this.dataSource,function(t,e){return t.packId==e.packId}),t.deleteIdList||(t.deleteIdList=[]),t.delPackNoList||(t.delPackNoList=[]),e.forEach(function(e){e.id&&(t.deleteIdList.push(e.id),t.delPackNoList.push(e.packNo))})},closeWin:function(){this.$commonUtil.tab.close(this)},getStock:function(t,e){var a=this;E.a.selProductNoCst(this,null,function(t){a.dataSource||(a.dataSource=[]),a.$options.methods.calcUnit(t,!0),t.forEach(function(t){a.dataSource.length>0&&a.dataSource.filter(function(e){return e.packId===t.id}).length>0||(t.packId=t.id,t.id=null,t.originRoomId=t.whsRoomId,t.originAreaId=t.whsAreaId,t.originStackId=t.whsStackId,t.originStackName=t.whsStackName,t.originLayer=t.whsLayerId,t.cardNo=t.cstPackNo,t.amount=t.usableNum,t.netWeight=t.usableWeight,t.grossWeight=t.usableGrossWeight,t.poundWeight=t.usablePoundWeight,a.dataSource.push(t))})})},calcUnit:function(t,e){e?t.forEach(function(t){E.a.calUnitWeight(t,t.usableWeight,t.usableGrossWeight,t.usablePoundWeight,t.usableNum)}):t.forEach(function(t){E.a.calUnitWeight(t,t.netWeight,t.grossWeight,t.poundWeight,t.amount)})},updateTitle:function(t){this.$commonUtil.tab.updateTitle(this,t)},validateDetails:function(t){var e=this;(!t||!t.length>0)&&this.$commonUtil.valid.throwEx(this,"移库明细不能为空");var a=k.a.getDic().BrandNameList.list;t.forEach(function(t){var n=a.filter(function(e){return e.id===t.brandId})[0];n||e.$commonUtil.valid.throwEx(e,"捆包号:"+t.packNo+"无品名信息"),e.$commonUtil.IsNull(t.targetRoomId)&&e.$commonUtil.IsNull(t.targetAreaId)&&e.$commonUtil.valid.throwEx(e,"捆包号:"+t.packNo+"目标库区信息不能为空"),e.$commonUtil.IsNull(t.targetStackName)&&e.$commonUtil.valid.throwEx(e,"捆包号:"+t.packNo+"目标库位信息不能为空"),(e.$commonUtil.IsNull(t.netWeight)||t.netWeight<=0)&&e.$commonUtil.valid.throwEx(e,"捆包号:"+t.packNo+"净重不能为空且不能小于0"),e.$commonUtil.IsNull(t.amount)&&e.$commonUtil.valid.throwEx(e,"捆包号:"+t.packNo+"数量不能为空"),t.amount<=0&&2!=n.whsoutType&&e.$commonUtil.valid.throwEx(e,"捆包号:"+t.packNo+"数量必须大于0！"),t.originRoomId==t.targetRoomId&&t.originAreaId==t.targetAreaId&&t.originStackName==t.targetStackName&&e.$commonUtil.valid.throwEx(e,"捆包号:"+t.packNo+"原始库位信息不能与目标库位信息相同")})},saveInfo:function(){var t=this,e=this,a=JSON.parse(JSON.stringify(this.formModel)),n="";!this.$commonUtil.IsNull(a.transceiver)&&a.transceiver.length>0&&(a.transceiver.forEach(function(t){n=n+","+t}),n=n.substring(1,n.length)),a.transceiver=n,a.detailList=this.dataSource,this.validateDetails(a.detailList),a.editFlag==B.OPER_ADD?D.a.post("whsmove/addMoveInfo",a,function(a){t.$message({message:"新增移库单成功",type:"success"}),e.updateTitle("编辑移库单["+a.moveNo+"]"),e.handleBackData(a),e.$refs.btn_print.setDisabled(!1),e.formModel.editFlag=B.OPER_EDIT,e.$options.parent.propsData.parentView.queryData()}):(a.deleteIdList=this.deleteIdList,a.delPackNoList=this.delPackNoList,D.a.post("whsmove/updateMoveInfo",a,function(a){var n="修改";t.formModel.editFlag==B.OPER_ADJUST&&(n="调整"),t.$message({message:n+"移库单成功",type:"success"}),e.handleBackData(a),e.$options.parent.propsData.parentView.queryData()}))},handleBackData:function(t){for(var e in t)if("transceiver"==e)if(null!=t[e]&&""!=t[e]){this.formModel[e]=t[e].split(",");for(var a=0;a<this.formModel[e].length;a++)this.formModel[e][a]=parseInt(this.formModel[e][a])}else this.formModel[e]=new Array;else this.$set(this.formModel,e,t[e]);this.dataSource=this.formModel.detailList},saveAndAuditInfo:function(){var t=this,e=this,a=JSON.parse(JSON.stringify(this.formModel)),n="";a.transceiver.length>0&&(a.transceiver.forEach(function(t){n=n+","+t}),n=n.substring(1,n.length)),a.transceiver=n,a.detailList=this.dataSource,this.validateDetails(a.detailList),D.a.post("whsmove/saveWithAuditMoveInfo",a,function(a){t.$message({message:"保存并审核移库单成功",type:"success"}),e.handleBackData(a),e.$refs.add.setDisabled(!0),e.$refs.save.setDisabled(!0),e.$refs.cost.setDisabled(!1),e.$refs.select.setDisabled(!0),e.$refs.remove.setDisabled(!0),e.$refs.btn_print.setDisabled(!1),e.updateTitle("查看移库单["+a.moveNo+"]"),e.formReadOnly=!0,e.config.allowEdit=!1,e.$options.parent.propsData.parentView.queryData()})},settleInfo:function(){var t=JSON.parse(JSON.stringify(this.formModel));t.detailList=this.dataSource,this.wrapData(t);var e={component:F.a,propsData:{entity:t},name:"新增结算单"};this.$tab.open(e)},wrapData:function(t){for(var e=0,a=0;a<t.detailList.length;a++){e=t.detailList[a].cstId;break}t.businessNo=t.moveNo,t.cstId=e,t.businessType=3,t.createDate=t.createTime,t.creatorData=t.creator,t.detailList&&(t.detailList.forEach(function(t){t.material=t.textureId,t.productPlace=t.producingId,t.businessNo=t.moveNo,t.whsInFirstDate=t.whsinTime,t.createDate=t.createTime,t.numFin=t.amount,t.transferTimes?t.transferNum=t.transferTimes:t.transferNum=0,t.businessType=3,t.costDate=t.costTime}),t.detail=t.detailList)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=(a(7),a(28)),T=a(119),C=a.n(T),k=(a(10),a(382)),E=a.n(k);e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:C.a},data:function(){return{dataSource:[],totalData:null,config:{entity:$.a.wmsMove,allowEdit:!1,multiple:!1,rowCanEdit:function(t){return null!=t.cstName&&t.cstName.includes("江阴")}},totalSize:0,searchFields:[{displayName:"移库单号",fieldName:"moveNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-2-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-3-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"2-3-6-8-0"},{displayName:"净重",fieldName:"netWeight",xtype:"number",searchLoc:"2-4-6-8-0"},{displayName:"毛重",fieldName:"grossWeight",xtype:"number",searchLoc:"3-1-6-8-0"},{displayName:"磅重",fieldName:"poundWeight",xtype:"number",searchLoc:"3-2-6-8-0"},{displayName:"原始库位",fieldName:"originRoomId",xtype:"tree_select",searchLoc:"3-3-6-8-0",extQuryParam:{whsRoomId:"originRoomId",whsAreaId:"originAreaId"}},{displayName:"原始层",fieldName:"originLayer",xtype:"number",searchLoc:"3-4-6-8-0"},{displayName:"炉号",fieldName:"stoveCode",xtype:"search_select_input",searchLoc:"4-1-6-8-0"},{displayName:"目标库位",fieldName:"targetRoomId",xtype:"tree_select",searchLoc:"4-2-6-8-0",extQuryParam:{whsRoomId:"targetRoomId",whsAreaId:"targetAreaId"}},{displayName:"目标层",fieldName:"targetLayer",xtype:"number",searchLoc:"4-3-6-8-0"},{displayName:"创建时间",fieldName:"createTime",xtype:"datetimerange",searchLoc:"5-1-12-4-0",dateBegin:"createTimeStart",dateEnd:"createTimeEnd"},{displayName:"移库状态",fieldName:"moveStatus",xtype:"select",searchLoc:"4-4-6-8-0"}],searchParam:{}}},methods:{btn_func_search:function(){},btn_func_reset:function(){},queryData:function(t){this.searchParam=t;var e=this;this.getData(function(t){e.totalData=t.content,e.$refs.pager.refreshData()})},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},getTableInfo:function(t){console.log(t)},btn_func:function(){alert("11111")},editTab:function(t,e,a){var n=this;this.$commonUtil.getEntityNoPage("whsmove/getMoveInfoByMainId","whsmove/getMoveDetailByMainId",{id:t.moveMainId,moveMainId:t.moveMainId},function(e){e.editFlag="1";var a="编辑";if(2==e.moveStatus&&(a="查看"),e.transceiver){e.transceiver=e.transceiver.split(",");for(var o=0;o<e.transceiver.length;o++)e.transceiver[o]=parseInt(e.transceiver[o])}n.$tab.open({component:E.a,name:a+"移库单["+t.moveNo+"]",propsData:{key:t.id,entity:e,parentView:n}})})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,this.$httpUtil.post("whsmove/getMoveDetailByPage",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"移库单台账列表")})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(7),T=a(28),C=a(119),k=a.n(C),E=a(382),L=a.n(E),F=(a(10),a(367)),M=a.n(F),W=a(368),P=(a.n(W),a(383)),A=a.n(P);e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:k.a,noteWhsMovePrint:A.a},data:function(){return{dataSource:[],totalData:null,config:{entity:T.a.wmsMove,allowEdit:!1,multiple:!1,dbclick:this.editTab,rowCanEdit:function(t){return null!=t.cstName&&t.cstName.includes("江阴")}},totalSize:0,searchFields:[{displayName:"移库单号",fieldName:"moveNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-2-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-3-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-1-6-8-0",watchField:"brandId"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"2-3-6-8-0"},{displayName:"创建时间",fieldName:"createTime",xtype:"datetimerange",searchLoc:"3-1-12-4-0",dateBegin:"createTimeStart",dateEnd:"createTimeEnd"},{displayName:"移库状态",fieldName:"moveStatus",xtype:"select",searchLoc:"2-4-6-8-0"}],searchParam:{}}},methods:{printInfo:function(){var t=this,e=this.getSelectRow();this.$commonUtil.getDetailEntity("whsmove/getMoveDetailByMainId",{moveMainId:e.id},e,function(e){t.$refs.print.printDiv(e)})},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},queryData:function(){var t=this;this.getData(function(e){t.totalData=e.content,t.$refs.pager.refreshData()})},addTab:function(){var t={};t.editFlag="3";var e={component:L.a,propsData:{entity:t,parentView:this},name:"添加移库单"};this.$tab.open(e)},editTab:function(t,e,a){var n=this;this.$commonUtil.getEntityNoPage("whsmove/getMoveInfoByMainId","whsmove/getMoveDetailByMainId",{id:t.id,moveMainId:t.id},function(e){e.editFlag="1";var a="编辑";if(2==e.moveStatus&&(a="查看"),e.transceiver){e.transceiver=e.transceiver.split(",");for(var o=0;o<e.transceiver.length;o++)e.transceiver[o]=parseInt(e.transceiver[o])}n.$tab.open({component:L.a,name:a+"移库单["+t.moveNo+"]",propsData:{key:t.id,entity:e,parentView:n}})})},adjustTab:function(){var t=this,e=this.getSelectRow();if(2!=e.moveStatus)return void this.$message({message:"只能调整已移库的单据!",type:"fail"});this.$commonUtil.getEntityNoPage("whsmove/getMoveInfoByMainId","whsmove/getMoveDetailByMainId",{id:e.id,moveMainId:e.id},function(a){if(a.editFlag="2",a.transceiver){a.transceiver=e.transceiver.split(",");for(var n=0;n<a.transceiver.length;n++)a.transceiver[n]=parseInt(a.transceiver[n])}t.$tab.open({component:L.a,name:"调整移库单["+e.moveNo+"]",propsData:{key:e.id,entity:a,parentView:t}})})},deleteInfo:function(){var t=this,e=this.getSelectRow();if(1!=e.moveStatus)return void this.$message({message:"只能作废待移库状态的单据!",type:"fail"});var a=this;this.$confirm("确认作废选中的移库单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){$.a.post("whsmove/deleteMoveInfo",e,function(e){t.$message({message:"作废移库单成功",type:"success"}),a.queryData()})})},auditInfo:function(){var t=this,e=this.getSelectRow();if(1!=e.moveStatus)return void this.$message({message:"只能审核待移库状态的单据!",type:"fail"});var a=this;this.$confirm("确认审核选中的移库单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){$.a.post("whsmove/auditMoveInfo",e,function(e){t.$message({message:"审核移库单成功",type:"success"}),a.queryData()})})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,$.a.post("whsmove/getWhsmoveInfoBypage",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"移库单列表")})},settleInfo:function(){var t=this,e=this.getSelectRow();if(2!=e.moveStatus)return void this.$message({message:"只能结算已移库状态的单据！",type:"fail"});var a=this.$commonUtil.deepClone(e);e.moveMainId=e.id,$.a.post("whsmove/getMoveDetailByMainId",e,function(e){a.detailList=e,t.wrapData(a);var n={component:M.a,propsData:{entity:a},name:"新增结算单"};t.$tab.open(n)})},wrapData:function(t){t.businessNo=t.moveNo,t.cstId=t.cstId,t.businessType=3,t.createDate=t.createTime,t.creatorData=t.creator,t.detailList&&(t.detailList.forEach(function(t){t.material=t.textureId,t.productPlace=t.producingId,t.businessNo=t.moveNo,t.whsInFirstDate=t.whsinTime,t.createDate=t.createTime,t.numFin=t.amount,t.transferTimes?t.transferNum=t.transferTimes:t.transferNum=0,t.businessType=1,t.costDate=t.costTime}),t.detail=t.detailList)},getSelectRow:function(){var t=this.$refs.pmTable.currentRow;return t||this.$commonUtil.valid.throwEx(this,"请先选择一条信息"),t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),o=a(9),i=a(28);e.default={props:{},data:function(){return{config:{mainEntity:i.a.wmsTransfer,detailEntity:i.a.wmsTransferDetail,dicCache:null},mainInfo:{whsInfo:{name:""},oldStack:"",newStack:""},detailInfo:[],isPrinting:!1,key:this.$commonUtil.appConst.NewGuid()}},methods:{printDiv:function(t){this.initData(t),this.isPrinting=!0},getDisplayModel:function(t,e){this.config.dicCache||(this.config.dicCache=n.a.getDic());var a={},i=null,r=null;for(var s in t){var l=o.a.getDisplayText(e,s,t[s],this.config.dicCache);a[s]=l}return i=o.a.getStackName(this.config.dicCache,t,"originRoomId","originAreaId"),t.originStackName&&(i=i+">"+t.originStackName),t.originLayer&&(i=i+">"+t.originLayer),r=o.a.getStackName(this.config.dicCache,t,"targetRoomId","targetAreaId"),t.targetStackName&&(r=r+">"+t.targetStackName),t.targetLayer&&(r=r+">"+t.targetLayer),a.oldStack=i,a.newStack=r,a},initData:function(t){var e=this,a=this;this.detailInfo=t.detailList.map(function(t){return a.getDisplayModel(t,e.config.detailEntity)}),this.mainInfo=this.getDisplayModel(t,this.config.mainEntity),this.mainInfo.whsInfo=n.a.getUser().accountInfo}},updated:function(){this.mainInfo&&this.isPrinting&&printJS({printable:this.key,type:"html",scanStyles:!1,css:"/static/css/contract.css"}),this.isPrinting=!1}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(116),N=a.n(w),I=a(70),S=a.n(I),D=a(7),$=a(28),T=a(119),C=a.n(T),k=a(1),E=(a(39),a(10)),L=a(373),F=a.n(L),M=a(368),W=(a.n(M),a(385)),P=a.n(W),A=a(367),B=a.n(A),U={STATUS_READY:1,STATUS_SUCC:2,STATUS_DELETE:3},O={OPER_ADD:"3",OPER_EDIT:"1",OPER_ADJUST:"2"};e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:N.a,pm_column:S.a,pm_pagination:C.a,pm_upload:F.a,noteWhsOutPrint:P.a},data:function(){var t=function(t,e,a){var n=/^1[3|4|5|7|8][0-9]\d{8}$/;e&&!n.test(e)?a(new Error("请输入正确的11位手机号码")):a()};return{dataSource:[],config:{entity:$.a.whsOut,allowEdit:!0,multiple:!0,change:function(t,e,a){var n=k.a.getDic().BrandNameList.list.filter(function(e){return e.id===t.brandId})[0];if(n&&1==t.calcType&&2!=n.whsoutType&&"number"==e){var o=t.number;t.netWeight=(o*t.netUnit).toFixed(3),t.grossWeight=(o*t.grossUnit).toFixed(3),t.poundWeight=(o*t.poundUnit).toFixed(3)}}},totalSize:0,rules:{driverPhone:[{trigger:"blur",validator:t}]},formReadOnly:!1,cutIdList:[],delPackNoList:[],formModel:Object,pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}}}},created:function(){this.formModel=this.getFormModel()},methods:{closeWin:function(){this.$commonUtil.tab.close(this)},settleInfo:function(){var t=JSON.parse(JSON.stringify(this.formModel));t.detailList=this.dataSource,this.wrapData(t);var e={component:B.a,propsData:{entity:t},name:"新增结算单"};this.$tab.open(e)},wrapData:function(t){t.businessNo=t.whsoutNo,t.cstId=t.cstId,t.businessType=2,t.createDate=t.createTime,t.creatorData=t.creator,t.detailList&&(t.detailList.forEach(function(t){t.material=t.textureId,t.productPlace=t.producingId,t.businessNo=t.whsoutNo,t.whsInFirstDate=t.whsinTime,t.createDate=t.createTime,t.numFin=t.number,t.transferTimes?t.transferNum=t.transferTimes:t.transferNum=0,t.businessType=1,t.costDate=t.costTime}),t.detail=t.detailList)},printInfo:function(){var t=this;this.$commonUtil.getDetailEntity("whsout/getWhsoutDetailInfoByMainId",{id:this.formModel.id,mainId:this.formModel.id,bizType:2,bizId:this.formModel.id},this.formModel,function(e){t.$refs.print.printDiv(e)})},getFormModel:function(){var t=this,e=this.$options.parent.propsData.entity;return e.detailList=e.detail,this.$set(e,"env","bs"),this.$set(e,"driverPhone",null),e.editFlag==O.OPER_ADD?(this.$set(e,"auditTime",new Date),e.whsoutNo=this.$commonUtil.appConst.nullNo,e.creatorName=k.a.getUser().configUser.name,this.$set(e,"status",1),e.canEditCols=["number","netWeight","grossWeight","poundWeight","remark","transceiver","slinger","whsManager"]):e.editFlag==O.OPER_EDIT?(this.formReadOnly=!0,e.status==U.STATUS_SUCC?this.config.allowEdit=!1:e.canEditCols=["netWeight","calcType","remark"],e.detailList.forEach(function(e){t.$set(e,"oriNetWeight",t.$commonUtil.deepClone(e.netWeight)),t.$set(e,"oriCalcType",t.$commonUtil.deepClone(e.calcType)),t.$set(e,"oriRemark",t.$commonUtil.deepClone(e.remark))}),this.calcUnit(e.detailList,!1)):e.editFlag==O.OPER_ADJUST&&(e.canEditCols=["number","netWeight","grossWeight","poundWeight","calcType","remark","transceiver","slinger","whsManager"],this.calcUnit(e.detailList,!1)),this.dataSource=e.detailList,e},cellCanEdit:function(t,e){var a=this.formModel.canEditCols;return a&&a.includes(e)},addDetail:function(){var t=this;t.dataSource||(t.dataSource=[]);var e={};this.counter+=1,e.index=this.counter,t.dataSource=t.dataSource.concat(e)},deleteRows:function(){var t=this,e=this.$refs.pmTable.getSelectedRows();E.a.removeSelectedRows(e,this.dataSource,function(t,e){return t.packId==e.packId}),e.forEach(function(e){e.id&&(t.deleteIdList.push(e.id),t.delPackNoList.push(e.packNo))})},saveInfo:function(){var t=this;this.$refs.outForm.validate(this);var e=this,a=k.a.getDic().CstList.list;this.formModel.cstName=a.filter(function(e){return e.id===t.formModel.cstId})[0].cstFullName,this.formModel.deliveryName=a.filter(function(e){return e.id===t.formModel.deliveryId})[0].cstFullName,this.formModel.detail=this.dataSource;var n=this.$refs.upload.getNewFileList();if("3"==this.formModel.editFlag)D.a.postWithFile("whsout/addWhsOut",this.formModel,n,function(a){t.$message({message:"新增出库单成功",type:"success"}),t.$refs.save.setDisabled(!0),t.$refs.select.setDisabled(!0),t.$refs.remove.setDisabled(!0),t.$refs.upload.setDisabled(!0),t.$refs.out.setDisabled(!1),t.$refs.btn_print.setDisabled(!1),e.$refs.upload.clearAllFile(),t.formReadOnly=!0,t.formModel.editFlag=O.OPER_EDIT,t.formModel.canEditCols=["netWeight"],t.cellCanEdit(),e.updateTitle("编辑出库单["+a.whsoutNo+"]"),e.handleBackData(a),e.$options.parent.propsData.parentView.queryData()});else{this.formModel.cutIdList=this.deleteIdList,this.formModel.delPackNoList=this.delPackNoList;var o=[];this.$refs.upload.getDeleteFileList().length>0&&this.$refs.upload.getDeleteFileList().forEach(function(t){o.push(t.id)}),this.formModel.fileDeleteList=o,D.a.postWithFile("whsout/adjustWhsOut",this.formModel,n,function(a){var n="修改";t.formModel.editFlag==O.OPER_ADJUST&&(n="调整"),t.$message({message:n+"出库单成功",type:"success"}),e.$refs.upload.clearAllFile(),e.handleBackData(a),e.$options.parent.propsData.parentView.queryData()})}},handleBackData:function(t){for(var e in t)this.$set(this.formModel,e,t[e]);this.dataSource=this.formModel.detail},getStock:function(t,e){var a=this;E.a.selProduct(this,{cstId:this.formModel.cstId},function(t){a.dataSource||(a.dataSource=[]),a.$options.methods.calcUnit(t,!0),t.forEach(function(t){a.dataSource.length>0&&a.dataSource.filter(function(e){return e.packId===t.id}).length>0||(t.packId=t.id,t.id=null,t.number=t.usableNum,t.netWeight=t.usableWeight,t.grossWeight=t.usableGrossWeight,t.poundWeight=t.usablePoundWeight,t.remark=null,t.stackName=t.whsStackName,t.floorNum=t.whsLayerId,a.dataSource.push(t))})})},calcUnit:function(t,e){e?t.forEach(function(t){E.a.calUnitWeight(t,t.usableWeight,t.usableGrossWeight,t.usablePoundWeight,t.usableNum)}):t.forEach(function(t){E.a.calUnitWeight(t,t.netWeight,t.grossWeight,t.poundWeight,t.number)})},updateTitle:function(t){this.$commonUtil.tab.updateTitle(this,t)},outWhs:function(){var t=this,e=this;this.formModel.detail=this.dataSource;var a=this.formModel.detail.filter(function(t){return t.netWeight!=t.oriNetWeight}).length>0,n=this.formModel.detail.filter(function(t){return t.calcType!=t.oriCalcType}).length>0,o=E.a.deepClone(this.formModel);o.status=2,o.netWeightType="out";var i={};i.businessNo=this.formModel.whsoutNo,a||n?this.$confirm("单据发生调整，是否执行保存并出库?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){D.a.post("costCommon/queryCostBill",i,function(a){if(null!=a&&a.Count>0)return void t.$message({message:"该出库单已结算不允许做出库操作！",type:"fail"});D.a.post("whsout/updateWhsOutDetail",o,function(a){e.handleBackData(a),D.a.post("whsout/stockOutInfo",o,function(a){e.handleBackData(a),t.$message({message:"出库成功",type:"success"}),e.$refs.out.setDisabled(!0),t.updateTitle("查看出库单["+t.formModel.whsoutNo+"]"),e.config.allowEdit=!1,e.$options.parent.propsData.parentView.queryData()})})})}):D.a.post("whsout/stockOutInfo",o,function(a){e.handleBackData(a),t.$message({message:"出库成功",type:"success"}),e.$refs.out.setDisabled(!0),t.updateTitle("查看出库单["+t.formModel.whsoutNo+"]"),e.config.allowEdit=!1,e.$options.parent.propsData.parentView.queryData()})}},computed:{auditTimeCanEdit:function(){return this.formModel.editFlag==O.OPER_ADJUST||(this.formModel.editFlag!=O.OPER_EDIT||this.formModel.status!=U.STATUS_SUCC)}},mounted:function(){var t=this.$commonUtil.permission.hasSaveAuth(this),e=this.$commonUtil.permission.hasCheckAuth(this),a=this.$commonUtil.permission.hasPrintAuth(this);this.deleteIdList||(this.deleteIdList=[]),this.delPackNoList||(this.delPackNoList=[]),this.formModel.editFlag==O.OPER_ADJUST?(this.$refs.out.setDisabled(!0),this.$refs.form_auditTime.canEdit=!0):this.formModel.editFlag==O.OPER_EDIT?(this.$refs.save.setDisabled(!0),this.$refs.select.setDisabled(!0),this.$refs.remove.setDisabled(!0),this.$refs.upload.setDisabled(!0),this.formModel.status==U.STATUS_SUCC?(this.$refs.out.setDisabled(!0),this.updateTitle("查看出库单["+this.formModel.whsoutNo+"]"),this.$refs.form_auditTime.canEdit=!1):this.$refs.form_auditTime.canEdit=!0):(this.$refs.btn_print.setDisabled(!0),this.$refs.cost.setDisabled(!0),this.$refs.out.setDisabled(!0),this.$refs.form_auditTime.canEdit=!0),t||this.$refs.add.setDisabled(!0),e||this.$refs.save.setDisabled(!0),a||this.$refs.btn_print.setDisabled(!0)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(7),T=a(28),C=a(119),k=a.n(C),E=a(384),L=a.n(E);e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:k.a},data:function(){return{dataSource:[],totalData:null,config:{entity:T.a.whsOut,allowEdit:!1,multiple:!1},totalSize:0,searchFields:[{displayName:"出库单号",fieldName:"whsoutNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-2-6-8-0"},{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-3-6-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-2-6-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"2-3-6-8-0"},{displayName:"净重",fieldName:"netWeight",xtype:"number",searchLoc:"2-4-6-8-0"},{displayName:"毛重",fieldName:"grossWeight",xtype:"number",searchLoc:"3-1-6-8-0"},{displayName:"磅重",fieldName:"poundWeight",xtype:"number",searchLoc:"3-2-6-8-0"},{displayName:"库位",fieldName:"whsRoomId",xtype:"text",searchLoc:"3-3-6-8-0"},{displayName:"炉号",fieldName:"stoveCode",xtype:"text",searchLoc:"3-4-6-8-0"},{displayName:"提货车牌号",fieldName:"vehicleNumber",xtype:"search_select_input",searchLoc:"4-1-6-8-0"},{displayName:"首入库日期",fieldName:"whsinTime",xtype:"date",searchLoc:"4-2-6-8-0"},{displayName:"创建时间",fieldName:"createTime",xtype:"datetimerange",searchLoc:"4-3-12-4-0",dateBegin:"createTimeStart",dateEnd:"createTimeEnd"}],searchParam:{}}},methods:{queryData:function(t){this.searchParam=t;var e=this;this.getData(function(t){e.totalData=t.content,e.$refs.pager.refreshData()})},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},editTab:function(t,e){var a=this;this.$commonUtil.getEntityNoPageWithFileOut("whsout/getOutInfoByMainId","whsout/getWhsoutDetailInfoByMainId","file/getFileItemInfo",{id:t.mainId,mainId:t.mainId,bizType:2,bizId:t.mainId},function(e){e.editFlag="1",a.$tab.open({component:L.a,name:"编辑出库单["+t.whsoutNo+"]",propsData:{key:t.id,entity:e,parentView:a}})})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,$.a.post("whsout/getOutDetailByPage",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"出库单台账列表")})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(118),h=(a.n(u),a(117)),_=a.n(h),f=a(120),b=a.n(f),v=a(69),g=a.n(v),y=a(115),x=a.n(y),w=a(121),N=a(116),I=a.n(N),S=a(70),D=a.n(S),$=a(7),T=a(28),C=a(119),k=a.n(C),E=a(384),L=a.n(E),F=a(10),M=a(367),W=a.n(M),P=a(368),A=(a.n(P),a(385)),B=a.n(A);e.default={mixins:[w.a],components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,pm_search:b.a,pm_form_item:_.a,pm_toolButton:g.a,pm_tool_bar:x.a,pm_table:I.a,pm_column:D.a,pm_pagination:k.a,noteWhsOutPrint:B.a},data:function(){return{dataSource:[],totalData:null,config:{entity:T.a.whsOut,allowEdit:!1,multiple:!1,dbclick:this.editTab,rowCanEdit:function(t){}},totalSize:0,searchFields:[{displayName:"出库单号",fieldName:"whsoutNo",xtype:"text",searchLoc:"1-1-8-8-0"},{displayName:"货主单位",fieldName:"cstId",xtype:"search_select_input",searchLoc:"1-2-8-8-0"},{displayName:"卡号",fieldName:"cstPackNo",xtype:"text",searchLoc:"1-3-8-8-0"},{displayName:"品名",fieldName:"brandId",xtype:"search_select_input",searchLoc:"2-1-8-8-0"},{displayName:"材质",fieldName:"textureId",xtype:"search_select_input",searchLoc:"2-2-8-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-3-8-8-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"3-1-8-8-0"},{displayName:"制单时间",fieldName:"createTime",xtype:"datetimerange",searchLoc:"3-2-16-4-0",dateBegin:"createTimeStart",dateEnd:"createTimeEnd"}],searchParam:{}}},methods:{printInfo:function(){var t=this,e=this.getSelectRow();this.$commonUtil.getDetailEntity("whsout/getWhsoutDetailInfoByMainId",{id:e.id,mainId:e.id,bizType:2,bizId:e.id},e,function(e){t.$refs.print.printDiv(e)})},queryData:function(t){var e=this;this.getData(function(t){e.totalData=t.content,e.$refs.pager.refreshData()})},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=t.content,a.totalSize=t.total},t,e)},addTab:function(){var t=this,e={};e.editFlag="3";var a={component:L.a,propsData:{entity:e,parentView:t},name:"添加出库单"};this.$tab.open(a)},editTab:function(t,e){var a=this;this.$commonUtil.getEntityNoPageWithFileOut("whsout/getOutInfoByMainId","whsout/getWhsoutDetailInfoByMainId","file/getFileItemInfo",{id:t.id,mainId:t.id,bizType:2,bizId:t.id},function(e){e.editFlag="1",a.$tab.open({component:L.a,name:"编辑出库单["+t.whsoutNo+"]",propsData:{key:t.id,entity:e,parentView:a}})})},adjustTab:function(){var t=this,e=this.getSelectRow();if(2!=e.status)return void this.$message({message:"只能调整已出库的单据",type:"fail"});this.$commonUtil.getEntityNoPageWithFileOut("whsout/getOutInfoByMainId","whsout/getWhsoutDetailInfoByMainId","file/getFileItemInfo",{id:e.id,mainId:e.id,bizType:2,bizId:e.id},function(a){a.editFlag="2",t.$tab.open({component:L.a,name:"调整出库单["+e.whsoutNo+"]",propsData:{key:e.id,entity:a,parentView:t}})})},deleteInfo:function(){var t=this,e=this.getSelectRow();if(1!=e.status)return void this.$message({message:"只能作废待出库状态的单据！",type:"fail"});var a=this;this.$confirm("确认作废选中的出库单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){$.a.post("whsout/deleteOutInfo",e,function(e){t.$message({message:"作废出库单成功",type:"success"}),a.queryData()})})},auditInfo:function(){var t=this,e=this.getSelectRow();if(1!=e.status)return void this.$message({message:"只能出库待出库状态的单据！",type:"fail"});var a=this;this.$confirm("确认出库选中的出库单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){$.a.post("whsout/getWhsoutDetailInfoByMainId",e,function(n){e.detail=n;var o=F.a.deepClone(e);o.status=2,$.a.post("whsout/stockOutInfo",o,function(e){t.$message({message:"出库成功",type:"success"}),a.queryData()})})})},getData:function(t,e,a){var n=this.$refs.pm_search.getParam();this.$commonUtil.handler.packNoHander(n),n.page=e||0,n.size=a||1e5,$.a.post("whsout/getWhOutfoBypage",n,function(e){t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"出库单列表")})},settleInfo:function(){var t=this,e=this.getSelectRow(),a=this.$commonUtil.deepClone(e);a.cstId=a.cstId,a.businessNo=a.whsoutNo,a.detailList=this.dataSource,e.mainId=e.id,$.a.post("whsout/getWhsoutDetailInfoByMainId",e,function(e){a.detailList=e,t.wrapData(a);var n={component:W.a,propsData:{entity:a},name:"新增结算单"};t.$tab.open(n)})},wrapData:function(t){t.businessNo=t.whsoutNo,t.cstId=t.cstId,t.businessType=2,t.createDate=t.createTime,t.creatorData=t.creator,t.detailList&&(t.detailList.forEach(function(t){t.material=t.textureId,t.productPlace=t.producingId,t.businessNo=t.whsoutNo,t.whsInFirstDate=t.whsinTime,t.createDate=t.createTime,t.numFin=t.number,t.transferTimes?t.transferNum=t.transferTimes:t.transferNum=0,t.businessType=1,t.costDate=t.costTime}),t.detail=t.detailList)},getSelectRow:function(){var t=this.$refs.pmTable.currentRow;return t||this.$commonUtil.valid.throwEx(this,"请先选择一条信息"),t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),o=a(9),i=a(28);e.default={props:{},data:function(){return{config:{mainEntity:i.a.wmsTransfer,detailEntity:i.a.wmsTransferDetail,dicCache:null},mainInfo:{whsInfo:{name:""},stack:""},detailInfo:[],isPrinting:!1,key:this.$commonUtil.appConst.NewGuid()}},methods:{printDiv:function(t){this.initData(t),this.isPrinting=!0},getDisplayModel:function(t,e){this.config.dicCache||(this.config.dicCache=n.a.getDic());var a={},i=null;for(var r in t){var s=o.a.getDisplayText(e,r,t[r],this.config.dicCache);a[r]=s}return i=o.a.getStackName(this.config.dicCache,t,"whsRoomId","whsAreaId"),t.whsStackName&&(i=i+">"+t.whsStackName),t.whsLayer&&(i=i+">"+t.whsLayer),a.stack=i,a},initData:function(t){var e=this,a=this;this.detailInfo=t.detailList.map(function(t){return a.getDisplayModel(t,e.config.detailEntity)}),this.mainInfo=this.getDisplayModel(t,this.config.mainEntity),this.mainInfo.whsInfo=n.a.getUser().accountInfo}},updated:function(){this.mainInfo&&this.isPrinting&&printJS({printable:this.key,type:"html",header:"打印出库单",scanStyles:!1,css:"/static/css/contract.css"}),this.isPrinting=!1}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(362),o=a.n(n),i=a(363),r=a.n(i),s=a(365),l=a.n(s),c=a(364),p=a.n(c),m=a(366),d=a.n(m),u=a(122),h=a.n(u),_=a(118),f=(a.n(_),a(117)),b=a.n(f),v=a(120),g=a.n(v),y=a(116),x=a.n(y),w=a(121),N=a(70),I=a.n(N),S=(a(7),a(28)),D=a(119),$=a.n(D),T=a(69),C=a.n(T),k=a(115),E=a.n(k);e.default={components:{metro_page:o.a,metro_page_box:r.a,metro_page_box_tool_bar:l.a,metro_page_box_body:p.a,metro_pageheader:d.a,x_table:h.a,pm_search:g.a,pm_form_item:b.a,pm_table:x.a,pm_column:I.a,pm_pagination:$.a,pm_toolButton:C.a,pm_tool_bar:E.a},mixins:[w.a],data:function(){return{dataSource:[],totalData:null,config:{entity:S.a.wmsStock,allowEdit:!1,multiple:!1,autofit:!1},totalSize:{type:Number,default:0},searchFields:[{displayName:"卡号",fieldName:"cardNo",xtype:"text",searchLoc:"1-1-6-8-0"},{displayName:"品名(品种)",fieldName:"brandId",xtype:"search_select_input",searchLoc:"1-2-6-9-0"},{displayName:"材质(钢种)",fieldName:"textureId",xtype:"search_select_input",searchLoc:"1-3-6-9-0"},{displayName:"产地",fieldName:"producingId",xtype:"search_select_input",searchLoc:"1-4-6-8-0"},{displayName:"货主",fieldName:"cstId",xtype:"search_select_input",searchLoc:"2-1-6-8-0"},{displayName:"库位",fieldName:"whsCalcStackId",xtype:"tree_select",searchLoc:"2-2-6-8-0"},{displayName:"规格",fieldName:"spec",xtype:"text",searchLoc:"2-3-6-8-0"},{displayName:"净重",fieldName:"netWeight",xtype:"number",searchLoc:"2-4-6-8-0"},{displayName:"毛重",fieldName:"grossWeight",xtype:"number",searchLoc:"3-1-6-8-0"},{displayName:"磅重",fieldName:"poundWeight",xtype:"number",searchLoc:"3-2-6-8-0"},{displayName:"入库时间",fieldName:"whsinTime",dateBegin:"inTimeBegin",dateEnd:"inTimeEnd",xtype:"datetimerange",timeDefault:[],searchLoc:"3-3-12-4-0"},{displayName:"状态",fieldName:"status",xtype:"select_batch",value:[1,5],searchLoc:"4-1-12-4-0"}]}},created:function(){},methods:{getParam:function(){this.$refs.demoForm.validate()},getList:function(t,e){var a=this;this.getData(function(t){a.dataSource=Object.freeze(t.content),a.totalSize=t.total},t,e)},queryData:function(t){var e=this;this.getData(function(t){e.totalData=t.content,e.$refs.pager.refreshData()})},getData:function(t,e,a){var n=this,o=this.$refs.pm_search.getParam();this.$commonUtil.handler.statusHander(o),this.$commonUtil.handler.packNoHander(o),o.page=e||0,o.size=a||1e5,this.$httpUtil.post("stock/getList",o,function(e){e.content&&e.content.forEach(function(t){n.$metaData.wmsStock.methods.calcUsableProp(t)}),t&&t(e)})},exportFunc:function(){var t=this;this.getData(function(e){var a=t.$refs.pmTable;t.$commonUtil.cloudExport(t,e.content,a,"库存台账列表")})}}}},function(t,e,a){"use strict";function n(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[];return Array.from(t).forEach(function(t){void 0===t._expanded&&o.default.set(t,"_expanded",e);var s=1;if(void 0!==i&&null!==i&&(s=i+1),o.default.set(t,"_level",s),a&&o.default.set(t,"parent",a),r.push(t),t.children&&t.children.length>0){var l=n(t.children,e,t,s);r=r.concat(l)}}),r}e.a=n;var o=a(4)},function(t,e,a){"use strict";function n(t,e){return null==t||0==t.length?0:t.map(e).reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+a})}var o=a(28),i=o.a.wmsNoteAdjust.adjustType,r=function(t){this.pageObj=t,this.getValidRules=function(){var t=this,e=function(t){return"捆包【"+t.packNo+"】"},a=[];return a.push({fieldName:"amount",msg:"调整数量必须大于0",getPrimaryMsg:e,validFunc:function(e,a){return!!t.pageObj.$commonUtil.valid.isOutByNum(e.brandId)&&(null==e.amount&&(e.amount=0),e.amount<=0)}}),a.push({fieldName:"netWeight",msg:"调整净重必须大于0",getPrimaryMsg:e,validFunc:function(t,e){return null==t.netWeight&&(t.netWeight=0),t.netWeight<=0}}),a.push({fieldName:"transferTimes",msg:"过户次数不能小于0",getPrimaryMsg:e,validFunc:function(t,e){return null==t.transferTimes&&(t.transferTimes=0),t.transferTimes<0}}),a},this.beforeConfirmSetting=function(t){return t},this.gridEditConfig=function(){},this.addNewDetailSetting=function(){},this.getFilter=function(){}},s=function(t){r.call(this,t),this.gridEditConfig=function(){t.config.allowEdit=!0},this.getFilter=function(){return{extFilter:" (1=1) ",fStatus:[1,5],errorMsg:"非在库状态，不允许挑选",selectedValid:function(t){return 1==t.status}}}},l=function(t){r.call(this,t),this.getFilter=function(){return{extFilter:" (1=1) ",fStatus:[1],selectedValid:function(t){return!0}}},this.gridEditConfig=function(){t.config.allowEdit=!1},this.beforeConfirmSetting=function(e){var a=t.$commonUtil.deepClone(e),o=a.detailList.filter(function(t){return!t.ori});return o.forEach(function(t){t.amount=0,t.netWeight=0,t.grossWeight=0,t.poundWeight=0}),a.totalAmount=n(o,function(t){return t.amount}),a.totalNetWeight=n(o,function(t){return t.netWeight}),a.totalGrossWeight=n(o,function(t){return t.grossWeight}),a.totalPoundWeight=n(o,function(t){return t.poundWeight}),a}},c=function(t){r.call(this,t),this.getFilter=function(){return{fStatus:[3],selectedValid:function(t){return!0}}},this.gridEditConfig=function(){t.config.allowEdit=!1}},p=function(t){r.call(this,t),this.gridEditConfig=function(){t.config.allowEdit=!1},this.getFilter=function(){return{extFilter:" (1=1) ",fStatus:[],selectedValid:function(t){return!0}}}};e.a={sum:n,getAdjustStrategy:function(t,e){switch(e){case i.Type_Normal:return new s(t);case i.Type_Clear:return new l(t);case i.Type_ConvertStatus:return new c(t);case i.Type_Del:return new p(t)}}}},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"demoGrid.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteTransferEdit.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,".block .el-tree[data-v-1270522b]{background:transparent!important}","",{version:3,sources:["D:/mywork/02-java-workspace/ii.saas.cloudstore.pangmao.ui/src/views/baseData/brandManage/BrandManage.vue"],names:[],mappings:"AACA,iCACE,gCAAmC,CACpC",file:"BrandManage.vue",sourcesContent:["\n.block .el-tree[data-v-1270522b]{\n  background: transparent !important;\n}\n"],sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"OwnerEdit.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteWhsMoveEdit.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteWhsInGrid.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DictionaryEdit.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteTransferManage.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"metro_page_box_tool_bar.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"metro_page_box.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteWhsOutManage.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,".el-tree[data-v-5ca4edc8]{min-width:100%;display:inline-block!important}","",{version:3,sources:["D:/mywork/02-java-workspace/ii.saas.cloudstore.pangmao.ui/src/views/rbac/userDepartmentManage/UserDepartmentManage.vue"],names:[],mappings:"AACA,0BACI,eAAgB,AAChB,8BAAgC,CACnC",file:"UserDepartmentManage.vue",sourcesContent:["\n.el-tree[data-v-5ca4edc8] {\n    min-width: 100%;\n    display:inline-block !important;\n}\n"],sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteWhsMoveManage.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,".upload-demo .el-upload,.upload-demo .el-upload-list,.upload-demo .el-upload-list__item{float:left}.upload-demo .el-upload-list__item{width:auto!important;margin-left:20px!important}.upload-demo .el-upload-list__item:first-child{margin-top:5px}","",{version:3,sources:["D:/mywork/02-java-workspace/ii.saas.cloudstore.pangmao.ui/src/components/common/upload/pm_upload.vue"],names:[],mappings:"AACA,wFAGE,UAAY,CACb,AACD,mCACE,qBAAqB,AACrB,0BAA6B,CAC9B,AACD,+CACE,cAAgB,CACjB",file:"pm_upload.vue",sourcesContent:["\n.upload-demo .el-upload,\r\n.upload-demo .el-upload-list,\r\n.upload-demo .el-upload-list__item {\r\n  float: left;\n}\n.upload-demo .el-upload-list__item {\r\n  width:auto!important;\r\n  margin-left: 20px !important;\n}\n.upload-demo .el-upload-list__item:first-child {\r\n  margin-top: 5px;\n}\r\n"],sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"LibraryPositionEdit.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteWhsInManage.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,".vl-notify-content{overflow:hidden!important}","",{version:3,sources:["D:/mywork/02-java-workspace/ii.saas.cloudstore.pangmao.ui/src/views/baseData/physicalWeightManage/PhysicalWeightEdit.vue"],names:[],mappings:"AACA,mBAAmB,yBAA0B,CAC5C",file:"PhysicalWeightEdit.vue",sourcesContent:["\n.vl-notify-content{overflow:hidden!important;\n}\r\n"],sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"metro_page.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"@keyframes treeTableShow{0%{opacity:0}to{opacity:1}}@-webkit-keyframes treeTableShow{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["D:/mywork/02-java-workspace/ii.saas.cloudstore.pangmao.ui/src/components/common/treeSelect/TreeGrid.vue"],names:[],mappings:"AACA,yBACA,GACI,SAAW,CACd,AACD,GACI,SAAW,CACd,CACA,AACD,iCACA,GACI,SAAW,CACd,AACD,GACI,SAAW,CACd,CACA",file:"TreeGrid.vue",sourcesContent:["\n@keyframes treeTableShow {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@-webkit-keyframes treeTableShow {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n"],sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,'.ms-tree-space[data-v-99a340ae]{position:relative;top:1px;display:inline-block;font-style:normal;font-weight:400;line-height:1;width:18px;height:14px}.ms-tree-space [data-v-99a340ae]:before{content:""}.processContainer[data-v-99a340ae]{width:100%;height:100%}table td[data-v-99a340ae]{line-height:26px}.tree-ctrl[data-v-99a340ae]{position:relative;cursor:pointer;color:#2196f3;margin-left:-18px}.el-table__body tr.current-row>td[data-v-99a340ae]{background:rgba(185,221,249,.75)!important}',"",{version:3,sources:["D:/mywork/02-java-workspace/ii.saas.cloudstore.pangmao.ui/src/components/common/treeSelect/TreeGrid.vue"],names:[],mappings:"AAEA,gCACE,kBAAmB,AACnB,QAAS,AACT,qBAAsB,AACtB,kBAAmB,AACnB,gBAAiB,AACjB,cAAe,AACf,WAAY,AACZ,WAAa,CACd,AACD,wCACI,UAAY,CACf,AACD,mCACE,WAAY,AACZ,WAAa,CACd,AACD,0BACE,gBAAkB,CACnB,AACD,4BACE,kBAAmB,AACnB,eAAgB,AAChB,cAAe,AACf,iBAAmB,CACpB,AACD,mDACE,0CAAiD,CAClD",file:"TreeGrid.vue",sourcesContent:['/*$color-blue:*/\n/*$space-width: */\n.ms-tree-space[data-v-99a340ae] {\n  position: relative;\n  top: 1px;\n  display: inline-block;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1;\n  width: 18px;\n  height: 14px;\n}\n.ms-tree-space [data-v-99a340ae]::before {\n    content: "";\n}\n.processContainer[data-v-99a340ae] {\n  width: 100%;\n  height: 100%;\n}\ntable td[data-v-99a340ae] {\n  line-height: 26px;\n}\n.tree-ctrl[data-v-99a340ae] {\n  position: relative;\n  cursor: pointer;\n  color: #2196F3;\n  margin-left: -18px;\n}\n.el-table__body tr.current-row > td[data-v-99a340ae] {\n  background: rgba(185, 221, 249, 0.75) !important;\n}\n'],sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteTransferGrid.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"pageheader.vue",sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,".el-scrollbar__wrap{overflow:auto}","",{version:3,sources:["D:/mywork/02-java-workspace/ii.saas.cloudstore.pangmao.ui/src/components/common/dicMenu/pm_dicMenu.vue"],names:[],mappings:"AACA,oBAEG,aAAc,CAChB",file:"pm_dicMenu.vue",sourcesContent:["\n.el-scrollbar__wrap {\n   /* overflow-x: hidden; */\n   overflow:auto;\n}\n"],sourceRoot:""}])},function(t,e,a){e=t.exports=a(358)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"NoteWhsInEdit.vue",sourceRoot:""}])},function(t,e,a){var n=a(473);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("2a75c6f0",n,!0)},function(t,e,a){var n=a(474);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("1651044c",n,!0)},function(t,e,a){var n=a(475);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("5737eb89",n,!0)},function(t,e,a){var n=a(476);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("174ed27b",n,!0)},function(t,e,a){var n=a(477);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("230b1627",n,!0)},function(t,e,a){var n=a(478);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("6507d288",n,!0)},function(t,e,a){var n=a(479);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("66a00a29",n,!0)},function(t,e,a){var n=a(480);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("e784e784",n,!0)},function(t,e,a){var n=a(481);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("0f0bb940",n,!0)},function(t,e,a){var n=a(482);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("6a0d9afb",n,!0)},function(t,e,a){var n=a(483);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("39e27cfa",n,!0)},function(t,e,a){var n=a(484);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("01b7bd0f",n,!0)},function(t,e,a){var n=a(485);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("5f3bd130",n,!0)},function(t,e,a){var n=a(486);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("39de9ea8",n,!0)},function(t,e,a){var n=a(487);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("40b40bb1",n,!0)},function(t,e,a){var n=a(488);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("51263c19",n,!0)},function(t,e,a){var n=a(489);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("76b0404f",n,!0)},function(t,e,a){var n=a(490);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("1d39856c",n,!0)},function(t,e,a){var n=a(491);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("415345be",n,!0)},function(t,e,a){var n=a(492);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("e8fa1e9c",n,!0)},function(t,e,a){var n=a(493);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("cb3efb9c",n,!0)},function(t,e,a){var n=a(494);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("4aae1962",n,!0)},function(t,e,a){var n=a(495);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("63a352ea",n,!0)},function(t,e,a){var n=a(496);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("38ba31da",n,!0)},,,,,,,function(t,e,a){var n=a(0)(a(402),a(604),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(403),a(574),null,null);t.exports=n.exports},function(t,e,a){a(515),a(516);var n=a(0)(a(405),a(616),"data-v-99a340ae",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(406),a(565),null,null);t.exports=n.exports},function(t,e,a){a(499);var n=a(0)(a(415),a(570),"data-v-1270522b",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(417),a(626),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(419),a(609),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(421),a(599),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(423),a(581),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(425),a(625),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(427),a(620),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(430),a(564),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(431),a(573),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(435),a(577),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(437),a(617),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(438),a(582),null,null);t.exports=n.exports},function(t,e,a){a(497);var n=a(0)(a(439),a(566),"data-v-078c29a2",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(440),a(603),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(442),a(563),null,null);t.exports=n.exports},function(t,e,a){a(508);var n=a(0)(a(444),a(600),"data-v-5ca4edc8",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(447),a(598),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(448),a(576),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(451),a(571),null,null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(452),a(628),null,null);t.exports=n.exports},function(t,e,a){a(517);var n=a(0)(a(455),a(618),"data-v-a9db8146",null);t.exports=n.exports},function(t,e,a){a(504);var n=a(0)(a(456),a(594),null,null);t.exports=n.exports},function(t,e,a){a(502);var n=a(0)(a(459),a(584),"data-v-3dc14c29",null);t.exports=n.exports},function(t,e,a){a(512);var n=a(0)(a(460),a(611),"data-v-7cb41008",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(463),a(580),null,null);t.exports=n.exports},function(t,e,a){a(509);var n=a(0)(a(464),a(601),"data-v-62cd1840",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(467),a(623),null,null);t.exports=n.exports},function(t,e,a){a(507);var n=a(0)(a(468),a(597),"data-v-54efa81c",null);t.exports=n.exports},function(t,e,a){var n=a(0)(a(470),a(588),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("html",{attrs:{id:t.key}},[t._m(0),t._v(" "),a("body",[a("div",[a("div",{staticClass:"cont",attrs:{id:"printDiv"}},[a("div",{staticClass:"title"},[t._v("移库单")]),t._v(" "),a("div",{staticClass:"contractInfor clearfix"},[a("ul",{staticClass:"fl"},[a("li",[a("label",[t._v("移库单号：")]),a("span",[t._v(t._s(t.mainInfo.moveNo))])]),t._v(" "),a("li",[a("label",[t._v("仓库：")]),a("span",[t._v(t._s(t.mainInfo.whsInfo.name))])]),t._v(" "),a("li",[a("label",[t._v("移库时间：")]),a("span",[t._v(t._s(t.mainInfo.createTime))])])]),t._v(" "),a("ul",{staticClass:"fr"},[a("li",[a("label",[t._v("移库状态：")]),a("span",[t._v(t._s(t.mainInfo.moveStatus))])]),t._v(" "),a("li",[a("label",[t._v("制单人：")]),a("span",[t._v(t._s(t.mainInfo.creatorName))])])])]),t._v(" "),a("div",{staticClass:"content",attrs:{deep:"1"}},[a("div",{staticClass:"text"},[a("table",{staticClass:"contentTable",staticStyle:{"margin-top":"10px"}},[t._m(1),t._v(" "),a("tbody",t._l(t.detailInfo,function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.cardNo))]),t._v(" "),a("td",[t._v(t._s(e.packNo))]),t._v(" "),a("td",[t._v(t._s(e.brandId))]),t._v(" "),a("td",[t._v(t._s(e.textureId))]),t._v(" "),a("td",[t._v(t._s(e.spec))]),t._v(" "),a("td",[t._v(t._s(e.producingId))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[t._v(t._s(e.netWeight))]),t._v(" "),a("td",[t._v(t._s(e.oldStack))]),t._v(" "),a("td",[t._v(t._s(e.newStack))]),t._v(" "),a("td",[t._v(t._s(e.remark))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("合计")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalAmout))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalNetWeight))]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")])])])])]),t._v(" "),a("div",{staticClass:"bot"},[a("table",[a("tbody",[a("tr",[a("td",[t._v("说明："+t._s(t.mainInfo.remark))]),a("td",{attrs:{colspan:"3"}})]),t._v(" "),a("tr",[a("td",{attrs:{width:"70"}},[t._v("仓库单位：")]),a("td",[t._v(t._s(t.mainInfo.whsInfo.name))]),t._v(" "),a("td",{attrs:{width:"70"}},[t._v("联系电话：")]),a("td",{attrs:{width:"150"}},[t._v(t._s(t.mainInfo.whsInfo.phone))])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("head",[a("meta",{attrs:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}),t._v(" "),a("title",[t._v("移库单")]),t._v(" "),a("meta",{attrs:{"http-equiv":"X-UA-Compatible",content:"IE=Edge,chrome=1"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"35px"}},[t._v("序号")]),t._v(" "),a("th",[t._v("卡号")]),t._v(" "),a("th",[t._v("捆包号")]),t._v(" "),a("th",[t._v("品种")]),t._v(" "),a("th",[t._v("材质(钢种)")]),t._v(" "),a("th",{staticStyle:{width:"50px"}},[t._v("规格")]),t._v(" "),a("th",[t._v("产地")]),t._v(" "),a("th",[t._v("数量")]),t._v(" "),a("th",[t._v("净重")]),t._v(" "),a("th",[t._v("原库位")]),t._v(" "),a("th",[t._v("目标库位")]),t._v(" "),a("th",[t._v("备注")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("html",{attrs:{id:t.key}},[t._m(0),t._v(" "),a("body",[a("div",[a("div",{staticClass:"cont",attrs:{id:"printDiv"}},[a("div",{staticClass:"title"},[t._v("过户单")]),t._v(" "),a("div",{staticClass:"contractInfor clearfix"},[a("ul",{staticClass:"fl"},[a("li",[a("label",[t._v("过户单号：")]),a("span",[t._v(t._s(t.mainInfo.transferNo))])]),t._v(" "),a("li",[a("label",[t._v("原货主：")]),a("span",[t._v(t._s(t.mainInfo.oldCstId))])]),t._v(" "),a("li",[a("label",[t._v("仓库：")]),a("span",[t._v(t._s(t.mainInfo.whsInfo.name))])]),t._v(" "),a("li",[a("label",[t._v("新货主：")]),a("span",[t._v(t._s(t.mainInfo.newCstId))])])]),t._v(" "),a("ul",{staticClass:"fr"},[a("li",[a("label",[t._v("过户时间：")]),a("span",[t._v(t._s(t.mainInfo.transferTime))])]),t._v(" "),a("li",[a("label",[t._v("过户状态：")]),a("span",[t._v(t._s(t.mainInfo.transferStatus))])]),t._v(" "),a("li",[a("label",[t._v("制单人：")]),a("span",[t._v(t._s(t.mainInfo.creatorName))])])])]),t._v(" "),a("div",{staticClass:"content",attrs:{deep:"1"}},[a("div",{staticClass:"text"},[a("table",{staticClass:"contentTable",staticStyle:{"margin-top":"10px"}},[t._m(1),t._v(" "),a("tbody",t._l(t.detailInfo,function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.cardNo))]),t._v(" "),a("td",[t._v(t._s(e.packNo))]),t._v(" "),a("td",[t._v(t._s(e.brandId))]),t._v(" "),a("td",[t._v(t._s(e.textureId))]),t._v(" "),a("td",[t._v(t._s(e.spec))]),t._v(" "),a("td",[t._v(t._s(e.producingId))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[t._v(t._s(e.calcType))]),t._v(" "),a("td",[t._v(t._s(e.netWeight))]),t._v(" "),a("td",[t._v(t._s(e.grossWeight))]),t._v(" "),a("td",[t._v(t._s(e.poundWeight))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("合计")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalAmout))]),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalNetWeight))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalGrossWeight))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalPoundWeight))])])])])])]),t._v(" "),a("div",{staticClass:"bot"},[a("table",[a("tbody",[a("tr",[a("td",[t._v("说明："+t._s(t.mainInfo.remark))]),a("td",{attrs:{colspan:"3"}})]),t._v(" "),a("tr",[a("td",{attrs:{width:"70"}},[t._v("仓库单位：")]),a("td",[t._v(t._s(t.mainInfo.whsInfo.name))]),t._v(" "),a("td",{attrs:{width:"70"}},[t._v("联系电话：")]),a("td",{attrs:{width:"150"}},[t._v(t._s(t.mainInfo.whsInfo.phone))])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("head",[a("meta",{attrs:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}),t._v(" "),a("title",[t._v("过户单")]),t._v(" "),a("meta",{attrs:{"http-equiv":"X-UA-Compatible",content:"IE=Edge,chrome=1"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"35px"}},[t._v("序号")]),t._v(" "),a("th",[t._v("卡号")]),t._v(" "),a("th",[t._v("捆包号")]),t._v(" "),a("th",[t._v("品种")]),t._v(" "),a("th",[t._v("材质(钢种)")]),t._v(" "),a("th",{staticStyle:{width:"50px"}},[t._v("规格")]),t._v(" "),a("th",[t._v("产地")]),t._v(" "),a("th",[t._v("数量")]),t._v(" "),a("th",[t._v("计量方式")]),t._v(" "),a("th",[t._v("净重")]),t._v(" "),a("th",[t._v("毛重")]),t._v(" "),a("th",[t._v("磅重")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_form_render",{ref:"demoForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"货主单位",name:"cstId",span:7,xtype:"select",lableWidth:"100px",readOnly:!0,required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"结算单位",name:"balanceCompanyId",span:7,xtype:"select",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"结算清单号",name:"balanceNo",span:10,xtype:"text",lableWidth:"100px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"结算方式",name:"balanceType",span:7,xtype:"select",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"付款方式",name:"payType",span:7,xtype:"select",lableWidth:"100px",watchField:"balanceType",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"结算计重",name:"weightType",span:10,xtype:"radio",radioGroup:t.group,lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"实结金额",name:"actMoney",span:4,xtype:"text",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"确认已结",name:"isBalance",span:3,xtype:"check",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"建档日期",name:"createDate",span:7,xtype:"date",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"建档人",name:"creatorName",span:10,xtype:"text",lableWidth:"100px",readOnly:!0,required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"4",labletext:"备注",name:"remark",span:24,xtype:"textarea",lableWidth:"100px"}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"结算清单明细"}},[a("pm_tool_bar",[a("pm_toolButton",{ref:"selectDetail",attrs:{btnName:"挑选待结算计费单",btnIcon:"el-icon-circle-plus",btnClickFunc:t.selectDetail,btnDisabled:t.selectBtn}}),t._v(" "),a("pm_toolButton",{ref:"addDetail",attrs:{btnName:"新增明细",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addDetail,btnDisabled:t.changeBtn}}),t._v(" "),a("pm_toolButton",{ref:"deleteDetail",attrs:{btnName:"移除",btnIcon:"el-icon-remove-outline",btnClickFunc:t.deleteDetail}}),t._v(" "),a("pm_toolButton",{ref:"addCostBill",attrs:{btnName:"保存计费单",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.addCostBill,btnDisabled:t.changeBtn}}),t._v(" "),a("pm_toolButton",{ref:"addCostBalanceBill",attrs:{btnName:"保存结算单",btnIcon:"el-icon-circle-check",btnClickFunc:t.addCostBalanceBill,btnDisabled:t.costBtn}}),t._v(" "),a("pm_toolButton",{ref:"printCostBalanceBill",attrs:{btnName:"打印结算单",btnIcon:"el-icon-printer",btnClickFunc:t.printCostBalanceBill,btnDisabled:!0}}),t._v(" "),a("pm_toolButton",{ref:"clearDetail",attrs:{btnName:"清空",btnIcon:"el-icon-delete",btnClickFunc:t.clearDetail}})],1),t._v(" "),a("pm_table",{ref:"pmTable1",attrs:{dataSource:t.dataSource1,config:t.config1,bottomHeight:395}},[a("pm_column",{attrs:{prop:"costType",label:"费用类型",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"businessNo",label:"业务单据号",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"whsDayNum",label:"仓储天数",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"whsFreeDayNum",label:"免仓储天数",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"transferNum",label:"过户次数",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"numFin",label:"商品数量",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"商品净重",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"商品毛重",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"商品磅重",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"balancePreNum",label:"待结算量",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"unitprice",label:"结算单价",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"regularUnit",label:"计费单位",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"settleExpress",label:"计算公式",width:"300",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"settleAmt",label:"应结金额",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"settleActAmt",label:"实结金额",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"180",placeholder:"请输入货主内容",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"150",watchField:"brandId",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceNode",label:"结算节点",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"businessType",label:"业务类型",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"单据生成时间",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"oriPackNo",label:"原捆包号",width:"150",parentPropName:"whsRoomId",childPropName:"whsAreaId",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"rangeApply",label:"应用范围",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"whsInFirstDate",label:"首次入库日期",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"transferDate",label:"过户日期",width:"150",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200",placeholder:""}})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"历史清单明细"}},[a("pm_tool_bar"),t._v(" "),a("pm_table",{ref:"pmTable2",attrs:{dataSource:t.dataSource2,config:t.config2,bottomHeight:475}},[a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"180",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"150",watchField:"brandId"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"costType",label:"费用类型",min:0,step:.001,width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsDayNum",label:"仓储天数",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsFreeDayNum",label:"免仓储天数",min:0,step:1,width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"transferNum",label:"过户次数",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"unitprice",label:"结算单价",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"settleExpress",label:"结算公式",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"regularUnit",label:"计费单位",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"settleActAmt",label:"结算金额",width:"150",parentPropName:"whsRoomId",childPropName:"whsAreaId"}}),t._v(" "),a("pm_column",{attrs:{prop:"numFin",label:"商品数量",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"商品净重",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"商品毛重",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"商品磅重",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"businessType",label:"业务类型",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"businessNo",label:"业务单据号",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"createDate",label:"生成日期",width:"150",parentPropName:"whsRoomId",childPropName:"whsAreaId"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularDetailNo",label:"价格规则明细号",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"oriPackNo",label:"原捆包号",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceStatus",label:"结算状态",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"结算清单号",width:"150",placeholder:""}})],1),t._v(" "),a("pm_pagination",{attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!1,packRowHeight:8,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.add_func}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"name",label:"角色"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注"}}),t._v(" "),a("pm_column",{attrs:{prop:"deleteFlag",label:"状态",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"modifierName",label:"更新人",width:"200"}})],1),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{btnOffset:10,packRowHeight:3,packNoSearchSpan:6,hasPackNoSearch:!0,fields:t.searchFields},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"结算",btnIcon:"el-icon-sold-out",btnClickFunc:t.settle}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"结案",btnIcon:"el-icon-document",btnClickFunc:t.closeCase}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnIcon:"el-icon-error",btnClickFunc:t.remove}})],1),t._v(" "),a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"CostBalanceBillList-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"businessNo",label:"业务单据号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"costType",label:"费用类型",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceStatus",label:"计费单状态",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsDayNum",label:"仓储天数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsFreeDayNum",label:"免仓储天数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferNum",label:"过户次数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceNum",label:"已结算量",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"balancePreNum",label:"待结算量",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitprice",label:"结算单价",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularUnit",label:"计费单位",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"amtMoney",label:"应结金额",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"numFin",label:"商品件数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"商品净重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"商品毛重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"商品磅重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"businessType",label:"业务类型",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"计费单生成时间",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"dataSource",label:"数据来源",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularDetailNo",label:"计费规则明细单号",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"oriPackNo",label:"原捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsInFirstDate",label:"入库日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferDate",label:"过户日期",width:"150"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getBalanceList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-tree",{ref:"tree",attrs:{data:t.data,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:t.defaultProps}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{packRowHeight:5,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_form_render",{ref:"demoForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"文本1",name:"text1",span:20,xtype:"text",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"文本2",name:"text2",span:10,xtype:"text",lableWidth:"70px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"文本3",name:"text3",span:10,xtype:"text",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"number",name:"number",span:6,xtype:"number",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"date",name:"date",span:6,xtype:"date",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"daterange",name:"daterange",span:6,xtype:"daterange",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"datetime",name:"datetime",span:6,xtype:"datetime",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"4",labletext:"datetimerange",name:"datetimerange",span:8,xtype:"datetimerange",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"4",labletext:"select",name:"select",span:8,xtype:"select",lableWidth:"70px",options:t.whsinOptions,required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"5",labletext:"select_batch",name:"select_batch",span:10,xtype:"select_batch",lableWidth:"150px",options:t.whsinOptions,required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"5",labletext:"品名",name:"brandId",span:10,xtype:"search_select_input",lableWidth:"150px"}})],1),t._v(" "),a("el-button",{on:{click:t.getParam}},[t._v("按钮")])],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_tool_bar",{attrs:{buttons:t.toolbar_buttons}}),t._v(" "),a("metro_page_box_body",[a("x_table",{attrs:{checkbox:!0,columns:t.columns,data:t.data}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("html",{attrs:{id:t.key}},[t._m(0),t._v(" "),a("body",[a("div",[a("div",{staticClass:"cont",attrs:{id:"printDiv"}},[a("div",{staticClass:"title"},[t._v("锁定单")]),t._v(" "),a("div",{staticClass:"contractInfor clearfix"},[a("ul",{staticClass:"fl"},[a("li",[a("label",[t._v("锁定单号：")]),a("span",[t._v(t._s(t.mainInfo.lockNo))])]),t._v(" "),a("li",[a("label",[t._v("仓库：")]),a("span",[t._v(t._s(t.whsInfo.name))])]),t._v(" "),a("li",[a("label",[t._v("锁定时间：")]),a("span",[t._v(t._s(t.mainInfo.auditTime))])])]),t._v(" "),a("ul",{staticClass:"fr"},[a("li",[a("label",[t._v("锁定状态：")]),a("span",[t._v(t._s(t.mainInfo.status))])]),t._v(" "),a("li",[a("label",[t._v("制单人：")]),a("span",[t._v(t._s(t.mainInfo.creatorName))])])])]),t._v(" "),a("div",{staticClass:"content",attrs:{deep:"1"}},[a("div",{staticClass:"text"},[a("table",{staticClass:"contentTable",staticStyle:{"margin-top":"10px"}},[t._m(1),t._v(" "),a("tbody",t._l(t.detailInfo,function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.cardNo))]),t._v(" "),a("td",[t._v(t._s(e.packNo))]),t._v(" "),a("td",[t._v(t._s(e.brandId))]),t._v(" "),a("td",[t._v(t._s(e.textureId))]),t._v(" "),a("td",[t._v(t._s(e.spec))]),t._v(" "),a("td",[t._v(t._s(e.producingId))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[t._v(t._s(e.netWeight))]),t._v(" "),a("td",[t._v(t._s(e.grossWeight))]),t._v(" "),a("td",[t._v(t._s(e.poundWeight))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("合计")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalAmount))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalNetWeight))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalGrossWeight))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalPoundWeight))])])])])])]),t._v(" "),a("div",{staticClass:"bot"},[a("table",[a("tbody",[a("tr",[a("td",[t._v("说明：")]),a("td",{attrs:{colspan:"5"}},[t._v(t._s(t.mainInfo.remark))])]),t._v(" "),a("tr",[a("td",{attrs:{width:"70"}},[t._v("仓库单位：")]),a("td",[t._v(t._s(t.whsInfo.name))]),t._v(" "),a("td",{attrs:{width:"70"}},[t._v("联系电话：")]),a("td",{attrs:{width:"150"}},[t._v(t._s(t.whsInfo.phone))])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("head",[a("meta",{attrs:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}),t._v(" "),a("title",[t._v("锁定单打印")]),t._v(" "),a("meta",{attrs:{"http-equiv":"X-UA-Compatible",content:"IE=Edge,chrome=1"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"35px"}},[t._v("序号")]),t._v(" "),a("th",[t._v("卡号")]),t._v(" "),a("th",[t._v("捆包号")]),t._v(" "),a("th",[t._v("品种")]),t._v(" "),a("th",[t._v("材质(钢种)")]),t._v(" "),a("th",{staticStyle:{width:"50px"}},[t._v("规格")]),t._v(" "),a("th",[t._v("产地")]),t._v(" "),a("th",[t._v("数量")]),t._v(" "),a("th",[t._v("净重")]),t._v(" "),a("th",[t._v("毛重")]),t._v(" "),a("th",[t._v("磅重")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",{staticClass:"edit_padding"},[a("pm_form_render",{ref:"inForm",attrs:{model:t.formModel,rules:t.rules,entity:t.mainEntity,formReadOnly:t.formReadOnly}},[a("pm_form_item",{attrs:{row:"1",labletext:"过户单号",name:"transferNo",span:5,xtype:"text",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"过户单状态",name:"transferStatus",span:6,xtype:"select",lableWidth:"100px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"过户人",name:"auditorName",span:8,xtype:"text",readOnly:!0,lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{ref:"form_transferTime",attrs:{row:"1",labletext:"过户时间",name:"transferTime",span:5,xtype:"date",lableWidth:"100px",pickerOptions:t.pickerOptions}}),t._v(" "),a("pm_form_item",{ref:"form_oldCst",attrs:{row:"2",labletext:"原货主",required:"",name:"oldCstId",span:5,xtype:"search_select_input",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{ref:"form_newCst",attrs:{row:"2",labletext:"新货主",name:"newCstId",span:6,xtype:"search_select_input",alllowCreate:!0,autoCreateField:"createCstName",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"制单人",name:"creatorName",span:4,xtype:"text",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"制单时间",name:"createTime",span:4,xtype:"datetime",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{ref:"form_cstInTimeType",attrs:{row:"2",labletext:"货主入库时间",name:"cstInTimeType",span:5,xtype:"select",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{ref:"form_remark",attrs:{row:"4",labletext:"备注",name:"remark",span:24,xtype:"textarea",lableWidth:"70px"}})],1),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{ref:"btn_selectProduct",attrs:{btnName:"选择明细",btnIcon:"el-icon-sold-out",btnClickFunc:t.getStock}}),t._v(" "),a("pm_toolButton",{ref:"btn_remove",attrs:{btnName:"移除",btnIcon:"el-icon-remove",btnClickFunc:t.deleteRows}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.formModel.aftList,config:t.config,bottomHeight:170}},[a("pm_column",{attrs:{prop:"cardNo",label:"卡号",canEdit:!1,width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",canEdit:!1,width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",canEdit:!1,width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",canEdit:!1,width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",canEdit:!1,width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",canEdit:!1,width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",canEdit:!1,width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"库位",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsLayer",label:"层数",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库时间",canEdit:!1,width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",canEdit:!1,width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"costTime",label:"货主入库时间",canEdit:!1,width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{ref:"btn_save",attrs:{btnName:"保存",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_saveAndAudit",attrs:{btnName:"保存并审核",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.saveAndAuditInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_print",attrs:{btnName:"打印",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_settle",attrs:{btnName:"结算",btnIcon:"pm-font pm-icon-ERP_xieyibianhao",btnClickFunc:t.settleInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"关闭",btnIcon:"pm-font pm-icon-ERP_guanbi",btnClickFunc:t.closeWin}})],1)],1)],1),t._v(" "),a("noteTransferPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",{staticStyle:{padding:"10px"}},[a("pm_form_render",{ref:"mainForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"角色",name:"name",span:12,xtype:"text",lableWidth:"80px",maxlength:"20"}}),t._v(" "),a("pm_form_item",{ref:"delete",attrs:{row:"1",labletext:"状态",name:"deleteFlag",span:8,xtype:"select",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"备注原因",name:"remark",span:23,xtype:"textarea",lableWidth:"80px",maxlength:"30"}})],1),t._v(" "),a("div",{class:"toolbar toolbar-bg"},[a("div",{staticClass:"block",staticStyle:{height:"270px",overflow:"auto"}},[a("p",[t._v("权限")]),t._v(" "),a("el-tree",{ref:"tree",attrs:{data:t.permissionTreeData,"show-checkbox":"","node-key":"id","default-expand-all":!0,"default-checked-keys":t.checkIds,props:t.defaultProps}})],1)])],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"确认",btnIcon:"el-icon-success",btnClickFunc:t.confirm_func}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",{staticStyle:{"background-color":"#fff",display:"flex","flex-direction":"column",margin:"2px 5px 0 0"},attrs:{width:"240px"}},[a("p",{staticStyle:{"text-align":"left","padding-left":"24px",margin:"9px 0"}},[a("b",[t._v("品类信息")]),t._v(" "),a("span",[a("el-button",{attrs:{size:"mini",title:"新增品类"},on:{click:t.addClass_func}},[t._v("新增")])],1)]),t._v(" "),a("div",{staticClass:"block",staticStyle:{"overflow-y":"auto","border-right":"1px solid rgb(238, 238, 238)",flex:"1"}},[a("el-tree",{ref:"mainTree",attrs:{data:t.dicClassList,"node-key":"id","expand-on-click-node":!1,"default-expand-all":!0,"check-strictly":!0,"highlight-current":!0,props:t.defaultProps},on:{"current-change":t.treeNodeChange},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.node,o=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[t._v(t._s(n.label)+"\n         "),0!==o.id?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.editClass_func(o)}}},[t._v("\n          编辑\n        ")]):t._e(),t._v(" "),0!==o.id?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.removeClass_func(o)}}},[t._v("\n          删除\n        ")]):t._e()],1)])}}])})],1)]),t._v(" "),a("el-container",[a("el-main",{staticStyle:{padding:"0px"}},[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!1,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addWin}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_add",btnIcon:"el-icon-edit",btnClickFunc:t.deleteInfo}})],1),t._v(" "),a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"name",label:"品名名称",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"id",label:"品名代码",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"mnemonicCode",label:"品名助记码",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsoutType",label:"出库方式",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"classId",label:"品类",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"deleteFlag",label:"状态",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!0,packRowHeight:4,btnOffset:10,packNoSearchSpan:6,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}})],1),t._v(" "),a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteLockGrid-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"lockNo",label:"锁定单号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.editTab(e.row)}}},[t._v(t._s(e.row.lockNo))])}}])}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"锁定状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"110"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单日期",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"mRemark",label:"主档备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名(品种)",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质(钢种)",width:"110"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",width:"160"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"库位",width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsLayer",label:"层数",width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库日期",width:"140"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",{staticClass:"search_partition"},[a("pm_form_render",{ref:"demoForm",attrs:{model:t.formModel,rules:t.rules,formReadOnly:t.formReadOnly}},[a("pm_form_item",{attrs:{row:"1",labletext:"货主单位",name:"cstId",span:6,xtype:"select",lableWidth:"100px",readOnly:t.readOnly(),required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"结算单位",name:"settleCompanyId",span:6,xtype:"select",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"结算清单号",name:"balanceNo",span:6,xtype:"text",lableWidth:"100px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"结算节点",name:"balanceNode",span:6,xtype:"select",lableWidth:"100px",readOnly:t.readOnly()}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"结算方式",name:"balanceType",span:6,xtype:"select",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"付款方式",name:"payType",span:6,xtype:"select",lableWidth:"100px",watchField:"balanceType",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"实结金额",name:"actMoney",span:6,xtype:"text",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"是否已结",name:"IsSettle",span:6,xtype:"check",lableWidth:"100px",watchField:"actMoney"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"建档日期",name:"createDate",span:6,xtype:"date",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"建档人",name:"creatorName",span:6,xtype:"text",lableWidth:"100px",readOnly:!0,required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"结算计重",name:"weightType",span:12,xtype:"radio",radioGroup:t.group,lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"4",labletext:"备注",name:"memo",span:24,xtype:"textarea",lableWidth:"100px"}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"挑选待结算明细",btnIcon:"el-icon-circle-plus",btnClickFunc:t.selectDetail}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"手工新增",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addDetail}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"删除明细",btnIcon:"el-icon-circle-close-outline",btnClickFunc:t.deleteDetail}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config,bottomHeight:167}},[a("pm_column",{attrs:{prop:"costType",label:"费用类型",width:"120",required:"",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"businessNo",label:"业务单据号",width:"150",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"whsDayNum",label:"仓储天数",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"whsFreeDayNum",label:"免仓储天数",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"transferNum",label:"过户次数",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"numFin",label:"件数",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"商品净重",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"商品毛重",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"商品磅重",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"balancePreNum",label:"结算量",width:"150",cellCanEdit:t.cellCanEdit,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"unitprice",label:"结算单价",width:"150",cellCanEdit:t.cellCanEdit,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"regularUnit",label:"计费单位",width:"120",required:"",canEdit:!1,watchField:"costType"}}),t._v(" "),a("pm_column",{attrs:{prop:"settleExpress",label:"计算公式",width:"300",required:"",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"settleAmt",label:"应结金额",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"settleActAmt",label:"实结金额",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"180",cellCanEdit:t.cellCanEdit,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"150",cellCanEdit:t.cellCanEdit,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"150",cellCanEdit:t.cellCanEdit,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150",cellCanEdit:t.cellCanEdit,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceNode",label:"结算节点",width:"120",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"businessType",label:"业务类型",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"单据生成时间",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"oriPackNo",label:"原捆包号",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceNoType",label:"结算单据类型",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"rangeApply",label:"应用范围",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"whsInFirstDate",label:"入库日期",width:"250",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"transferDate",label:"过户日期",width:"250",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"250",cellCanEdit:t.cellCanEdit}})],1),t._v(" "),a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnIcon:"el-icon-circle-close",btnClickFunc:t.deleteInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"打印",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}})],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"结算清单主档",name:"main"}},[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{packRowHeight:8,hasPackNoSearch:!1,fields:t.searchFields},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{ref:"editInvoice",attrs:{btnName:"编辑发票号",btnIcon:"el-icon-edit-outline",btnClickFunc:t.editInvoice}}),t._v(" "),a("pm_toolButton",{ref:"edit",attrs:{btnName:"修改结算单",btnIcon:"el-icon-edit",btnClickFunc:t.edit}}),t._v(" "),a("pm_toolButton",{ref:"remove",attrs:{btnName:"作废结算单",btnIcon:"el-icon-error",btnClickFunc:t.remove}}),t._v(" "),a("pm_toolButton",{ref:"print",attrs:{btnName:"打印",btnIcon:"el-icon-printer",btnClickFunc:t.print}}),t._v(" "),a("pm_toolButton",{ref:"export_btn",attrs:{btnName:"导出",btnIcon:"el-icon-tickets",btnClickFunc:t.export_btn}})],1),t._v(" "),a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"CostBalanceBookList-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config,bottomHeight:210}},[a("pm_column",{attrs:{prop:"balanceNo",label:"结算单号",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceCompanyId",label:"结算单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"amtMoney",label:"应结金额",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"actMoney",label:"实结金额",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"businessNo",label:"业务单据号",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceOtherNo",label:"外部单据号",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceStatus",label:"结算状态",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceType",label:"结算方式",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"payType",label:"付款方式",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"createDate",label:"制单日期",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"invoiceNo",label:"发票号",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"invoiceType",label:"发票类型",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getBalanceMain}})],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"结算清单明细",name:"detail"}},[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search1",attrs:{btnOffset:10,packRowHeight:5,packNoSearchSpan:6,hasPackNoSearch:!0,fields:t.searchFieldsDetail},on:{getAllSearchParams:t.queryData1}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar"),t._v(" "),a("metro_page_box_body",[t.reload2?a("pm_table",{ref:"pmTable1",attrs:{tableKey:"CostBalanceBookList-pmTable1",reload:t.afterSetting2,dataSource:t.dataSource1,totalData:t.totalData1,config:t.config,bottomHeight:210}},[a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsDayNum",label:"仓储天数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsFreeDayNum",label:"免仓储天数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"costType",label:"费用类型",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularUnit",label:"计费单位",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"settleUnitprice",label:"结算单价",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceNum",label:"结算量",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"settleExpress",label:"计算公式",width:"300"}}),t._v(" "),a("pm_column",{attrs:{prop:"settleAmt",label:"预结算金额",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"changeMoney",label:"调整金额",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"settleActAmt",label:"实际结算金额",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"createDate",label:"单据生成时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"businessType",label:"业务类型",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"businessNo",label:"业务单据号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularDetailNo",label:"价格规则明细号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"oriPackNo",label:"原货物号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"balanceNoType",label:"结算单据类型",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"250"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager1",attrs:{totalSize:t.totalSize1,queryData:t.getBalanceDetail}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":""},on:{open:t.getInfo,close:t.getInfo}},[a("pm_tree_item",{attrs:{showField:t.showField,keyField:t.keyField,clickFunc:t.getInfo,menus:t.dicClassList}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{padding:"5px"}},[a("el-main",{staticStyle:{padding:"10px"}},[a("pm_form_render",{ref:"owForm",attrs:{model:t.formModel,rules:t.rules,entity:t.config.entity}},[a("pm_form_item",{attrs:{row:"1",labletext:"客户编号",name:"cstNo",span:8,xtype:"text",lableWidth:"110px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",required:"",labletext:"客户全称",name:"cstFullName",span:8,xtype:"text",lableWidth:"110px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",required:"",labletext:"客户简称",name:"cstShortName",span:8,xtype:"text",lableWidth:"90px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"纳税人识别号",name:"taxpayerIdentificationNumber",span:8,xtype:"text",lableWidth:"110px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"开户行",name:"accountOpenBank",span:8,xtype:"text",lableWidth:"110px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"助记码",name:"mnemonicCode",span:8,xtype:"text",lableWidth:"90px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"业务联系人电话",name:"contactPersonPhone",span:8,xtype:"text",lableWidth:"110px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"业务联系人传真",name:"contactFax",span:8,xtype:"text",lableWidth:"110px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"是否禁用",name:"deleteFlag",span:8,xtype:"select",lableWidth:"90px",readOnly:t.isReadOnly("deleteFlag")}}),t._v(" "),a("pm_form_item",{attrs:{row:"4",required:"",labletext:"结算方式",name:"settleType",span:8,xtype:"select",lableWidth:"110px"}}),t._v(" "),a("pm_form_item",{ref:"finalRepayDate",attrs:{row:"4",watchField:"settleType",labletext:"最后还款日期",name:"finalRepayDate",span:8,xtype:"date",lableWidth:"110px",readOnly:t.isReadOnly("finalRepayDate")}}),t._v(" "),a("pm_form_item",{attrs:{row:"5",labletext:"备注",name:"remark",span:24,xtype:"text",lableWidth:"110px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"6",labletext:"创建人",name:"creatorName",span:8,xtype:"text",lableWidth:"110px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"6",labletext:"创建时间",name:"createTime",span:8,xtype:"text",lableWidth:"110px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"6",labletext:"注册地址",name:"address",span:8,xtype:"text",lableWidth:"90px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"7",labletext:"修改人",name:"modifierName",span:8,xtype:"text",lableWidth:"110px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"7",labletext:"修改时间",name:"modifyTime",span:8,xtype:"text",lableWidth:"110px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"7",labletext:"业务联系人",name:"contactPerson",span:8,xtype:"text",lableWidth:"90px"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-success",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!0,packRowHeight:3,btnOffset:10,packNoSearchSpan:6,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addTab}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-delete",btnClickFunc:t.deleteInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"审核",btnPermission:"btn_check",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.checkInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"打印",btnPermission:"btn_print",btnIcon:"el-icon-printer",btnClickFunc:t.printFunc}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}})],1),t._v(" "),a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteAdjustManage-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"adjustNo",label:"调整单号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"adjustType",label:"调整类型",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstName",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"110"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalAmount",label:"总数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalNetWeight",label:"总净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalGrossWeight",label:"总毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalPoundWeight",label:"总磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}}),t._v(" "),a("noteAdjustPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",{staticClass:"search_partition"},[a("metro_page_box_body",[a("pm_form_render",{ref:"demoForm",attrs:{model:t.formModel,rules:t.rules,formReadOnly:t.formReadOnly}},[a("pm_form_item",{attrs:{row:"1",labletext:"作业单号",name:"businessOtherNo",span:8,xtype:"text",lableWidth:"100px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"货主",name:"cstId",span:8,xtype:"select",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"业务类型",name:"businessType",span:8,xtype:"select",lableWidth:"100px",readOnly:!0,required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"制单人",name:"creatorName",span:8,xtype:"text",lableWidth:"100px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"制单日期",name:"createDate",span:8,xtype:"date",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"计重方式",name:"balanceWeightType",span:8,xtype:"radio",radioGroup:t.group,lableWidth:"100px",required:""}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_tool_bar",[a("pm_toolButton",{ref:"add",attrs:{btnName:"新增明细",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addDetail,btnDisabled:t.changeBtn}}),t._v(" "),a("pm_toolButton",{ref:"delete",attrs:{btnName:"删除明细",btnIcon:"el-icon-remove-outline",btnClickFunc:t.deleteDetail,btnDisabled:t.changeBtn}}),t._v(" "),a("pm_toolButton",{ref:"clear",attrs:{btnName:"清空明细",btnIcon:"el-icon-delete",btnClickFunc:t.clearDetail,btnDisabled:t.changeBtn}})],1),t._v(" "),a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config,bottomHeight:168}},[a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"180",placeholder:"请输入捆包号"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"180",placeholder:"",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"150",watchField:"brandId"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"180",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsDayNum",label:"仓储天数",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsFreeDayNum",label:"免仓储天数",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"costType",label:"费用类型",width:"150",required:"",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"unitprice",label:"单价",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"regularUnit",label:"计费单位",width:"120",placeholder:"",watchField:"costType",canEdit:!1,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"numFin",label:"商品件数",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"商品净重",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"商品毛重",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"商品磅重",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsType",label:"仓库类型",width:"120",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库房",width:"150",parentPropName:"whsRoomId",childPropName:"whsAreaId"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"库位",width:"120",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"120",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"120",placeholder:""}})],1),t._v(" "),a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{ref:"saveInfo",attrs:{btnName:"保存",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.saveInfo,btnDisabled:t.changeBtn}}),t._v(" "),a("pm_toolButton",{ref:"settle",attrs:{btnName:"结算",btnIcon:"el-icon-sold-out",btnClickFunc:t.settle}})],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{padding:"0"}},[a("el-main",{staticStyle:{padding:"0"}},[a("pm_form_render",{ref:"demoForm",staticClass:"search_partition",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"计费规则单编号",name:"regularNo",span:8,xtype:"text",lableWidth:"140px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"货主名称",name:"cstId",span:8,xtype:"select",lableWidth:"140px",required:"",readOnly:t.getOnly()}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"货主方联系人",name:"cstContractor",span:8,xtype:"text",lableWidth:"140px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"货主类型",name:"cstType",span:8,xtype:"select",lableWidth:"140px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"外部协议号",name:"regularOtherNo",span:8,xtype:"text",lableWidth:"140px",watchField:"cstType"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"货主方联系电话",name:"cstPhone",span:8,xtype:"text",lableWidth:"140px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"状态",name:"regularStatus",span:8,xtype:"radio",radioGroup:t.group,lableWidth:"140px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"有效日期",name:"agreementStart",span:4,xtype:"date",lableWidth:"80px",pickerOptions:t.pickerOptions,required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"至",name:"agreementEnd",span:4,xtype:"date",lableWidth:"60px",pickerOptions:t.pickerOptions1}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"仓库所在地址",name:"whsAddress",span:8,xtype:"text",lableWidth:"140px",required:""}})],1),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"添加",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addDetail}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"移除",btnIcon:"el-icon-remove-outline",btnClickFunc:t.deleteRows}})],1),t._v(" "),a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"regularDetailNo",label:"计费规则明细号",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"180",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"regularType",label:"收费项目",width:"180",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"unitprice",label:"单价",width:"150",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"regularUnit",label:"计费单位",width:"120",required:"",watchField:"regularType",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"whsType",label:"仓库类型",width:"150",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"300"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"关闭",btnIcon:"el-icon-error",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",{staticClass:"edit_padding"},[a("pm_form_render",{ref:"demoForm",attrs:{model:t.formModel,rules:t.rules,entity:t.config.entity,formReadOnly:t.formReadOnly}},[a("pm_form_item",{attrs:{row:"1",labletext:"移库单号",name:"moveNo",span:8,xtype:"text",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"仓库",name:"whsShortName",span:8,xtype:"text",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"制单人",name:"creatorName",span:8,xtype:"text",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"移库状态",name:"moveStatus",span:8,xtype:"select",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"收发人",name:"transceiver",span:8,xtype:"select_batch",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"制单时间",name:"createTime",span:8,xtype:"datetime",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"备注",name:"remark",span:24,xtype:"textarea",lableWidth:"70px",rowHeight:2}})],1),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{ref:"select",attrs:{btnName:"挑选明细",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.getStock}}),t._v(" "),a("pm_toolButton",{ref:"remove",attrs:{btnName:"移除",btnIcon:"el-icon-remove-outline",btnClickFunc:t.deleteRows}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config,bottomHeight:170}},[a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"originCalcStackId",type:"stackSelect",label:"原始库区",canEdit:!1,width:"200",parentPropName:"originRoomId",childPropName:"originAreaId"}}),t._v(" "),a("pm_column",{attrs:{prop:"originStackName",label:"原始库位",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"originLayer",label:"原始层",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"targetCalcStackId",type:"stackSelect",label:"目标库区",required:"",width:"200",parentPropName:"targetRoomId",childPropName:"targetAreaId"}}),t._v(" "),a("pm_column",{attrs:{prop:"targetStackName",label:"目标库位",required:"",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"targetLayer",label:"目标层",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"入库时间",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"200",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{ref:"add",attrs:{btnName:"保存",btnIcon:"el-icon-edit-outline",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{ref:"save",attrs:{btnName:"保存并审核",btnIcon:"el-icon-edit-outline",btnClickFunc:t.saveAndAuditInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_print",attrs:{btnName:"打印",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}}),t._v(" "),a("pm_toolButton",{ref:"cost",attrs:{btnName:"结算",btnIcon:"el-icon-tickets",btnClickFunc:t.settleInfo}}),t._v(" "),a("pm_toolButton",{ref:"close",attrs:{btnName:"关闭",btnIcon:"el-icon-error",btnClickFunc:t.closeWin}})],1)],1)],1),t._v(" "),a("noteWhsMovePrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{btnOffset:10,packNoSearchSpan:6,hasPackNoSearch:!0,packRowHeight:6,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"导出",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteWhsMoveGrid-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"moveNo",label:"移库单号",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.editTab(e.row)}}},[t._v(t._s(e.row.moveNo))])}}])}),t._v(" "),a("pm_column",{attrs:{prop:"remarkMain",label:"主单备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"moveStatus",label:"移库状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"80"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"originCalcStackId",type:"stackSelect",parentPropName:"originRoomId",childPropName:"originAreaId",label:"原始库区",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"originStackName",label:"原始库位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"originLayer",label:"原始层",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"targetCalcStackId",type:"stackSelect",parentPropName:"targetRoomId",childPropName:"targetAreaId",label:"目标库区",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"targetStackName",label:"目标库位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"targetLayer",label:"目标层",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"入库时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transceiver",label:"收发人",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"modifyTime",label:"修改时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"modifierName",label:"修改人",width:"150"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!1,entity:t.config.entity,fields:t.searchFields},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addWin}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"cstNo",label:"客户编号",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"cstFullName",label:"客户全称",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"cstShortName",label:"客户简称",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"mnemonicCode",label:"助记码",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"contactPersonPhone",label:"业务联系人电话",width:"150",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"deleteFlag",label:"状态",width:"150",placeholder:""}})],1),t._v(" "),a("pm_pagination",{ref:"search_pagination",attrs:{totalSize:t.totalSize,queryData:t.getData}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x_upload"),t._v(" "),a("x_tree",{ref:"demo1",attrs:{width:"200",height:"200",name:t.name,parentName:"abc",childName:"def"}}),t._v(" "),a("el-button",{on:{click:t.show}}),t._v(" "),a("pm_tree",{attrs:{data:t.data2}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",{staticClass:"edit_padding"},[a("pm_form_render",{ref:"outForm",attrs:{model:t.formModel,rules:t.rules,entity:t.config.entity,formReadOnly:t.formReadOnly}},[a("pm_form_item",{attrs:{row:"1",labletext:"出库单号",name:"whsoutNo",span:6,xtype:"text",lableWidth:"100px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"货主单位",name:"cstId",span:6,xtype:"search_select_input",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"提货单位",name:"deliveryId",span:6,xtype:"search_select_input",lableWidth:"100px",required:"",watchField:"cstId"}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"提货车号",name:"vehicleNumber",span:6,xtype:"text",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"外部单据号",name:"billAttachmentId",span:6,xtype:"text",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"司机姓名",name:"driverName",span:6,xtype:"text",lableWidth:"100px",rowHeight:3}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"司机身份证",name:"driverIdCard",span:6,xtype:"text",lableWidth:"100px",rowHeight:3}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"司机电话",name:"driverPhone",span:6,xtype:"text",lableWidth:"100px",rowHeight:3}}),t._v(" "),a("pm_form_item",{attrs:{row:"5",labletext:"出库单状态",name:"status",span:4,xtype:"select",lableWidth:"100px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"5",labletext:"制单人",name:"creatorName",span:5,xtype:"text",lableWidth:"100px",rowHeight:3,readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"5",labletext:"制单时间",name:"createTime",span:5,xtype:"date",lableWidth:"100px",rowHeight:3,readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"5",labletext:"出库人",name:"modifierName",span:5,xtype:"text",lableWidth:"100px",rowHeight:3,readOnly:!0}}),t._v(" "),a("pm_form_item",{ref:"form_auditTime",attrs:{canEdit:t.auditTimeCanEdit,row:"5",labletext:"出库时间",name:"auditTime",span:5,xtype:"datetime",lableWidth:"100px",rowHeight:3,pickerOptions:t.pickerOptions}}),t._v(" "),a("pm_form_item",{attrs:{row:"6",labletext:"备注",name:"remark",span:24,xtype:"textarea",lableWidth:"100px",rowHeight:2}})],1),t._v(" "),a("pm_upload",{ref:"upload",attrs:{fileList:t.formModel.fileList}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{ref:"select",attrs:{btnName:"挑选明细",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.getStock}}),t._v(" "),a("pm_toolButton",{ref:"remove",attrs:{btnName:"移除",btnIcon:"el-icon-remove-outline",btnClickFunc:t.deleteRows}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config,bottomHeight:170}},[a("pm_column",{attrs:{prop:"cstPackNo",label:"卡号",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"150",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"100",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"100",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"number",label:"数量",width:"140",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"140",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"140",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"140",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"100",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",width:"200",parentPropName:"whsRoomId",childPropName:"whsAreaId",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"stackName",label:"库位",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"floorNum",label:"层数",width:"120",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库日期",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"transceiver",label:"收发人",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"slinger",label:"吊机工",width:"200",cellCanEdit:t.cellCanEdit}}),t._v(" "),a("pm_column",{attrs:{prop:"whsManager",label:"仓管",width:"200",cellCanEdit:t.cellCanEdit}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{ref:"btn_print",attrs:{btnName:"打印",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}}),t._v(" "),a("pm_toolButton",{ref:"out",attrs:{btnName:"出库",btnIcon:"el-icon-goods",btnClickFunc:t.outWhs}}),t._v(" "),a("pm_toolButton",{ref:"cost",attrs:{btnName:"结算",btnIcon:"el-icon-tickets",btnClickFunc:t.settleInfo}}),t._v(" "),a("pm_toolButton",{ref:"save",attrs:{btnName:"保存并审核",btnIcon:"el-icon-edit-outline",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{ref:"close",attrs:{btnName:"关闭",btnIcon:"el-icon-error",btnClickFunc:t.closeWin}})],1)],1)],1),t._v(" "),a("noteWhsOutPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{entity:t.config.entity,btnOffset:10,packNoSearchSpan:6,hasPackNoSearch:!0,packRowHeight:6,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"导出",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteWhsInGrid-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"whsinCode",label:"入库单号",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.editTab(e.row)}}},[t._v(t._s(e.row.whsinCode))])}}])}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"单据状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"billAttachmentId",label:"入库通知单号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"hasFiles",label:"是否有附件",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"remarkMain",label:"主单备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinType",label:"入库方式",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"入库时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"130"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"80"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"入库库区",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"入库库位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsLayer",label:"入库层",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transportCode",label:"车船号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"transceiver",label:"收发人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"auditorName",label:"审核人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"auditTime",label:"审核时间",width:"150"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"edit_padding"},[a("el-main",[a("pm_form_render",{ref:"mainForm",attrs:{model:t.formModel,entity:t.entity,rules:t.rules,change:t.form_change,formReadOnly:t.formReadOnly}},[a("pm_form_item",{attrs:{row:"1",labletext:"锁定单号",name:"lockNo",readOnly:!0,span:6,xtype:"text",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"货主单位",name:"cstId",span:6,xtype:"search_select_input",lableWidth:"80px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"制单人",name:"creatorName",readOnly:!0,span:6,xtype:"text",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"制单时间",name:"createTime",readOnly:!0,span:6,xtype:"datetime",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"审核人",name:"auditorName",readOnly:!0,span:6,xtype:"text",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"审核时间",name:"auditTime",readOnly:!0,span:6,xtype:"datetime",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"状态",name:"status",readOnly:!0,span:6,xtype:"select",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"锁定原因",name:"remark",span:24,xtype:"textarea",lableWidth:"80px"}})],1),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{ref:"btn_getstock",attrs:{btnName:"选择明细",btnIcon:"el-icon-sold-out",btnClickFunc:t.getStock}}),t._v(" "),a("pm_toolButton",{ref:"btn_remove",attrs:{btnName:"移除",btnIcon:"el-icon-remove",btnClickFunc:t.deleteRows}})],1),t._v(" "),a("pm_table",{ref:"pmTable",attrs:{dataSource:t.formModel.detailList,config:t.config,bottomHeight:170}},[a("pm_column",{attrs:{prop:"cardNo",label:"卡号",canEdit:!1,width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",canEdit:!1,width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名(品种)",canEdit:!1,width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质(钢种)",canEdit:!1,width:"100",watchField:"brandId"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",canEdit:!1,width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",canEdit:!1,width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"150",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"150",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"150",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"150",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",canEdit:!1,width:"160"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"库位",canEdit:!1,width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsLayer",label:"层数",canEdit:!1,width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",canEdit:!1,width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",canEdit:!1,width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",canEdit:!1,width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库日期",canEdit:!1,width:"140"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{ref:"btn_save",attrs:{btnName:"保存",btnIcon:"el-icon-success",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_check",attrs:{btnName:"保存&审核",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.saveAndAuditInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_print",attrs:{btnName:"打印",btnIcon:"el-icon-printer",btnClickFunc:t.printFunc}}),t._v(" "),a("pm_toolButton",{ref:"btn_close",attrs:{btnName:"关闭",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1),t._v(" "),a("noteLockPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",{staticStyle:{padding:"10px"}},[a("pm_form_render",{ref:"mainForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"上级部门",name:"parent",span:12,xtype:"tree_select",lableWidth:"80px",dataTree:t.deptTree,canClickParent:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"部门名称",name:"name",span:12,xtype:"text",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"部门简称",name:"shortName",span:12,xtype:"text",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"4",labletext:"备注",name:"remark",span:23,xtype:"textarea",lableWidth:"80px"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"确认",btnIcon:"el-icon-success",btnClickFunc:t.confirm_func}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{padding:"5px"}},[a("el-main",{staticStyle:{padding:"10px"}},[a("pm_form_render",{ref:"mainForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"品类名称",name:"name",span:24,xtype:"text",lableWidth:"100px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"上级品类代码",name:"parentId",span:24,xtype:"text",lableWidth:"100px",readOnly:!0,canClickParent:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"上级品类名称",name:"parentName",span:24,xtype:"text",lableWidth:"100px",readOnly:!0}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"确认",btnIcon:"el-icon-success",btnClickFunc:t.confirm_func}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!0,packRowHeight:4,btnOffset:10,packNoSearchSpan:6,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-sold-out",btnClickFunc:t.exportFunc}})],1),t._v(" "),a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteWhsStockGrid-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"costDays",label:"仓储天数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名(品种)",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质(钢种)",width:"110"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"realOutWeight",label:"实发重量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"number",label:"数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",width:"160"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"库位",width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsLayerId",label:"层数",width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"状态",width:"80"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库日期",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"costTime",label:"货主入库时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferTimes",label:"过户次数",width:"100"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{btnOffset:4,packNoSearchSpan:5,hasPackNoSearch:!0,packRowHeight:4,fields:t.searchFields},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config,bottomHeight:80}},[a("pm_column",{attrs:{prop:"businessNo",label:"业务单据号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsDayNum",label:"仓储天数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsFreeDayNum",label:"免仓储天数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferNum",label:"过户次数",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"balancePreNum",label:"待结算量",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"costType",label:"费用类型",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitprice",label:"结算单价",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularUnit",label:"计费单位",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"numFin",label:"商品数量",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"businessType",label:"业务类型",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"createDate",label:"计费单生成日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularDetailNo",label:"价格规则明细号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"oriPackNo",label:"原捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsInFirstDate",label:"入库日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferDate",label:"过户日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200"}})],1),t._v(" "),a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.saveInfo}})],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_form_render",{ref:"demoForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"发票号",name:"invoiceNo",span:22,xtype:"text",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"发票类型",name:"invoiceType",span:22,xtype:"select",lableWidth:"100px"}})],1),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-circle-check",btnClickFunc:t.saveInvoice}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"关闭",btnIcon:"el-icon-circle-close",btnClickFunc:t.closeWin}})],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",{staticStyle:{padding:"10px"}},[a("div",{staticStyle:{height:"350px"}},[a("pm_form_render",{ref:"mainForm",attrs:{model:t.formModel,rules:t.rules,entity:t.$metaData.role}},[a("pm_form_item",{attrs:{row:"1",labletext:"部门",name:"departmentId",span:16,xtype:"tree_select",lableWidth:"80px",dataTree:t.deptTree,canClickParent:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"用户名",name:"name",span:16,xtype:"text",lableWidth:"80px",placeholder:"用户名长度至少2位,由中文、数字、字母组成",maxlength:"20"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"登录名",name:"loginName",span:16,xtype:"text",lableWidth:"80px",placeholder:"登录名长度至少2位,由数字、字母组成",maxlength:"20"}}),t._v(" "),a("pm_form_item",{ref:"password",attrs:{row:"4",labletext:"登录密码",name:"loginPassword",span:16,xtype:"password",lableWidth:"80px",placeholder:"登录密码长度至少6位,由数字、字母组成",maxlength:"20"}}),t._v(" "),a("pm_form_item",{attrs:{row:"5",labletext:"角色",name:"roleIds",span:16,xtype:"select_batchMemo",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"6",labletext:"备注",name:"remark",span:23,xtype:"textarea",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{ref:"delete",attrs:{row:"7",labletext:"状态",name:"deleteFlag",span:16,xtype:"select",lableWidth:"80px"}})],1)],1)]),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"确认",btnIcon:"el-icon-success",btnClickFunc:t.confirm_func}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"portlet-body fuelux"},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{padding:"5px"}},[a("el-main",{staticStyle:{padding:"10px"}},[a("pm_form_render",{ref:"dicForm",attrs:{model:t.formModel,rules:t.rules,entity:t.config.entity}},[a("pm_form_item",{attrs:{row:"1",labletext:"字典分类",name:"className",span:12,xtype:"text",lableWidth:"90px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"排序",name:"order",span:12,xtype:"text",lableWidth:"90px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"字典项名称",name:"itemName",span:12,xtype:"text",lableWidth:"90px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"字典值",name:"itemValue",span:12,xtype:"text",lableWidth:"90px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"字典项编码",name:"itemCode",span:12,xtype:"text",lableWidth:"90px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"备注",name:"remark",span:12,xtype:"text",lableWidth:"90px"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-success",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",{staticClass:"search_partition"},[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{entity:t.config.entity,btnOffset:10,packNoSearchSpan:6,hasPackNoSearch:!0,packRowHeight:3,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addTab}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-edit",btnClickFunc:t.deleteInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"审核",btnPermission:"btn_check",btnIcon:"el-icon-document",btnClickFunc:t.auditInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"打印",btnPermission:"btn_print",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"结算",btnPermission:"btn_settle",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.settleInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-sold-out",btnClickFunc:t.exportFunc}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"调整",btnPermission:"btn_adjust",btnIcon:"el-icon-sold-out",btnClickFunc:t.adjustTab}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteTransferManage-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"transferNo",label:"过户单号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"oldCstId",label:"原货主",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"newCstId",label:"新货主",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalAmount",label:"总数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferStatus",label:"过户单状态",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalNetWeight",label:"总净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalGrossWeight",label:"总毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalPoundWeight",label:"总磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getTransferInfoByPage}})],1)],1),t._v(" "),a("noteTransferPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{staticStyle:{float:"right"},attrs:{inline:!0,model:t.filters}},[a("el-form-item",t._l(t.buttons,function(e){return a("el-button",{directives:[{name:"has",rawName:"v-has",value:e.permission,expression:"btn.permission"}],key:e.name,attrs:{type:"primary",icon:e.icon},on:{click:e.click_func}},[t._v(" "+t._s(e.name))])}),1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-fluid"},[a("div",{staticClass:"span12"},[a("div",{staticClass:"portlet box"},[t._t("default")],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{entity:t.config.entity,btnOffset:10,packNoSearchSpan:6,hasPackNoSearch:!0,packRowHeight:3,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addTab}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-delete",btnClickFunc:t.deleteInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"出库",btnPermission:"btn_check",btnIcon:"el-icon-goods",btnClickFunc:t.auditInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"打印",btnPermission:"btn_print",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"结算",btnPermission:"btn_settle",btnIcon:"el-icon-sold-out",btnClickFunc:t.settleInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"调整",btnPermission:"btn_adjust",btnIcon:"el-icon-edit-outline",btnClickFunc:t.adjustTab}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteWhsOutManage-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"whsoutNo",label:"出库单号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstName",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"deliveryName",label:"提货单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"vehicleNumber",label:"提货车牌号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"billAttachmentId",label:"外部单据号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"出库单状态",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"allNumber",label:"总数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalNetWeight",label:"总净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalGrossWeight",label:"总毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalPoundWeight",label:"总磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1),t._v(" "),a("noteWhsOutPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!0,packRowHeight:6,btnOffset:10,packNoSearchSpan:6,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}})],1),t._v(" "),a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteAdjustGrid-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"adjustNo",label:"调整单号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.editWin(e.row)}}},[t._v(t._s(e.row.adjustNo))])}}])}),t._v(" "),a("pm_column",{attrs:{prop:"adjustType",label:"调整类型",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"110"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"mRemark",label:"主档备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名(名称)",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质(钢种)",width:"110"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",width:"160"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"库位",width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsLayer",label:"层数",width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库日期",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"costTime",label:"货主入库时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferTimes",label:"过户次数",width:"100"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!1,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addWin}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-edit",btnClickFunc:t.btn_func}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"name",label:"材质名称",width:"300"}}),t._v(" "),a("pm_column",{attrs:{prop:"mnemonicCode",label:"助记码",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注"}})],1),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",{staticStyle:{padding:"0px",display:"flex","flex-direction":"column",background:"#fff",margin:"2px 5px 0 0"},attrs:{width:"260px"}},[a("p",{staticStyle:{"text-align":"left","padding-left":"24px"}},[a("b",[t._v("部门信息")])]),t._v(" "),a("div",{staticClass:"block",staticStyle:{"overflow-y":"auto",flex:"1","border-right":"1px solid #eee"}},[a("el-tree",{ref:"deptTree",attrs:{data:t.departmentTreeData,"show-checkbox":"","node-key":"id","expand-on-click-node":!1,"default-expand-all":!0,"check-strictly":!0,props:t.defaultProps},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.node,o=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[t._v(t._s(n.label)+"\r\n           "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.editDept_func(o)}}},[t._v("\r\n            编辑\r\n          ")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.removeDept_func(o)}}},[t._v("\r\n            删除\r\n          ")])],1)])}}])})],1)]),t._v(" "),a("el-container",[a("el-main",{staticStyle:{padding:"0"}},[a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!1,packRowHeight:8,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增部门",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addDept_func}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"新增人员",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addUser_func}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"重置密码",btnIcon:"el-icon-refresh",btnClickFunc:t.resetPassWord_func}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"name",label:"用户名"}}),t._v(" "),a("pm_column",{attrs:{prop:"loginName",label:"登录账号"}}),t._v(" "),a("pm_column",{attrs:{prop:"departmentId",label:"部门"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注"}}),t._v(" "),a("pm_column",{attrs:{prop:"deleteFlag",label:"状态",width:"200"}})],1),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{entity:t.$metaData.wmsMove,btnOffset:10,packNoSearchSpan:6,hasPackNoSearch:!0,packRowHeight:3,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addTab}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-delete",btnClickFunc:t.deleteInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"审核",btnPermission:"btn_check",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.auditInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"打印",btnPermission:"btn_print",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"结算",btnPermission:"btn_settle",btnIcon:"el-icon-sold-out",btnClickFunc:t.settleInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"调整",btnPermission:"btn_adjust",btnIcon:"el-icon-edit-outline",btnClickFunc:t.adjustTab}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteWhsMoveManage-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"moveNo",label:"移库单号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"moveStatus",label:"移库状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsShortName",label:"仓库简称",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalAmout",label:"总数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalNetWeight",label:"总净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalGrossWeight",label:"总毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalPoundWeight",label:"总磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"transceiver",label:"收发人",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"modifyTime",label:"修改时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"modifierName",label:"修改人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1),t._v(" "),a("noteWhsMovePrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{padding:"5px"}},[a("el-main",{staticStyle:{padding:"10px"}},[a("pm_form_render",{ref:"paForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"产地代码",name:"placeId",span:24,xtype:"text",placeholder:"系统自动生成CD+8位流水号",readOnly:!0,lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"产地名称",name:"placeShortName",span:24,xtype:"text",lableWidth:"80px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"助记码",name:"mnemonicCode",span:24,xtype:"text",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"4",labletext:"备注",name:"remark",span:24,xtype:"textarea",lableWidth:"80px"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-success",btnClickFunc:t.btn_save}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"packNo",label:"捆包号",cellCanEdit:t.cellCanEdit,width:"200",placeholder:"请输入捆包号"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主单位",width:"200",placeholder:"请输入货主内容"}}),t._v(" "),a("pm_column",{attrs:{prop:"skuCode",label:"sku",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"状态",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"入库时间",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"number",label:"数量",min:0,step:1,width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",min:0,step:.001,width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"oper",label:"操作",width:"200",placeholder:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("el-button",{on:{click:function(a){return t.getTableInfo(e.row)}}},[t._v("触发事件")])}}])})],1),t._v(" "),a("pm_pagination",{attrs:{totalSize:t.totalSize,queryData:t.getStocks}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-contextmenu",{ref:"contextmenu",attrs:{autoPlacement:!0}},[t._l(t.items,function(e){return a("v-contextmenu-item",{key:e,attrs:{autoHide:!1}},[a("el-checkbox",{attrs:{label:e.componentOptions.propsData.label},model:{value:t.checkList[e.componentOptions.propsData.prop],callback:function(a){t.$set(t.checkList,e.componentOptions.propsData.prop,a)},expression:"checkList[item.componentOptions.propsData.prop]"}})],1)}),t._v(" "),a("v-contextmenu-item",{staticStyle:{"text-align":"center"},attrs:{autoHide:!1},on:{click:t.confirmContext}},[t._v("\n        确定\n    ")])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{float:"left","padding-right":"10px"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.url,"http-request":t.request,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-change":t.change,"on-success":t.success,"before-upload":t.handleBefore,"on-error":t.error,"before-remove":t.beforeRemove,multiple:"","list-type":"text",limit:5,"on-exceed":t.handleExceed,"file-list":t.resultList,"show-file-list":t.IsShow,"auto-upload":t.autoUpload,disabled:t.realDisabled}},[a("el-button",{staticClass:"is-round",attrs:{icon:t.btnIcon,size:"small",type:"primary",disabled:t.realDisabled}},[t._v(t._s(t.labelName))])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("html",{attrs:{id:t.key}},[t._m(0),t._v(" "),a("body",[a("div",[a("div",{staticClass:"cont",attrs:{id:"printDiv"}},[a("div",{staticClass:"title"},[t._v("入库单")]),t._v(" "),a("div",{staticClass:"contractInfor clearfix"},[a("ul",{staticClass:"fl"},[a("li",[a("label",[t._v("入库单号：")]),a("span",[t._v(t._s(t.mainInfo.whsinCode))])]),t._v(" "),a("li",[a("label",[t._v("仓库：")]),a("span",[t._v(t._s(t.mainInfo.whsInfo.name))])]),t._v(" "),a("li",[a("label",[t._v("入库时间：")]),a("span",[t._v(t._s(t.mainInfo.createTime))])]),t._v(" "),a("li",[a("label",[t._v("入库通知单号：")]),a("span",[t._v(t._s(t.mainInfo.billAttachmentId))])])]),t._v(" "),a("ul",{staticClass:"fr"},[a("li",[a("label",[t._v("货主单位：")]),a("span",[t._v(t._s(t.mainInfo.cstId))])]),t._v(" "),a("li",[a("label",[t._v("入库状态：")]),a("span",[t._v(t._s(t.mainInfo.status))])]),t._v(" "),a("li",[a("label",[t._v("制单人：")]),a("span",[t._v(t._s(t.mainInfo.creatorName))])]),t._v(" "),a("li",[a("label",[t._v("入库类型：")]),a("span",[t._v(t._s(t.mainInfo.whsinStyle))])])])]),t._v(" "),a("div",{staticClass:"content",attrs:{deep:"1"}},[a("div",{staticClass:"text"},[a("table",{staticClass:"contentTable",staticStyle:{"margin-top":"10px"}},[t._m(1),t._v(" "),a("tbody",t._l(t.detailInfo,function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.cardNo))]),t._v(" "),a("td",[t._v(t._s(e.packNo))]),t._v(" "),a("td",[t._v(t._s(e.brandId))]),t._v(" "),a("td",[t._v(t._s(e.textureId))]),t._v(" "),a("td",[t._v(t._s(e.spec))]),t._v(" "),a("td",[t._v(t._s(e.producingId))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[t._v(t._s(e.netWeight))]),t._v(" "),a("td",[t._v(t._s(e.stack))]),t._v(" "),a("td",[t._v(t._s(e.transportCode))]),t._v(" "),a("td",[t._v(t._s(e.remark))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("合计")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalAmout))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalNetWeight))]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")])])])])]),t._v(" "),a("div",{staticClass:"bot"},[a("table",[a("tbody",[a("tr",[a("td",[t._v("说明："+t._s(t.mainInfo.remark))]),a("td",{attrs:{colspan:"3"}})]),t._v(" "),a("tr",[a("td",{attrs:{width:"70"}},[t._v("仓库单位：")]),a("td",[t._v(t._s(t.mainInfo.whsInfo.name))]),t._v(" "),a("td",{attrs:{width:"70"}},[t._v("联系电话：")]),a("td",{attrs:{width:"150"}},[t._v(t._s(t.mainInfo.whsInfo.phone))])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("head",[a("meta",{attrs:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}),t._v(" "),a("title",[t._v("入库单")]),t._v(" "),a("meta",{attrs:{"http-equiv":"X-UA-Compatible",content:"IE=Edge,chrome=1"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"35px"}},[t._v("序号")]),t._v(" "),a("th",[t._v("卡号")]),t._v(" "),a("th",[t._v("捆包号")]),t._v(" "),a("th",[t._v("品种")]),t._v(" "),a("th",[t._v("材质(钢种)")]),t._v(" "),a("th",{staticStyle:{width:"50px"}},[t._v("规格")]),t._v(" "),a("th",[t._v("产地")]),t._v(" "),a("th",[t._v("数量")]),t._v(" "),a("th",[t._v("净重")]),t._v(" "),a("th",[t._v("库位")]),t._v(" "),a("th",[t._v("车船号")]),t._v(" "),a("th",[t._v("备注")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{padding:"5px"}},[a("el-main",{staticStyle:{padding:"10px"}},[a("div",{staticStyle:{height:"255px"}},[a("pm_form_render",{ref:"mainForm",attrs:{model:t.formModel,entity:t.$metaData.baseBrand,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"品名名称",name:"name",span:12,xtype:"text",lableWidth:"80px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"助记码",name:"mnemonicCode",span:12,xtype:"text",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"出库方式",name:"whsoutType",span:12,xtype:"select",lableWidth:"80px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"备注",name:"remark",span:12,xtype:"text",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"sku属性",name:"skuProperty",span:24,disabledList:["brandId","textureId","spec","producingId"],xtype:"checkbox_group",lableWidth:"80px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"4",labletext:"材质",name:"brandTextureList",span:24,xtype:"select_batch",lableWidth:"80px",required:""}})],1)],1)]),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-success",btnClickFunc:t.btn_save}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{padding:"5px"}},[a("el-main",{staticStyle:{padding:"10px"}},[a("pm_form_render",{ref:"lpForm",attrs:{model:t.formModel,rules:t.rules,entity:t.config.entity}},[a("pm_form_item",{ref:"form_level",attrs:{row:"1",labletext:"级别",name:"level",span:12,xtype:"select",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"代码",required:"",name:"code",span:12,xtype:"text",lableWidth:"90px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"名称",required:"",name:"name",span:12,xtype:"text",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{ref:"form_whs",attrs:{row:"2",labletext:"所选库房",name:"whsRoomId",span:12,xtype:"select",lableWidth:"90px"}}),t._v(" "),a("pm_form_item",{ref:"form_type",attrs:{row:"3",labletext:"类型",name:"type",span:12,xtype:"select",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"备注",name:"remark",span:12,xtype:"text",lableWidth:"90px"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-success",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{packRowHeight:5,entity:t.config.entity,fields:t.searchFields},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addWin}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-edit",btnClickFunc:t.deleteInfo}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"code",label:"代码",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"name",label:"名称",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"level",label:"级别",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"type",label:"类型",placeholder:""}})],1),t._v(" "),a("pm_pagination",{ref:"search_pagination",attrs:{totalSize:t.totalSize,queryData:t.getData}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{padding:"5px"}},[a("el-main",{staticStyle:{padding:"10px"}},[a("pm_form_render",{ref:"demoForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"材质名称",name:"name",span:24,xtype:"text",maxlength:"20",lableWidth:"80px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"助记码",name:"mnemonicCode",span:24,xtype:"text",maxlength:"20",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"备注",name:"remark",span:24,xtype:"textarea",lableWidth:"80px",maxlength:"100"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-success",btnClickFunc:t.btn_save}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{entity:t.config.entity,btnOffset:10,packNoSearchSpan:6,hasPackNoSearch:!0,packRowHeight:3,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{ref:"addBtn",attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addTab}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-delete",btnClickFunc:t.deleteInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"审核",btnPermission:"btn_check",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.auditInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"打印",btnPermission:"btn_print",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"结算",btnPermission:"btn_settle",btnIcon:"el-icon-sold-out",btnClickFunc:t.settleInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"调整",btnPermission:"btn_adjust",btnIcon:"el-icon-edit-outline",btnClickFunc:t.adjustTab}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteWhsInManage-pmTable",reload:t.afterSetting,entity:t.config.entity,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"whsinCode",label:"入库单号",width:"130"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstName",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinType",label:"入库方式",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"auditorName",label:"审核人",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"billAttachmentId",label:"入库通知单号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"单据状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalAmount",label:"总数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalNetWeight",label:"总净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalGrossWeight",label:"总毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalPoundWeight",label:"总磅重",width:"100"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1),t._v(" "),a("noteWhsInPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_form_render",{ref:"pwForm",attrs:{model:t.formModel,rules:t.rules,entity:t.config.entity}},[a("pm_form_item",{attrs:{row:"1",labletext:"品名",name:"brandId",span:8,xtype:"search_select_input",lableWidth:"70px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"重量",name:"weight",span:8,xtype:"number",max:"9999",lableWidth:"70px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"规格",name:"spec",span:8,xtype:"text",lableWidth:"70px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"理算方式",name:"adjustmentType",span:8,xtype:"select",lableWidth:"98px",required:""}}),t._v(" "),a("pm_form_item",{ref:"form_amount",attrs:{row:"2",labletext:"单包支数",name:"amount",span:8,xtype:"number",lableWidth:"98px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"产地",name:"producingId",span:8,xtype:"search_select_input",lableWidth:"70px"}})],1),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.btn_save}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"取消",btnIcon:"el-icon-edit",btnClickFunc:t.closeWin}})],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-content"},[a("div",{staticClass:"container-fluid"},[t._t("default",[t._v("空页面...请追加页面内容")])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("html",{attrs:{id:t.key}},[t._m(0),t._v(" "),a("body",[a("div",[a("div",{staticClass:"cont",attrs:{id:"printDiv"}},[a("div",{staticClass:"title"},[t._v("调整单")]),t._v(" "),a("div",{staticClass:"contractInfor clearfix"},[a("ul",{staticClass:"fl"},[a("li",[a("label",[t._v("调整单号：")]),a("span",[t._v(t._s(t.mainInfo.adjustNo))])]),t._v(" "),a("li",[a("label",[t._v("仓库：")]),a("span",[t._v(t._s(t.whsInfo.name))])]),t._v(" "),a("li",[a("label",[t._v("调整时间：")]),a("span",[t._v(t._s(t.mainInfo.auditTime))])])]),t._v(" "),a("ul",{staticClass:"fr"},[a("li",[a("label",[t._v("调整状态：")]),a("span",[t._v(t._s(t.mainInfo.status))])]),t._v(" "),a("li",[a("label",[t._v("制单人：")]),a("span",[t._v(t._s(t.mainInfo.creatorName))])])])]),t._v(" "),a("div",{staticClass:"content",attrs:{deep:"1"}},[a("div",{staticClass:"text"},[a("table",{staticClass:"contentTable",staticStyle:{"margin-top":"10px"}},[t._m(1),t._v(" "),a("tbody",t._l(t.detailInfo,function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.cardNo))]),t._v(" "),a("td",[t._v(t._s(e.packNo))]),t._v(" "),a("td",[t._v(t._s(e.brandId))]),t._v(" "),a("td",[t._v(t._s(e.textureId))]),t._v(" "),a("td",[t._v(t._s(e.spec))]),t._v(" "),a("td",[t._v(t._s(e.producingId))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[t._v(t._s(e.netWeight))]),t._v(" "),a("td",[t._v(t._s(e.grossWeight))]),t._v(" "),a("td",[t._v(t._s(e.poundWeight))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("合计")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalAmount))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalNetWeight))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalGrossWeight))]),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalPoundWeight))])])])])])]),t._v(" "),a("div",{staticClass:"bot"},[a("table",[a("tbody",[a("tr",[a("td",[t._v("说明：")]),a("td",{attrs:{colspan:"5"}},[t._v(t._s(t.mainInfo.remark))])]),t._v(" "),a("tr",[a("td",{attrs:{width:"70"}},[t._v("仓库单位：")]),a("td",[t._v(t._s(t.whsInfo.name))]),t._v(" "),a("td",{attrs:{width:"70"}},[t._v("联系电话：")]),a("td",{attrs:{width:"150"}},[t._v(t._s(t.whsInfo.phone))])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("head",[a("meta",{attrs:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}),t._v(" "),a("title",[t._v("调整单打印")]),t._v(" "),a("meta",{attrs:{"http-equiv":"X-UA-Compatible",content:"IE=Edge,chrome=1"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"35px"}},[t._v("序号")]),t._v(" "),a("th",[t._v("卡号")]),t._v(" "),a("th",[t._v("捆包号")]),t._v(" "),a("th",[t._v("品种")]),t._v(" "),a("th",[t._v("材质(钢种)")]),t._v(" "),a("th",{staticStyle:{width:"50px"}},[t._v("规格")]),t._v(" "),a("th",[t._v("产地")]),t._v(" "),a("th",[t._v("数量")]),t._v(" "),a("th",[t._v("净重")]),t._v(" "),a("th",[t._v("毛重")]),t._v(" "),a("th",[t._v("磅重")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.menus,function(e){return[t.hasChild(e)?a("el-submenu",{key:e[t.keyField],attrs:{index:JSON.stringify(e)},on:{click:function(a){return t.clickFunc(e)}}},[a("template",{slot:"title"},[a("i",{class:e.iconCls}),t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),a("pm_tree_item",{attrs:{showField:t.showField,keyField:t.keyField,clickFunc:t.clickFunc,menus:e.children}})],2):t._e(),t._v(" "),t.hasChild(e)?t._e():a("el-menu-item",{key:e[t.keyField],attrs:{index:e[t.keyField]},on:{click:function(a){return t.clickFunc(e)}}},[t._v(t._s(e[t.showField]))])]})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-popover",{ref:"popover",attrs:{placement:"bottom-start",trigger:"click"},on:{show:t.onShowPopover,hide:t.onHidePopover}},[a("el-table",t._b({staticStyle:{width:"400px",height:"200px",overflow:"auto"},attrs:{data:t.formatData,"row-style":t.showRow,"highlight-current-row":"","tooltip-effect":"dark"},on:{"row-dblclick":t.getValue}},"el-table",t.$attrs,!1),[0===t.columns.length?a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row._level,function(t){return a("span",{key:t,staticClass:"ms-tree-space"})}),t._v(" "),t.iconShow(0,e.row)?a("span",{staticClass:"tree-ctrl",on:{click:function(a){return t.toggleExpanded(e.$index)}}},[e.row._expanded?a("i",{staticClass:"el-icon-minus"}):a("i",{staticClass:"el-icon-plus"})]):t._e(),t._v("\n        "+t._s(e.$index)+"\n      ")]}}])}):t._l(t.columns,function(e,n){return a("el-table-column",{key:e.value,attrs:{label:e.text,width:e.width},scopedSlots:t._u([{key:"default",fn:function(o){return[t._l(o.row._level,function(e){return 0===n?a("span",{key:e,staticClass:"ms-tree-space"}):t._e()}),t._v(" "),t.iconShow(n,o.row)?a("span",{staticClass:"tree-ctrl",on:{click:function(e){return t.toggleExpanded(o.$index)}}},[o.row._expanded?a("i",{staticClass:"el-icon-minus"}):a("i",{staticClass:"el-icon-plus"})]):t._e(),t._v("\n        "+t._s(o.row[e.value])+"\n      ")]}}])})}),t._v(" "),t._t("default")],2),t._v(" "),a("el-input",{ref:"input",class:{rotate:t.showStatus},style:"width: 200px",attrs:{slot:"reference",clearable:"","suffix-icon":"el-icon-arrow-down",placeholder:t.placeholder},slot:"reference",model:{value:t.labelModel,callback:function(e){t.labelModel=e},expression:"labelModel"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{btnOffset:13,packRowHeight:5,fields:t.searchFields},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addTab}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"复制",btnIcon:"el-icon-document",btnClickFunc:t.copyInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnIcon:"el-icon-circle-close-outline",btnClickFunc:t.deleteInfo}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"regularNo",label:"计费规则编号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主名称",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"agreementStart",label:"计费有效期开始日期",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"agreementEnd",label:"计费有效期结束日期",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstContractor",label:"货主方联系人",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstPhone",label:"货主方联系电话",width:"180"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularStatus",label:"状态",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"regularVersion",label:"计费版本号",width:"120"}})],1),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{entity:t.entity,btnOffset:10,packNoSearchSpan:6,hasPackNoSearch:!0,packRowHeight:4,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteTransferGrid-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"transferNo",label:"过户单号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.editTab(e.row)}}},[t._v(t._s(e.row.transferNo))])}}])}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferStatus",label:"过户单状态",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"oldCstId",label:"原货主",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"newCstId",label:"新货主",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"mainRemark",label:"主单备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计量方式",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库位号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"costTime",label:"货主入库时间",width:"150"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getTransferInfo}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-fluid"},[a("div",{staticClass:"span12"},[a("ul",{staticClass:"breadcrumb"},[t._m(0),t._v(" "),t._l(t.menuPathArray,function(e,n){return a("li",{key:e.id},[a("i",{class:e.icon}),t._v(" "),a("a",{attrs:{href:e.children?"javascript:;":"#"+e.url}},[t._v(t._s(e.name))]),t._v(" "),n!=t.menuPathArray.length-1?a("i",{staticClass:"icon-angle-right"}):t._e()])})],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("i",{staticClass:"icon-home"}),t._v(" "),a("a",{attrs:{href:"#/"}},[t._v("主页")]),t._v(" "),a("i",{staticClass:"icon-angle-right"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!1,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addWin}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_add",btnIcon:"el-icon-edit",btnClickFunc:t.btn_func}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"placeId",label:"产地代码",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"placeShortName",label:"产地名称",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"mnemonicCode",label:"助记码",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注"}})],1),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"edit_padding"},[a("el-main",[a("pm_form_render",{ref:"mainForm",attrs:{model:t.formModel,entity:t.$metaData.wmsNoteAdjust,formReadOnly:t.formReadOnly,rules:t.rules,change:t.form_change}},[a("pm_form_item",{attrs:{row:"1",labletext:"调整单号",name:"adjustNo",span:6,xtype:"text",lableWidth:"80px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"货主单位",name:"cstId",span:6,xtype:"search_select_input",lableWidth:"80px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"制单人",name:"creatorName",span:6,xtype:"text",lableWidth:"80px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"制单时间",name:"createTime",span:6,xtype:"datetime",lableWidth:"80px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"审核人",name:"auditorName",span:6,xtype:"text",lableWidth:"80px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"审核时间",name:"auditTime",span:6,xtype:"datetime",lableWidth:"80px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"状态",name:"status",span:6,xtype:"select",lableWidth:"80px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"调整类型",name:"adjustType",span:6,xtype:"select",lableWidth:"80px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"调整原因",name:"remark",span:24,xtype:"textarea",lableWidth:"80px"}})],1),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{ref:"btn_getstock",attrs:{btnName:"选择明细",btnIcon:"el-icon-sold-out",btnClickFunc:t.getStock}}),t._v(" "),a("pm_toolButton",{ref:"btn_remove",attrs:{btnName:"移除",btnIcon:"el-icon-remove",btnClickFunc:t.deleteRows}})],1),t._v(" "),a("pm_table",{ref:"pmTable",attrs:{dataSource:t.formModel.showDbList,config:t.config,bottomHeight:170}},[a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150",min:1,max:50,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"cstId",label:"货主",cellCanEdit:t.cellCanEdit,width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名(品种)",width:"150",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质(钢种)",width:"100",watchField:"brandId",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"120",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"100",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"100",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"100",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",width:"160",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"库位",width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsLayer",label:"层级",width:"70"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",width:"160"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库日期",width:"160"}}),t._v(" "),a("pm_column",{attrs:{prop:"costTime",label:"货主入库时间",width:"160"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferTimes",label:"过户次数",width:"100"}})],1)],1),t._v(" "),a("el-footer",{staticStyle:{padding:"0px"}},[a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{ref:"btn_save",attrs:{btnName:"保存",btnIcon:"el-icon-success",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_check",attrs:{btnName:"保存&审核",btnIcon:"el-icon-circle-check-outline",btnClickFunc:t.saveAndAuditInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_print",attrs:{btnName:"打印",btnIcon:"el-icon-printer",btnClickFunc:t.printFunc}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"关闭",btnIcon:"el-icon-close",btnClickFunc:t.closeWin}})],1),t._v(" "),a("noteAdjustPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_form_render",{ref:"demoForm",attrs:{model:t.formModel,rules:t.rules}},[a("pm_form_item",{attrs:{row:"1",labletext:"收费项目",name:"costType",span:12,xtype:"select",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"计费单位",name:"regularUnit",span:12,xtype:"select",lableWidth:"100px",watchField:"costType"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"应用范围",name:"rangeApply",span:12,xtype:"select",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"是否统一单价",name:"isUnifyUnitPrice",span:12,xtype:"radio",radioGroup:t.group,lableWidth:"100px",watchField:"rangeApply"}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"统一单价",name:"unifyUnitPrice",span:12,xtype:"text",lableWidth:"100px",watchField:"isUnifyUnitPrice"}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_tool_bar",[a("pm_toolButton",{ref:"setUnitPrice",attrs:{btnName:"单价赋值",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.setUnitprice}})],1),t._v(" "),a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"300",placeholder:"",canEdit:!1}}),t._v(" "),a("pm_column",{attrs:{prop:"unitprice",label:"单价",width:"300",placeholder:""}})],1),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"保存",btnIcon:"el-icon-circle-check",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"关闭",btnIcon:"el-icon-circle-close",btnClickFunc:t.closeWin}})],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{btnOffset:10,packNoSearchSpan:6,hasPackNoSearch:!0,packRowHeight:5,fields:t.searchFields},on:{getAllSearchParams:t.queryData}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"导出",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteWhsOutGrid-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"whsoutNo",label:"出库单号",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){return t.editTab(e.row)}}},[t._v(t._s(e.row.whsoutNo))])}}])}),t._v(" "),a("pm_column",{attrs:{prop:"remarkMain",label:"主档备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstName",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"deliveryName",label:"提货单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"vehicleNumber",label:"提货车牌号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"出库状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstPackNo",label:"卡号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"number",label:"数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"stackName",label:"库位",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"costDays",label:"仓储天数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"transferTimes",label:"过户次数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"costTime",label:"货主入库时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"floorNum",label:"层数",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"slinger",label:"吊机工",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsManager",label:"仓管",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"transceiver",label:"收发人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"明细备注",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂日期",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"packType",label:"包装方式",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"packDesc",label:"包装描述",width:"150"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"tac",staticStyle:{position:"relation",height:"92%"}},[a("el-col",{staticStyle:{height:"100%"},attrs:{span:24}},[a("h5",{staticStyle:{margin:"10px"}},[t._v(t._s(t.labelName))]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"}},[a("el-scrollbar",{style:t.realStyle},t._l(t.data,function(e){return a("div",{key:e[t.valueKey],on:{click:function(a){return t.classClick(e)}}},[a("el-menu-item",{attrs:{index:e[t.valueKey]}},[a("i",{staticClass:"el-icon-news"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e[t.filedName]))])])],1)}),0)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{packRowHeight:5,fields:t.searchFields},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addWin}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-edit",btnClickFunc:t.btn_del}})],1),t._v(" "),a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"weight",label:"重量",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"adjustmentType",label:"理算方式",width:"200",placeholder:""}}),t._v(" "),a("pm_column",{attrs:{prop:"producingArea",label:"产地",placeholder:""}})],1),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)",margin:"3px 5px 0 0"},attrs:{width:"240px"}},[a("pm_dicMenu",{attrs:{classClick:t.changeClass,labelName:"字典分类",menuStyle:"position:absolute;top:0;bottom:0;left:0;right:0;",filedName:"className",valueKey:"className",data:t.dicClassList}})],1),t._v(" "),a("el-container",[a("el-main",[a("pm_tool_bar",[a("pm_toolButton",{attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addWin,btnDisabled:t.disableButton}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-edit",btnClickFunc:t.deleteInfo,btnDisabled:t.disableButton}})],1),t._v(" "),a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config}},[a("pm_column",{attrs:{prop:"classCode",label:"分类编号",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"className",label:"分类名称",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"itemName",label:"字典项名称",width:"150"}}),t._v(" "),a("pm_column",{attrs:{prop:"itemValue",label:"字典项值",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"deleteFlag",label:"状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注"}})],1),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getDicInfo}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",{staticClass:"edit_padding"},[a("pm_form_render",{ref:"inFrom",attrs:{model:t.formModel,rules:t.rules,entity:t.config.entity,formReadOnly:t.formReadOnly}},[a("pm_form_item",{attrs:{row:"1",labletext:"入库单号",name:"whsinCode",span:6,xtype:"text",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"货主单位",name:"cstId",span:6,xtype:"search_select_input",lableWidth:"90px",required:""}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"入库方式",name:"whsinType",span:6,xtype:"select",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"1",labletext:"入库类型",name:"whsinStyle",span:6,xtype:"select",lableWidth:"70px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"制单人",name:"creatorNameTime",span:6,xtype:"text",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"审核人",name:"auditorNameTime",span:6,xtype:"text",lableWidth:"75px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"入库通知单号",name:"billAttachmentId",span:6,xtype:"text",lableWidth:"100px"}}),t._v(" "),a("pm_form_item",{attrs:{row:"2",labletext:"入库状态",name:"status",span:6,xtype:"select",lableWidth:"70px",readOnly:!0}}),t._v(" "),a("pm_form_item",{attrs:{row:"3",labletext:"备注",name:"remark",span:24,xtype:"textarea",lableWidth:"70px",rowHeight:2}})],1),t._v(" "),a("pm_upload",{ref:"upload",attrs:{btnIcon:"el-icon-upload2",fileList:t.formModel.fileList},on:{"update:fileList":function(e){return t.$set(t.formModel,"fileList",e)},"update:file-list":function(e){return t.$set(t.formModel,"fileList",e)}}}),t._v(" "),a("pm_tool_bar",[a("pm_toolButton",{ref:"downExcel",attrs:{btnName:"下载导入模板",btnIcon:"el-icon-download",btnClickFunc:t.downImportModel}}),t._v(" "),a("pm_upload",{ref:"uploadExcel",attrs:{btnIcon:"el-icon-upload2",labelName:"导入",IsShow:!1,isSingle:!0,request:t.uploadExcel}}),t._v(" "),a("pm_toolButton",{ref:"addDetail",attrs:{btnName:"添加明细",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addDetail}}),t._v(" "),a("pm_toolButton",{ref:"duplicate",attrs:{btnName:"复制",btnIcon:"el-icon-news",btnClickFunc:t.copyRows}}),t._v(" "),a("pm_toolButton",{ref:"remove",attrs:{btnName:"移除",btnIcon:"el-icon-remove-outline",btnClickFunc:t.deleteRows}})],1)],1)],1),t._v(" "),a("metro_page_box",[a("metro_page_box_body",[a("pm_table",{ref:"pmTable",attrs:{dataSource:t.dataSource,config:t.config,bottomHeight:170}},[a("pm_column",{attrs:{prop:"cardNo",label:"卡号",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"packNo",label:"捆包号",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"brandId",label:"品名",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"textureId",label:"材质",width:"200",watchField:"brandId",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"spec",label:"规格",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"producingId",label:"产地",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"calcType",label:"计重方式",width:"200",cellCanEdit:t.cellCanEdit,required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"measurementUnit",label:"数量单位",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"amount",label:"数量",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"netWeight",label:"净重",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"grossWeight",label:"毛重",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"poundWeight",label:"磅重",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"unitNumber",label:"单包支数",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsCalcStackId",label:"库区",width:"200",parentPropName:"whsRoomId",childPropName:"whsAreaId",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"whsStackName",label:"库位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsLayer",label:"入库层",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"transceiver",label:"收发人",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"slinger",label:"吊机工",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsManager",label:"仓管",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"manufactureTime",label:"出厂时间",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"transportCode",label:"车船号",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"whsinTime",label:"首入库时间",width:"200",required:""}}),t._v(" "),a("pm_column",{attrs:{prop:"stoveCode",label:"炉号",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1),t._v(" "),a("pm_tool_bar",{attrs:{noBackground:!0}},[a("pm_toolButton",{ref:"add",attrs:{btnName:"保存",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.saveInfo}}),t._v(" "),a("pm_toolButton",{ref:"save",attrs:{btnName:"保存并审核",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.saveAndAuditInfo}}),t._v(" "),a("pm_toolButton",{ref:"btn_print",attrs:{btnName:"打印",btnIcon:"el-icon-printer",btnClickFunc:t.printInfo}}),t._v(" "),a("pm_toolButton",{ref:"cost",attrs:{btnName:"结算",btnIcon:"el-icon-tickets",btnClickFunc:t.settleInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"关闭",btnIcon:"el-icon-error",btnClickFunc:t.closeWin}})],1)],1)],1),t._v(" "),a("noteWhsInPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"}),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"30%"},on:{"update:title":function(e){t.dialogTitle=e},"update:visible":function(e){t.dialogVisible=e}}},[t._l(t.dialogContent,function(e){return a("div",{key:e.id},[t._v(t._s(e))])}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("metro_page",[a("metro_page_box",[a("metro_page_box_body",[a("pm_search",{ref:"pm_search",attrs:{hasPackNoSearch:!0,packRowHeight:3,btnOffset:10,packNoSearchSpan:6,fields:t.searchFields,entity:t.config.entity},on:{getAllSearchParams:t.queryData}})],1)],1),t._v(" "),a("metro_page_box",[a("pm_tool_bar",[a("pm_toolButton",{ref:"btn_add",attrs:{btnName:"新增",btnPermission:"btn_add",btnIcon:"el-icon-circle-plus-outline",btnClickFunc:t.addTab}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"作废",btnPermission:"btn_del",btnIcon:"el-icon-delete",btnClickFunc:t.deleteInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"审核",btnPermission:"btn_lock",btnIcon:"pm-font pm-icon-Lock",btnClickFunc:t.lockInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"解锁",btnPermission:"btn_unlock",btnIcon:"pm-font pm-icon-lockopen",btnClickFunc:t.unLockInfo}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"打印",btnPermission:"btn_print",btnIcon:"el-icon-printer",btnClickFunc:t.printFunc}}),t._v(" "),a("pm_toolButton",{attrs:{btnName:"导出",btnPermission:"btn_export",btnIcon:"el-icon-document",btnClickFunc:t.exportFunc}})],1),t._v(" "),a("metro_page_box_body",[t.reload?a("pm_table",{ref:"pmTable",attrs:{tableKey:"NoteLockManage-pmTable",reload:t.afterSetting,dataSource:t.dataSource,totalData:t.totalData,config:t.config}},[a("pm_column",{attrs:{prop:"lockNo",label:"锁定单号",width:"120"}}),t._v(" "),a("pm_column",{attrs:{prop:"cstName",label:"货主单位",width:"200"}}),t._v(" "),a("pm_column",{attrs:{prop:"status",label:"锁定状态",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"creatorName",label:"制单人",width:"110"}}),t._v(" "),a("pm_column",{attrs:{prop:"createTime",label:"制单时间",width:"140"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalAmount",label:"总数量",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalNetWeight",label:"总净重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalGrossWeight",label:"总毛重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"totalPoundWeight",label:"总磅重",width:"100"}}),t._v(" "),a("pm_column",{attrs:{prop:"remark",label:"备注",width:"200"}})],1):t._e(),t._v(" "),a("pm_pagination",{ref:"pager",attrs:{totalSize:t.totalSize,queryData:t.getList}}),t._v(" "),a("noteLockPrint",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"print"})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("html",{attrs:{id:t.key}},[t._m(0),t._v(" "),a("body",[a("div",[a("div",{staticClass:"cont",attrs:{id:"printDiv"}},[a("div",{staticClass:"title"},[t._v("出库单")]),t._v(" "),a("div",{staticClass:"contractInfor clearfix"},[a("ul",{staticClass:"fl"},[a("li",[a("label",[t._v("出库单号：")]),a("span",[t._v(t._s(t.mainInfo.whsoutNo))])]),t._v(" "),a("li",[a("label",[t._v("仓库：")]),a("span",[t._v(t._s(t.mainInfo.whsInfo.name))])]),t._v(" "),a("li",[a("label",[t._v("出库时间：")]),a("span",[t._v(t._s(t.mainInfo.createTime))])])]),t._v(" "),a("ul",{staticClass:"fr"},[a("li",[a("label",[t._v("货主：")]),a("span",[t._v(t._s(t.mainInfo.cstId))])]),t._v(" "),a("li",[a("label",[t._v("出库状态：")]),a("span",[t._v(t._s(t.mainInfo.status))])]),t._v(" "),a("li",[a("label",[t._v("提货车号：")]),a("span",[t._v(t._s(t.mainInfo.vNum))])]),t._v(" "),a("li",[a("label",[t._v("制单人：")]),a("span",[t._v(t._s(t.mainInfo.creatorName))])])])]),t._v(" "),a("div",{staticClass:"content",attrs:{deep:"1"}},[a("div",{staticClass:"text"},[a("table",{staticClass:"contentTable",staticStyle:{"margin-top":"10px"}},[t._m(1),t._v(" "),a("tbody",t._l(t.detailInfo,function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.cstPackNo))]),t._v(" "),a("td",[t._v(t._s(e.packNo))]),t._v(" "),a("td",[t._v(t._s(e.brandId))]),t._v(" "),a("td",[t._v(t._s(e.textureId))]),t._v(" "),a("td",[t._v(t._s(e.spec))]),t._v(" "),a("td",[t._v(t._s(e.producingId))]),t._v(" "),a("td",[t._v(t._s(e.number))]),t._v(" "),a("td",[t._v(t._s(e.calcType))]),t._v(" "),a("td",[t._v(t._s(e.netWeight))]),t._v(" "),a("td",[t._v(t._s(e.stack))]),t._v(" "),a("td",[t._v(t._s(e.remark))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",[t._v("合计")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.mainInfo.allNumber))]),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.mainInfo.totalNetWeight))]),t._v(" "),a("td"),t._v(" "),a("td")])])])])]),t._v(" "),a("div",{staticClass:"bot"},[a("table",[a("tbody",[a("tr",[a("td",[t._v("说明："+t._s(t.mainInfo.remark))]),a("td",{attrs:{colspan:"3"}})]),t._v(" "),a("tr",[a("td",{attrs:{width:"70"}},[t._v("仓库单位：")]),a("td",[t._v(t._s(t.mainInfo.whsInfo.name))]),t._v(" "),a("td",{attrs:{width:"70"}},[t._v("联系电话：")]),a("td",{attrs:{width:"150"}},[t._v(t._s(t.mainInfo.whsInfo.phone))])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("head",[a("meta",{attrs:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}),t._v(" "),a("title",[t._v("出库单")]),t._v(" "),a("meta",{attrs:{"http-equiv":"X-UA-Compatible",content:"IE=Edge,chrome=1"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"35px"}},[t._v("序号")]),t._v(" "),a("th",[t._v("卡号")]),t._v(" "),a("th",[t._v("捆包号")]),t._v(" "),a("th",[t._v("品种")]),t._v(" "),a("th",[t._v("材质(钢种)")]),t._v(" "),a("th",{staticStyle:{width:"50px"}},[t._v("规格")]),t._v(" "),a("th",[t._v("产地")]),t._v(" "),a("th",[t._v("数量")]),t._v(" "),a("th",[t._v("计重方式")]),t._v(" "),a("th",[t._v("净重")]),t._v(" "),a("th",[t._v("库位")]),t._v(" "),a("th",[t._v("备注")])])])}]}}]));
//# sourceMappingURL=0.6de4839e820b45b02c25.js.map